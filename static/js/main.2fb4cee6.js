/*! For license information please see main.2fb4cee6.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,u=i.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}s.prototype={constructor:s,register:function(e,t,n){var i=this.queries,s=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,s)),o(t)&&(t={match:t}),u(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=s},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},477:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r="Expected a function",i=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,d=f||h||Function("return this")(),p=Object.prototype.toString,v=Math.max,y=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==a}(e))return i;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):u.test(e)?i:+e}e.exports=function(e,t,n){var i,a,o,u,s,c,l=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var n=i,r=a;return i=a=void 0,l=t,u=e.apply(r,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=o}function w(){var e=m();if(b(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-c);return h?y(n,o-(e-l)):n}(e))}function _(e){return s=void 0,d&&i?p(e):(i=a=void 0,u)}function x(){var e=m(),n=b(e);if(i=arguments,a=this,c=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(w,t),f?p(e):u}(c);if(h)return s=setTimeout(w,t),p(c)}return void 0===s&&(s=setTimeout(w,t)),u}return t=k(t)||0,g(n)&&(f=!!n.leading,o=(h="maxWait"in n)?v(k(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=a=s=void 0},x.flush=function(){return void 0===s?u:_(m())},x}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Oe(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Ot=null,At=null,Rt=new Map,Nt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Ot&&jt(Ot)&&(Ot=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Ut),Nt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Ot&&zt(Ot,e),null!==At&&zt(At,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Rn),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Or=Er("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Dr=Rr[Pr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Tr:case Ir:case Cr:s=mn;break;case Or:s=An;break;case"scroll":s=hn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Xn;else if(Hn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ne(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Oi=Si(!1),Ai=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Oi),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Oi,Oi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ci),Ti(Ci,e)):Ei(Oi),Ti(Oi,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Os)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function No(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),yo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Iu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ni(n)?Ai:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Ni(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Oi.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Ni(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Oi.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Nu,Pu,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rc(r,e,i,-1))}return yc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Nu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):yc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Pu(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return _a(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ys(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(y){Ec(e,e.return,y)}try{rs(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ys(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(ys(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(ys(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:ys(t,e),gs(e);break;case 13:ys(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ys(t,e),Yu=l):ys(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ys(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Xu=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Ts=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Os=0,As=null,Rs=null,Ns=0,Ps=0,Ds=Si(0),Ls=0,Ms=null,Fs=0,js=0,Us=0,Vs=null,zs=null,Bs=0,qs=1/0,Hs=null,Ws=!1,Ks=null,Gs=null,Qs=!1,$s=null,Xs=0,Ys=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Os)?Ye():-1!==Zs?Zs:Zs=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));mt(e,n,r),0!==(2&Os)&&e===As||(e===As&&(0===(2&Os)&&(js|=n),4===Ls&&sc(e,Ns)),ic(e,r),1===n&&0===Os&&0===(1&t.mode)&&(qs=Ye()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Os)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Os))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Os;Os|=2;var o=vc();for(As===e&&Ns===t||(Hs=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ts.current=o,Os=i,null!==Rs?t=0:(As=null,Ns=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Hs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Hs),t);break}_c(e,zs,Hs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Hs),r);break}_c(e,zs,Hs);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Os))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Hs),ic(e,Ye()),null}function lc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs=Ye()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Os)&&xc();var t=Os;Os|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Os=t))&&Bi()}}function hc(){Ps=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Oi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Rs=e=Dc(e.current,null),Ns=Ps=t,Ls=0,Ms=null,Us=js=Fs=0,zs=Vs=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function yc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&Fs)&&0===(268435455&js)||sc(As,Ns)}function mc(e,t){var n=Os;Os|=2;var r=vc();for(As===e&&Ns===t||(Hs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Os=n,Ts.current=r,null!==Rs)throw Error(a(261));return As=null,Ns=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!$e();)bc(Rs)}function bc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Is.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ps)))return void(Rs=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==$s);if(0!==(6&Os))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Os;Os|=4,Is.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),Os=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Xs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&Xs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==$s){var e=bt(Xs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Xs=0,0!==(6&Os))throw Error(a(331));var i=Os;for(Os|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Os=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Ls||3===Ls&&(130023424&Ns)===Ns&&500>Ye()-Bs?dc(e,0):Us|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oa(e,t))&&(mt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Nc(13,n,t,i)).elementType=O,e.lanes=o,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case R:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ti(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Oi.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Hu(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Os)&&(qs=Ye()+500,Bi()))}break;case 13:fc((function(){var t=Oa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Oa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,S=n[2]||l,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:S,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(S)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var k=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",s({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=k;var b=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",s({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=b},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,r,u=h(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),u.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,u=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,y={onMouseEnter:n,onMouseOver:r,onMouseLeave:u},m=[],g=0;g<v;g++){var k=(g+1)*f-1,b=l?k:(0,o.clamp)(k,0,d-1),w=b-(f-1),_=l?w:(0,o.clamp)(w,0,d-1),x=(0,a.default)({"slick-active":l?p>=_&&p<=b:p===_}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);m=m.concat(i.default.createElement("li",{key:g,className:x},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(m),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},y))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent);t.Dots=p},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),u=n(26),s=n(931),c=n(800),l=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(_,e);var t,n,h,y=b(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),x(w(t=y.call(this,e)),"listRefHandler",(function(e){return t.list=e})),x(w(t),"trackRefHandler",(function(e){return t.track=e})),x(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,u.getHeight)(e)+"px"}})),x(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=m({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),x(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),x(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,u.getOnDemandLazySlides)(m(m({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=m(m({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),x(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),x(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=m(m({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),x(w(t),"updateState",(function(e,n,i){var a=(0,u.initializedState)(e);e=m(m(m({},e),a),{},{slideIndex:a.currentSlide});var o=(0,u.getTrackLeft)(e);e=m(m({},e),{},{left:o});var s=(0,u.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=s),t.setState(a,i)})),x(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,u.getPreClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,u.getPostClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var s=0;s<a;s++)n+=i[i.length-1-s],e+=i[i.length-1-s];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=m(m(m({},t.props),t.state),{},{slideCount:d}),v=(0,u.getPreClones)(p)+(0,u.getPostClones)(p)+d,y=100/t.props.slidesToShow*v,g=100/v,k=-g*((0,u.getPreClones)(p)+t.state.currentSlide)*y/100;return t.props.centerMode&&(k+=(100-g*y/100)/2),{slideWidth:g+"%",trackStyle:{width:y+"%",left:k+"%"}}})),x(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),x(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=m(m({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,u.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,u.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),x(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,s=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,u.slideHandler)(m(m(m({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),s))}))}})),x(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=m(m({},t.props),t.state),i=(0,u.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),x(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),x(w(t),"keyHandler",(function(e){var n=(0,u.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),x(w(t),"selectHandler",(function(e){t.changeSlide(e)})),x(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),x(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),x(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,u.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),x(w(t),"swipeMove",(function(e){var n=(0,u.swipeMove)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),x(w(t),"swipeEnd",(function(e){var n=(0,u.swipeEnd)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),x(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),x(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),x(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),x(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),x(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,u.canGoNext)(m(m({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),x(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),x(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),x(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),x(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),x(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=m(m({},t.props),t.state),h=(0,u.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=m(m({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,u.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),y=t.props.pauseOnDotsHover;v=m(m({},v),{},{clickHandler:t.changeSlide,onMouseEnter:y?t.onDotsLeave:null,onMouseOver:y?t.onDotsOver:null,onMouseLeave:y?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,u.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var k=null;t.props.vertical&&(k={height:t.state.listHeight});var b=null;!1===t.props.vertical?!0===t.props.centerMode&&(b={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(b={padding:t.props.centerPadding+" 0px"});var w=m(m({},k),b),_=t.props.touchMove,x={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(x={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},x),r.default.createElement(s.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=m(m({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=m(m({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component);t.InnerSlider=S},178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(791)),a=n(293),o=c(n(477)),u=c(n(484)),s=n(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,s.canUseDOM)()&&n(153),b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g(y(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),g(y(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),g(y(t),"slickNext",(function(){return t.innerSlider.slickNext()})),g(y(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),g(y(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),g(y(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){k.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){k.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},u.default),this.props),t[0].settings):h(h({},u.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],s=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(s=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:s}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var y="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:y},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=b},931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=u(n(791)),a=u(n(694)),o=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},g=function(e,t){return e.key||t},k=function(e){var t,n=[],r=[],u=[],s=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var y=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:h})),k=d.props.className||"",b=m(v(v({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+g(d,h),"data-index":h,className:(0,a.default)(b,k),tabIndex:"-1","aria-hidden":!b["slick-active"],style:v(v({outline:"none"},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=s-h;w<=(0,o.getPreClones)(e)&&s!==e.slidesToShow&&((t=-w)>=c&&(d=f),b=m(v(v({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,k),"aria-hidden":!b["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),s!==e.slidesToShow&&((t=s+h)<l&&(d=f),b=m(v(v({},e),{},{index:t})),u.push(i.default.cloneElement(d,{key:"postcloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(b,k),"aria-hidden":!b["slick-active"],style:v(v({},d.props.style||{}),y),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,u).reverse():r.concat(n,u)},b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=a.call.apply(a,[this].concat(n))),"node",null),y(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=k(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=b},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=s,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var y=function(e){return e&&e.offsetHeight||0};t.getHeight=y;var m=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=m;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),u=e.trackRef&&e.trackRef.node,s=Math.ceil(v(u));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&y(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:s,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,u=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,y=e.lazyLoadedList;if(t&&n)return{};var m,k,b,w=a,_={},T={},I=i?a:s(a,0,u-1);if(r){if(!i&&(a<0||a>=u))return{};a<0?w=a+u:a>=u&&(w=a-u),c&&y.indexOf(w)<0&&(y=y.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:y,targetSlide:w},T={animating:!1,targetSlide:w}}else m=w,w<0?(m=w+u,i?u%d!==0&&(m=u-u%d):m=0):!g(e)&&w>f?w=m=f:h&&w>=u?(w=i?u:u-1,m=i?0:u-1):w>=u&&(m=w-u,i?u%d!==0&&(m=0):m=u-p),!i&&w+p>=u&&(m=u-p),k=E(o(o({},e),{},{slideIndex:w})),b=E(o(o({},e),{},{slideIndex:m})),i||(k===b&&(w=m),k=b),c&&(y=y.concat(l(o(o({},e),{},{currentSlide:w})))),v?(_={animating:!0,currentSlide:m,trackStyle:S(o(o({},e),{},{left:k})),lazyLoadedList:y,targetSlide:I},T={animating:!1,currentSlide:m,trackStyle:x(o(o({},e),{},{left:b})),swipeLeft:null,targetSlide:I}):_={currentSlide:m,trackStyle:x(o(o({},e),{},{left:b})),lazyLoadedList:y,targetSlide:I};return{state:_,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,u=e.slidesToScroll,s=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%u!==0?0:(c-l)%u,"previous"===t.message)a=l-(i=0===n?u:s-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-u);else if("next"===t.message)a=l+(i=0===n?u:n),h&&!d&&(a=(l+u)%c+n),d||(a=f+u);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,u=t.verticalSwiping,s=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,y=t.slideCount,k=t.slidesToScroll,b=t.infinite,w=t.touchObject,_=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&a&&u&&c(e);var I,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var A=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!u&&!v&&A>10)return{scrolling:!0};u&&(w.swipeLength=A);var R=(s?-1:1)*(w.curX>w.startX?1:-1);u&&(R=w.curY>w.startY?1:-1);var N=Math.ceil(y/k),P=m(t.touchObject,u),D=w.swipeLength;return b||(0===l&&("right"===P||"down"===P)||l+1>=N&&("left"===P||"up"===P)||!g(t)&&("left"===P||"up"===P))&&(D=w.swipeLength*f,!1===h&&d&&(d(P),C.edgeDragged=!0)),!p&&_&&(_(P),C.swiped=!0),I=i?O+D*(S/T)*R:s?O-D*R:O+D*R,u&&(I=O+D*R),C=o(o({},C),{},{touchObject:w,swipeLeft:I,trackStyle:x(o(o({},t),{},{left:I}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,u=t.touchThreshold,s=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,y=t.infinite;if(!n)return r&&c(e),{};var g=s?l/u:a/u,k=m(i,s),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var x,T;c(e),d&&d(k);var I=y?v:p;switch(k){case"left":case"up":T=I+w(t),x=f?b(t,T):T,_.currentDirection=0;break;case"right":case"down":T=I-w(t),x=f?b(t,T):T,_.currentDirection=1;break;default:x=I}_.triggerSlideHandler=x}else{var C=E(t);_.trackStyle=S(o(o({},t),{},{left:C}))}return _};var k=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=k;var b=function(e,t){var n=k(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=b;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var _=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:u,msTransform:s})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var S=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,u=e.slideCount,s=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var y=0;if(a?(y=-T(e),u%c!==0&&r+c>u&&(y=-(r>u?s-(r-u):u%c)),o&&(y+=parseInt(s/2))):(u%c!==0&&r+c>u&&(y=s-u%c),o&&(y=parseInt(s/2))),t=v?r*d*-1+y*d:r*l*-1+y*l,!0===h){var m,g=i&&i.node;if(m=r+T(e),t=(n=g&&g.childNodes[m])?-1*n.offsetLeft:0,!0===o){m=a?r+T(e):r,n=g&&g.children[m],t=0;for(var k=0;k<m;k++)t-=g&&g.children[k]&&g.children[k].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var I=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=I;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-R(e)?"right":"left"};t.siblingDirection=O;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=A;var R=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=R;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=O(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},u=2;var s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&c()}function s(){o(a)}function c(){var e=Date.now();if(n){if(e-i<u)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),f=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},d=k(0,0,0,0);function p(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=h(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=p(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,u=p(r.width),s=p(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=v(r,"left","right")+a),Math.round(s+o)!==n&&(s-=v(r,"top","bottom")+o)),!function(e){return e===h(e).document.documentElement}(e)){var c=Math.round(u+a)-t,l=Math.round(s+o)-n;1!==Math.abs(c)&&(u-=c),1!==Math.abs(l)&&(s-=l)}return k(i.left,i.top,u,s)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?m(e)?function(e){var t=e.getBBox();return k(0,0,t.width,t.height)}(e):y(e):d}function k(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return f(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);f(this,{target:e,contentRect:n})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new _(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var E="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:S;t.default=E},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=A,x=function(){N.postMessage(null)}}else x=function(){m(A,0)};function P(e){E=e,S||(S=!0,x())}function D(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".388b3a9d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="hotstar-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/hotstar-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkhotstar_clone=self.webpackChunkhotstar_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yn},SDK_VERSION:function(){return Cr},_DEFAULT_ENTRY_NAME:function(){return vr},_addComponent:function(){return kr},_addOrOverwriteComponent:function(){return br},_apps:function(){return mr},_clearComponents:function(){return Sr},_components:function(){return gr},_getProvider:function(){return _r},_registerComponent:function(){return wr},_removeServiceInstance:function(){return xr},deleteApp:function(){return Nr},getApp:function(){return Ar},getApps:function(){return Rr},initializeApp:function(){return Or},onLog:function(){return Lr},registerVersion:function(){return Dr},setLogLevel:function(){return Mr}});var t=n(791),r=n(250),i=n(248),a=n(327),o=n(164);var u=function(e){e()},s=function(){return u},c=(0,t.createContext)(null);function l(){return(0,t.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=h(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var v=p(),y=n(110),m=n.n(y);n(900);var g={notify:function(){},get:function(){return[]}};function k(e,t){var n,r=g;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:function(){return r}};return o}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var w=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=k(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);b((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||c;return t.createElement(s.Provider,{value:o},i)};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=_();function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?x:_(e);return function(){return t().dispatch}}var E,T=S();function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function C(e){return!!e&&!!e[me]}function O(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ge}(e)||Array.isArray(e)||!!e[ye]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ye])||M(e)||F(e))}function A(e,t,n){void 0===n&&(n=!1),0===R(e)?(n?Object.keys:ke)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function R(e){var t=e[me];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M(e)?2:F(e)?3:0}function N(e,t){return 2===R(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return 2===R(e)?e.get(t):e[t]}function D(e,t,n){var r=R(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function L(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function M(e){return he&&e instanceof Map}function F(e){return de&&e instanceof Set}function j(e){return e.o||e.t}function U(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=be(e);delete t[me];for(var n=ke(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),B(e)||C(e)||!O(e)||(R(e)>1&&(e.set=e.add=e.clear=e.delete=z),Object.freeze(e),t&&A(e,(function(e,t){return V(t,!0)}),!0)),e}function z(){I(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function q(e){var t=we[e];return t||I(18,e),t}function H(e,t){we[e]||(we[e]=t)}function W(){return le}function K(e,t){t&&(q("Patches"),e.u=[],e.s=[],e.v=t)}function G(e){Q(e),e.p.forEach(X),e.p=null}function Q(e){e===le&&(le=e.l)}function $(e){return le={p:[],l:le,h:e,m:!0,_:0}}function X(e){var t=e[me];0===t.i||1===t.i?t.j():t.O=!0}function Y(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||q("ES5").S(t,e,r),r?(n[me].P&&(G(t),I(4)),O(e)&&(e=J(t,e),t.l||ee(t,e)),t.u&&q("Patches").M(n[me].t,e,t.u,t.s)):e=J(t,n,[]),G(t),t.u&&t.v(t.u,t.s),e!==ve?e:void 0}function J(e,t,n){if(B(t))return t;var r=t[me];if(!r)return A(t,(function(i,a){return Z(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ee(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=U(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),A(a,(function(t,a){return Z(e,r,i,t,a,n,o)})),ee(e,i,!1),n&&e.u&&q("Patches").N(r,n,e.u,e.s)}return r.o}function Z(e,t,n,r,i,a,o){if(C(i)){var u=J(e,i,a&&t&&3!==t.i&&!N(t.R,r)?a.concat(r):void 0);if(D(n,r,u),!C(u))return;e.m=!1}else o&&n.add(i);if(O(i)&&!B(i)){if(!e.h.D&&e._<1)return;J(e,i),t&&t.A.l||ee(e,i)}}function ee(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&V(t,n)}function te(e,t){var n=e[me];return(n?j(n):e)[t]}function ne(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function re(e){e.P||(e.P=!0,e.l&&re(e.l))}function ie(e){e.o||(e.o=U(e.t))}function ae(e,t,n){var r=M(t)?q("MapSet").F(t,n):F(t)?q("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:W(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=_e;n&&(i=[r],a=xe);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):q("ES5").J(t,n);return(n?n.A:W()).p.push(r),r}function oe(e){return C(e)||I(22,e),function e(t){if(!O(t))return t;var n,r=t[me],i=R(t);if(r){if(!r.P&&(r.i<4||!q("ES5").K(r)))return r.t;r.I=!0,n=ue(t,i),r.I=!1}else n=ue(t,i);return A(n,(function(t,i){r&&P(r.t,t)===i||D(n,t,e(i))})),3===i?new Set(n):n}(e)}function ue(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return U(e)}function se(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[me];return _e.get(t,e)},set:function(t){var n=this[me];_e.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][me];if(!i.P)switch(i.i){case 5:r(i)&&re(i);break;case 4:n(i)&&re(i)}}}function n(e){for(var t=e.t,n=e.k,r=ke(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==me){var o=t[a];if(void 0===o&&!N(t,a))return!0;var u=n[a],s=u&&u[me];if(s?s.t!==o:!L(u,o))return!0}}var c=!!t[me];return r.length!==ke(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};H("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=be(n);delete a[me];for(var o=ke(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:W(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,me,{value:a,writable:!0}),i},S:function(e,n,i){i?C(n)&&n[me].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[me];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)A(a,(function(t){t!==me&&(void 0!==i[t]||N(i,t)?o[t]||e(a[t]):(o[t]=!0,re(n)))})),A(i,(function(e){void 0!==a[e]||N(a,e)||(o[e]=!1,re(n))}));else if(5===u){if(r(n)&&(re(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){h=e}(a.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),E=o.unstable_batchedUpdates,u=E;var ce,le,fe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),he="undefined"!=typeof Map,de="undefined"!=typeof Set,pe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ve=fe?Symbol.for("immer-nothing"):((ce={})["immer-nothing"]=!0,ce),ye=fe?Symbol.for("immer-draftable"):"__$immer_draftable",me=fe?Symbol.for("immer-state"):"__$immer_state",ge=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ke="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,be=Object.getOwnPropertyDescriptors||function(e){var t={};return ke(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},we={},_e={get:function(e,t){if(t===me)return e;var n=j(e);if(!N(n,t))return function(e,t,n){var r,i=ne(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!O(r)?r:r===te(e.t,t)?(ie(e),e.o[t]=ae(e.A.h,r,e)):r},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,n){var r=ne(j(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=te(j(e),t),a=null==i?void 0:i[me];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(L(n,i)&&(void 0!==n||N(e.t,t)))return!0;ie(e),re(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==te(e.t,t)||t in e.t?(e.R[t]=!1,ie(e),re(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=j(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){I(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){I(12)}},xe={};A(_e,(function(e,t){xe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),xe.deleteProperty=function(e,t){return xe.set.call(this,e,t,void 0)},xe.set=function(e,t,n){return _e.set.call(this,e[0],t,n,e[0])};var Se=function(){function e(e){var t=this;this.g=pe,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&I(6),void 0!==r&&"function"!=typeof r&&I(7),O(e)){var u=$(t),s=ae(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?G(u):Q(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return K(u,r),Y(e,u)}),(function(e){throw G(u),e})):(K(u,r),Y(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===ve&&(o=void 0),t.D&&V(o,!0),r){var l=[],f=[];q("Patches").M(e,o,l,f),r(l,f)}return o}I(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){O(e)||I(8),C(e)&&(e=oe(e));var t=$(this),n=ae(this,e,void 0);return n[me].C=!0,Q(t),n},t.finishDraft=function(e,t){var n=(e&&e[me]).A;return K(n,t),Y(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!pe&&I(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=q("Patches").$;return C(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ee=new Se,Te=Ee.produce,Ie=(Ee.produceWithPatches.bind(Ee),Ee.setAutoFreeze.bind(Ee),Ee.setUseProxies.bind(Ee),Ee.applyPatches.bind(Ee),Ee.createDraft.bind(Ee),Ee.finishDraft.bind(Ee),Te);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Oe(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ce(t)?t:String(t)}function Ae(e,t,n){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var De="function"===typeof Symbol&&Symbol.observable||"@@observable",Le=function(){return Math.random().toString(36).substring(7).split("").join(".")},Me={INIT:"@@redux/INIT"+Le(),REPLACE:"@@redux/REPLACE"+Le(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Le()}};function Fe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function je(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pe(1));return n(je)(e,t)}if("function"!==typeof e)throw new Error(Pe(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Pe(3));return a}function f(e){if("function"!==typeof e)throw new Error(Pe(4));if(s)throw new Error(Pe(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Pe(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Fe(e))throw new Error(Pe(7));if("undefined"===typeof e.type)throw new Error(Pe(8));if(s)throw new Error(Pe(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Me.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Pe(10));i=e,h({type:Me.REPLACE})}})[De]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[De]=function(){return this},e},r}function Ue(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Me.INIT}))throw new Error(Pe(12));if("undefined"===typeof n(void 0,{type:Me.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Pe(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ve.apply(void 0,a)(n.dispatch),Ne(Ne({},n),{},{dispatch:r})}}}function Be(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var qe=Be();qe.withExtraArgument=Be;var He=qe,We=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ge=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Qe=Object.defineProperty,$e=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,et=function(e,t,n){return t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},tt=function(e,t){for(var n in t||(t={}))Je.call(t,n)&&et(e,n,t[n]);if(Ye)for(var r=0,i=Ye(t);r<i.length;r++){n=i[r];Ze.call(t,n)&&et(e,n,t[n])}return e},nt=function(e,t){return $e(e,Xe(t))},rt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},it="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ve:Ve.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function at(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var ot=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return We(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ge([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ge([void 0],e.concat(this))))},t}(Array);function ut(e){return O(e)?Ie(e,(function(){})):e}function st(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new ot);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(He.withExtraArgument(n.extraArgument)):r.push(He));0;return r}(e)}}var ct=!0;function lt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return tt(tt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ft(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function ht(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ut(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ft(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=tt(tt({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ft(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ut(e())};else{var c=ut(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Ge([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(C(e))return void 0===(r=n(e,t))?e:r;if(O(e))return Ie(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?lt(c,r):lt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var dt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},pt=["name","message","stack","code"],vt=function(e,t){this.payload=e,this.meta=t},yt=function(e,t){this.payload=e,this.meta=t},mt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=pt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=lt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:nt(tt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:nt(tt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=lt(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||mt)(e||"Rejected"),meta:nt(tt({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dt(),h=new o;function d(e){l=e,h.abort()}var p=function(){return rt(this,null,(function(){var o,p,v,y,m,g;return Ke(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,y];case 1:y=k.sent(),k.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new vt(e,t)},fulfillWithValue:function(e,t){return new yt(e,t)}})).then((function(t){if(t instanceof vt)throw t;return t instanceof yt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof vt?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(gt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function gt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var kt="listenerMiddleware";lt(kt+"/add"),lt(kt+"/removeAll"),lt(kt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var bt,wt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:wt(10);se();var _t=ht({name:"movie",initialState:{movies:[]},reducers:{setMovies:function(e,t){e.movies=t.payload}}}),xt=_t.actions.setMovies,St=function(e){return e.movie.movies},Et=_t.reducer,Tt=ht({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLogin:function(e,t){e.name=t.payload.name,e.email=t.payload.email,e.photo=t.payload.photo},setSignOut:function(e){e.name=null,e.email=null,e.photo=null}}}),It=Tt.actions,Ct=It.setUserLogin,Ot=It.setSignOut,At=function(e){return e.user.name},Rt=function(e){return e.user.photo},Nt=function(e){var t,n=st(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!at(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ue(a)}var p=u;if("function"===typeof p&&(p=p(n),!ct&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!ct&&p.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=ze.apply(void 0,p),y=Ve;c&&(y=it(tt({trace:!ct},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=Ge([v],d):"function"===typeof d&&(m=d(m)),je(t,f,y.apply(void 0,m))}({reducer:{movie:Et,user:Tt.reducer}});function Pt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oe(r.key),r)}}function Mt(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e,t){if(e){if("string"===typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ut(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Vt(e){if(Array.isArray(e))return e}function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bt(e,t){return Vt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||jt(e,t)||zt()}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}function Wt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ht(e,t)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}function Gt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qt(e){var t=Gt();return function(){var n,r=Kt(e);if(t){var i=Kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}(this,n)}}function $t(e,t,n){return $t=Gt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ht(i,n.prototype),i},$t.apply(null,arguments)}function Xt(e){var t="function"===typeof Map?new Map:void 0;return Xt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $t(e,arguments,Kt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ht(n,e)},Xt(e)}var Yt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Zt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Zt=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Mt(n)}(Xt(Error)),en=function(e){return function(e){var t=Yt(e);return Jt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tn=function(e){try{return Jt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&rn(n)&&(e[n]=nn(e[n],t[n]));return e}function rn(e){return"__proto__"!==e}var an=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},on=function(){try{return an()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&tn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},un=function(){var e;return null===(e=on())||void 0===e?void 0:e.config},sn=function(){function e(){var t=this;Dt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Mt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function cn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(a)),""].join(".")}function ln(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fn(){var e,t=null===(e=on())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function hn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function dn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pn(){var e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yn=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(qt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(qt(a),mn.prototype.create),a}return Mt(n)}(Xt(Error)),mn=function(){function e(t,n,r){Dt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Mt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(gn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yn(n,a,t)}}]),e}();var gn=/\{\$([^}]+)}/g;function kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(wn(u)&&wn(s)){if(!bn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function wn(e){return null!==e&&"object"===typeof e}function _n(e){for(var t=[],n=function(){var e=Bt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function xn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Bt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Sn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function En(e,t){var n=new Tn(e,t);return n.subscribe.bind(n)}var Tn=function(){function e(t,n){var r=this;Dt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Mt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ut(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=In),void 0===r.error&&(r.error=In),void 0===r.complete&&(r.complete=In);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function In(){}function Cn(e){return e&&e._delegate?e._delegate:e}function On(){On=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Ce(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function An(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Rn(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||An(e)||jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Pn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Nn(a,r,i,o,u,"next",e)}function u(e){Nn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Dn=function(){function e(t,n,r){Dt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Mt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ln="[DEFAULT]",Mn=function(){function e(t,n){Dt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Mt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new sn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ln})}catch(s){}var t,n=Ut(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Bt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Rn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Rn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ut(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Bt(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ME){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ln?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ME){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;return this.component?this.component.multipleInstances?e:Ln:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Fn,jn,Un=function(){function e(t){Dt(this,e),this.name=t,this.providers=new Map}return Mt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Mn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jn||(jn={}));var zn={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},Bn=jn.INFO,qn=(Ae(Fn={},jn.DEBUG,"log"),Ae(Fn,jn.VERBOSE,"log"),Ae(Fn,jn.INFO,"info"),Ae(Fn,jn.WARN,"warn"),Ae(Fn,jn.ERROR,"error"),Fn),Hn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=qn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wn=function(){function e(t){Dt(this,e),this.name=t,this._logLevel=Bn,this._logHandler=Hn,this._userLogHandler=null,Vn.push(this)}return Mt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in jn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?zn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.DEBUG].concat(t)),this._logHandler.apply(this,[this,jn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,jn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.INFO].concat(t)),this._logHandler.apply(this,[this,jn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.WARN].concat(t)),this._logHandler.apply(this,[this,jn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jn.ERROR].concat(t)),this._logHandler.apply(this,[this,jn.ERROR].concat(t))}}]),e}();var Kn,Gn,Qn=function(e,t){return t.some((function(t){return e instanceof t}))};var $n=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap;var er={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function tr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gn||(Gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ir(this),n),rr($n.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rr(e.apply(ir(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ir(this),t].concat(r));return Yn.set(a,t.sort?t.sort():[t]),rr(a)}}function nr(e){return"function"===typeof e?tr(e):(e instanceof IDBTransaction&&function(e){if(!Xn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xn.set(e,t)}}(e),Qn(e,Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,er):e)}function rr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(rr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&$n.set(t,e)})).catch((function(){})),Zn.set(t,e),t}(e);if(Jn.has(e))return Jn.get(e);var t=nr(e);return t!==e&&(Jn.set(e,t),Zn.set(t,e)),t}var ir=function(e){return Zn.get(e)};var ar,or,ur=["get","getKey","getAll","getAllKeys","count"],sr=["put","add","delete","clear"],cr=new Map;function lr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(cr.get(t))return cr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=sr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ur.includes(n))){var a=function(){var e=Pn(On().mark((function e(t){var a,o,u,s,c,l,f=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return cr.set(t,a),a}}}er=function(e){return Ne(Ne({},e),{},{get:function(t,n,r){return lr(t,n)||e.get(t,n,r)},has:function(t,n){return!!lr(t,n)||e.has(t,n)}})}(er);var fr=function(){function e(t){Dt(this,e),this.container=t}return Mt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hr="@firebase/app",dr="0.9.5",pr=new Wn("@firebase/app"),vr="[DEFAULT]",yr=(Ae(ar={},hr,"fire-core"),Ae(ar,"@firebase/app-compat","fire-core-compat"),Ae(ar,"@firebase/analytics","fire-analytics"),Ae(ar,"@firebase/analytics-compat","fire-analytics-compat"),Ae(ar,"@firebase/app-check","fire-app-check"),Ae(ar,"@firebase/app-check-compat","fire-app-check-compat"),Ae(ar,"@firebase/auth","fire-auth"),Ae(ar,"@firebase/auth-compat","fire-auth-compat"),Ae(ar,"@firebase/database","fire-rtdb"),Ae(ar,"@firebase/database-compat","fire-rtdb-compat"),Ae(ar,"@firebase/functions","fire-fn"),Ae(ar,"@firebase/functions-compat","fire-fn-compat"),Ae(ar,"@firebase/installations","fire-iid"),Ae(ar,"@firebase/installations-compat","fire-iid-compat"),Ae(ar,"@firebase/messaging","fire-fcm"),Ae(ar,"@firebase/messaging-compat","fire-fcm-compat"),Ae(ar,"@firebase/performance","fire-perf"),Ae(ar,"@firebase/performance-compat","fire-perf-compat"),Ae(ar,"@firebase/remote-config","fire-rc"),Ae(ar,"@firebase/remote-config-compat","fire-rc-compat"),Ae(ar,"@firebase/storage","fire-gcs"),Ae(ar,"@firebase/storage-compat","fire-gcs-compat"),Ae(ar,"@firebase/firestore","fire-fst"),Ae(ar,"@firebase/firestore-compat","fire-fst-compat"),Ae(ar,"fire-js","fire-js"),Ae(ar,"firebase","fire-js-all"),ar),mr=new Map,gr=new Map;function kr(e,t){try{e.container.addComponent(t)}catch(n){pr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function br(e,t){e.container.addOrOverwriteComponent(t)}function wr(e){var t=e.name;if(gr.has(t))return pr.debug("There were multiple attempts to register component ".concat(t,".")),!1;gr.set(t,e);var n,r=Ut(mr.values());try{for(r.s();!(n=r.n()).done;){kr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _r(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vr;_r(e,t).clearInstance(n)}function Sr(){gr.clear()}var Er=(Ae(or={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(or,"bad-app-name","Illegal App name: '{$appName}"),Ae(or,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ae(or,"app-deleted","Firebase App named '{$appName}' already deleted"),Ae(or,"no-options","Need to provide options, when not being deployed to hosting via source."),Ae(or,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ae(or,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ae(or,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ae(or,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ae(or,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ae(or,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),or),Tr=new mn("app","Firebase",Er),Ir=function(){function e(t,n,r){var i=this;Dt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",(function(){return i}),"PUBLIC"))}return Mt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}]),e}(),Cr="9.18.0";function Or(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:vr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=un()),!n)throw Tr.create("no-options");var a=mr.get(i);if(a){if(bn(n,a.options)&&bn(r,a.config))return a;throw Tr.create("duplicate-app",{appName:i})}var o,u=new Un(i),s=Ut(gr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ir(n,r,u);return mr.set(i,l),l}function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=mr.get(e);if(!t&&e===vr)return Or();if(!t)throw Tr.create("no-app",{appName:e});return t}function Rr(){return Array.from(mr.values())}function Nr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!mr.has(n)){e.next=6;break}return mr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Dr(e,t,n){var r,i=null!==(r=yr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pr.warn(u.join(" "))}wr(new Dn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Lr(e,t){if(null!==e&&"function"!==typeof e)throw Tr.create("invalid-log-argument");!function(e,t){var n,r=Ut(Vn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=zn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:jn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Mr(e){var t;t=e,Vn.forEach((function(e){e.setLogLevel(t)}))}var Fr="firebase-heartbeat-database",jr=1,Ur="firebase-heartbeat-store",Vr=null;function zr(){return Vr||(Vr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=rr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(rr(u.result),e.oldVersion,e.newVersion,rr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Fr,jr,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ur)}}).catch((function(e){throw Tr.create("idb-open",{originalErrorMessage:e.message})}))),Vr}function Br(e){return qr.apply(this,arguments)}function qr(){return qr=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zr();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ur).objectStore(Ur).get(Kr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof yn?pr.warn(e.t0.message):(r=Tr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),qr.apply(this,arguments)}function Hr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zr();case 3:return r=e.sent,i=r.transaction(Ur,"readwrite"),a=i.objectStore(Ur),e.next=8,a.put(n,Kr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof yn?pr.warn(e.t0.message):(o=Tr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pr.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Wr.apply(this,arguments)}function Kr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Gr=1024,Qr=function(){function e(t){var n=this;Dt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Zr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Mt(e,[{key:"triggerHeartbeat",value:function(){var e=Pn(On().mark((function e(){var t,n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$r(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$r(),n=Xr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=en(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $r(){return(new Date).toISOString().substring(0,10)}function Xr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr,r=[],i=e.slice(),a=Ut(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ei(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ei(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Yr,Jr,Zr=function(){function e(t){Dt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Mt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Br(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Hr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Rn(r.heartbeats),Rn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ei(e){return en(JSON.stringify({version:2,heartbeats:e})).length}Yr="",wr(new Dn("platform-logger",(function(e){return new fr(e)}),"PRIVATE")),wr(new Dn("heartbeat",(function(e){return new Qr(e)}),"PRIVATE")),Dr(hr,dr,Yr),Dr(hr,dr,"esm2017"),Dr("fire-js","");var ti=function(){function e(t,n){var r=this;Dt(this,e),this._delegate=t,this.firebase=n,kr(t,new Dn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Mt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Nr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){kr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){br(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ni=(Ae(Jr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(Jr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Jr),ri=new mn("app-compat","Firebase",ni);var ii=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Or(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(kn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Dr,setLogLevel:Mr,onLog:Lr,apps:null,SDK_VERSION:Cr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(wr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ri.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&nn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!kn(n,e=e||vr))throw ri.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ti);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){nn(n,e)},createSubscribe:En,ErrorFactory:mn,deepExtend:nn}),n}(),ai=new Wn("@firebase/app-compat"),oi="@firebase/app-compat",ui="0.2.5";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ai.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var si=self.firebase.SDK_VERSION;si&&si.indexOf("LITE")>=0&&ai.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ci=ii;!function(e){Dr(oi,ui,e)}();function li(){return li="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},li.apply(this,arguments)}ci.registerVersion("firebase","9.18.0","app-compat");function fi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var hi;Object.create;var di={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function vi(){return Ae({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yi=function(){var e;return Ae(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ae(e,"argument-error",""),Ae(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ae(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ae(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ae(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ae(e,"cordova-not-ready","Cordova framework is not ready."),Ae(e,"cors-unsupported","This browser is not supported."),Ae(e,"credential-already-in-use","This credential is already associated with a different user account."),Ae(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ae(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ae(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ae(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ae(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ae(e,"email-already-in-use","The email address is already in use by another account."),Ae(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ae(e,"expired-action-code","The action code has expired."),Ae(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ae(e,"internal-error","An internal AuthError has occurred."),Ae(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ae(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ae(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ae(e,"invalid-auth-event","An internal AuthError has occurred."),Ae(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ae(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ae(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ae(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ae(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ae(e,"invalid-email","The email address is badly formatted."),Ae(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ae(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ae(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ae(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ae(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ae(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ae(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ae(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ae(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ae(e,"wrong-password","The password is invalid or the user does not have a password."),Ae(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ae(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ae(e,"invalid-provider-id","The specified provider ID is invalid."),Ae(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ae(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ae(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ae(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ae(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ae(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ae(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ae(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ae(e,"missing-continue-uri","A continue URL must be provided in the request."),Ae(e,"missing-iframe-start","An internal AuthError has occurred."),Ae(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ae(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ae(e,"missing-multi-factor-info","No second factor identifier is provided."),Ae(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ae(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ae(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ae(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ae(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ae(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ae(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ae(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ae(e,"no-auth-event","An internal AuthError has occurred."),Ae(e,"no-such-provider","User was not linked to an account with the given provider."),Ae(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ae(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ae(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ae(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ae(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ae(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ae(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ae(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ae(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ae(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ae(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ae(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ae(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ae(e,"timeout","The operation has timed out."),Ae(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ae(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ae(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ae(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ae(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ae(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ae(e,"unverified-email","The operation requires a verified email."),Ae(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ae(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ae(e,"user-disabled","The user account has been disabled by an administrator."),Ae(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ae(e,"user-signed-out",""),Ae(e,"weak-password","The password must be 6 characters long or more."),Ae(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ae(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},mi=vi,gi=new mn("auth","Firebase",vi()),ki=new Wn("@firebase/auth");function bi(e){if(ki.logLevel<=jn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ki.error.apply(ki,["Auth (".concat(Cr,"): ").concat(e)].concat(n))}}function wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ei.apply(void 0,[e].concat(n))}function _i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ei.apply(void 0,[e].concat(n))}function xi(e,t,n){var r=Object.assign(Object.assign({},mi()),Ae({},t,n));return new mn("auth","Firebase",r).create(t,{appName:e.name})}function Si(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wi(e,"argument-error"),xi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Rn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Rn(o)))}return gi.create.apply(gi,[e].concat(n))}function Ti(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ei.apply(void 0,[t].concat(r))}}function Ii(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bi(t),new Error(t)}function Ci(e,t){e||Ii(t)}var Oi=new Map;function Ai(e){Ci(e instanceof Function,"Expected a class definition");var t=Oi.get(e);return t?(Ci(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Oi.set(e,t),t)}function Ri(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ni(){return"http:"===Pi()||"https:"===Pi()}function Pi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Di=function(){function e(t,n){Dt(this,e),this.shortDelay=t,this.longDelay=n,Ci(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())||dn()}return Mt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ni()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Li(e,t){Ci(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mi=function(){function e(){Dt(this,e)}return Mt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fi=(Ae(hi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ae(hi,"MISSING_CUSTOM_TOKEN","internal-error"),Ae(hi,"INVALID_IDENTIFIER","invalid-email"),Ae(hi,"MISSING_CONTINUE_URI","internal-error"),Ae(hi,"INVALID_PASSWORD","wrong-password"),Ae(hi,"MISSING_PASSWORD","internal-error"),Ae(hi,"EMAIL_EXISTS","email-already-in-use"),Ae(hi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ae(hi,"INVALID_IDP_RESPONSE","invalid-credential"),Ae(hi,"INVALID_PENDING_TOKEN","invalid-credential"),Ae(hi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ae(hi,"MISSING_REQ_TYPE","internal-error"),Ae(hi,"EMAIL_NOT_FOUND","user-not-found"),Ae(hi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ae(hi,"EXPIRED_OOB_CODE","expired-action-code"),Ae(hi,"INVALID_OOB_CODE","invalid-action-code"),Ae(hi,"MISSING_OOB_CODE","internal-error"),Ae(hi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ae(hi,"INVALID_ID_TOKEN","invalid-user-token"),Ae(hi,"TOKEN_EXPIRED","user-token-expired"),Ae(hi,"USER_NOT_FOUND","user-token-expired"),Ae(hi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ae(hi,"INVALID_CODE","invalid-verification-code"),Ae(hi,"INVALID_SESSION_INFO","invalid-verification-id"),Ae(hi,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ae(hi,"MISSING_SESSION_INFO","missing-verification-id"),Ae(hi,"SESSION_EXPIRED","code-expired"),Ae(hi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ae(hi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ae(hi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ae(hi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ae(hi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ae(hi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ae(hi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ae(hi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ae(hi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ae(hi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ae(hi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),hi),ji=new Di(3e4,6e4);function Ui(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vi(e,t,n,r){return zi.apply(this,arguments)}function zi(){return zi=Pn(On().mark((function e(t,n,r,i){var a,o=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bi(t,a,Pn(On().mark((function e(){var a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=_n(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mi.fetch()(Ki(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(e,t,n){return qi.apply(this,arguments)}function qi(){return qi=Pn(On().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fi),n),e.prev=2,a=new Gi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Qi(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Bt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Qi(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Qi(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Qi(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw xi(t,d,h);case 34:wi(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yn)){e.next=41;break}throw e.t0;case 41:wi(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),qi.apply(this,arguments)}function Hi(e,t,n,r){return Wi.apply(this,arguments)}function Wi(){return Wi=Pn(On().mark((function e(t,n,r,i){var a,o,u=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function Ki(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Li(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gi=function(){function e(t){var n=this;Dt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_i(n.auth,"network-request-failed"))}),ji.get())}))}return Mt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_i(e,t,r);return i.customData._tokenResponse=n,i}function $i(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return ea=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function na(){return na=Pn(On().mark((function e(t){var n,r,i,a,o,u,s=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Cn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ti((a=ia(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ta(ra(a.auth_time)),issuedAtTime:ta(ra(a.iat)),expirationTime:ta(ra(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e){return 1e3*Number(e)}function ia(e){var t=Bt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return bi("JWT malformed, contained fewer than 3 sections"),null;try{var a=tn(r);return a?JSON.parse(a):(bi("Failed to decode base64 JWT payload"),null)}catch(o){return bi("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Pn(On().mark((function e(t,n){var r=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yn&&ua(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),oa.apply(this,arguments)}function ua(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sa=function(){function e(t){Dt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Mt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ca=function(){function e(t,n){Dt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Mt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function la(e){return fa.apply(this,arguments)}function fa(){return fa=Pn(On().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,aa(t,Zi(r,{idToken:i}));case 6:Ti(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=fi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=da(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ca(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(){return(ha=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cn(t),e.next=3,la(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Rn(n),Rn(t))}function pa(e,t){return va.apply(this,arguments)}function va(){return va=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(t,{},Pn(On().mark((function e(){var r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_n({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ki(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ya=function(){function e(){Dt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Mt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ti(e.idToken,"internal-error"),Ti("undefined"!==typeof e.idToken,"internal-error"),Ti("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ia(e);return Ti(t,"internal-error"),Ti("undefined"!==typeof t.exp,"internal-error"),Ti("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Pn(On().mark((function e(t){var n,r=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ti(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ii("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ti("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ti("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ti("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ma(e,t){Ti("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ga=function(){function e(t){Dt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Rn(a.providerData):[],this.metadata=new ca(a.createdAt||void 0,a.lastLoginAt||void 0)}return Mt(e,[{key:"getIdToken",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ti(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return na.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ha.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ti(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ti(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Pn(On().mark((function e(t){var n,r,i=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,la(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,aa(this,$i(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Ti(k&&x,t,"internal-error");var S=ya.fromJSON(this.name,x);Ti("string"===typeof k,t,"internal-error"),ma(f,t.name),ma(h,t.name),Ti("boolean"===typeof b,t,"internal-error"),Ti("boolean"===typeof w,t,"internal-error"),ma(d,t.name),ma(p,t.name),ma(v,t.name),ma(y,t.name),ma(m,t.name),ma(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Pn(On().mark((function t(n,r){var i,a,o,u=arguments;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ya).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,la(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ka=function(){function e(){Dt(this,e),this.type="NONE",this.storage={}}return Mt(e,[{key:"_isAvailable",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ka.type="NONE";var ba=ka;function wa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _a=function(){function e(t,n,r){Dt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=wa(this.userKey,a.apiKey,o),this.fullPersistenceKey=wa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Mt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ga._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Pn(On().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ai(ba),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ai(ba),u=wa(i,n.config.apiKey,n.name),s=null,c=Ut(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ga._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ia(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Oa(t))return"Blackberry";if(Aa(t))return"Webos";if(Ea(t))return"Safari";if((t.includes("chrome/")||Ta(t))&&!t.includes("edge/"))return"Chrome";if(Ca(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/firefox\//i.test(e)}function Ea(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/crios\//i.test(e)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/iemobile/i.test(e)}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/android/i.test(e)}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/blackberry/i.test(e)}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/webos/i.test(e)}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return Ra(e)||Ca(e)||Aa(e)||Oa(e)||/windows phone/i.test(e)||Ia(e)}function Pa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xa(ln());break;case"Worker":t="".concat(xa(ln()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Cr,"/").concat(r)}var Da=function(){function e(t){Dt(this,e),this.auth=t,this.queue=[]}return Mt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Pn(On().mark((function e(t){var n,r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Ut(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Ut(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(W){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),La=function(){function e(t,n,r){Dt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fa(this),this.idTokenSubscription=new Fa(this),this.beforeStateQueue=new Da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Mt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(Pn(On().mark((function r(){var i,a;return On().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_a.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Pn(On().mark((function e(t){var n,r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ti(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Cn(t):null)&&Ti(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Pn(On().mark((function e(t){var n,r=this,i=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ti(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Pn(On().mark((function n(){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ai(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ti(n=t&&Ai(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_a.create(this,[Ai(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Pn(On().mark((function e(t){var n=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ti(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ti(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Pn(On().mark((function e(){var t,n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ae({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ma(e){return Cn(e)}var Fa=function(){function e(t){var n=this;Dt(this,e),this.auth=t,this.observer=null,this.addObserver=En((function(e){return n.observer=e}))}return Mt(e,[{key:"next",get:function(){return Ti(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ja(e,t,n){var r=Ma(e);Ti(r._canInitEmulator,r,"emulator-config-failed"),Ti(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ua(t),o=function(e){var t=Ua(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Va(r.substr(a.length+1))}}var o=Bt(r.split(":"),2);return{host:o[0],port:Va(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ua(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Va(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var za=function(){function e(t,n){Dt(this,e),this.providerId=t,this.signInMethod=n}return Mt(e,[{key:"toJSON",value:function(){return Ii("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ii("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ii("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ii("not implemented")}}]),e}();function Ba(e,t){return qa.apply(this,arguments)}function qa(){return qa=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:resetPassword",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:update",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e,t){return $a.apply(this,arguments)}function $a(){return $a=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithPassword",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Xa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:sendOobCode",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Ja(e,t){return Za.apply(this,arguments)}function Za(){return Za=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(t,n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(t,n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(t,n));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa(t,n));case 1:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return co=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Dt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Mt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qa(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oo(t,{email:this._email,oobCode:this._password}));case 5:wi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ha(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",so(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(za);function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithIdp",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}var po=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Mt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_n(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(za);function vo(e,t){return yo.apply(this,arguments)}function yo(){return yo=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:sendVerificationCode",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function mo(){return mo=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function go(){return go=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ui(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko=Ae({},"USER_NOT_FOUND","user-not-found");function bo(){return bo=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ui(t,r),ko));case 2:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}var wo=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Mt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return go.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return bo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(za);var _o=function(){function e(t){var n,r,i,a,o,u;Dt(this,e);var s=xn(Sn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ti(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Mt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=xn(Sn(e)).link,n=t?xn(Sn(t)).deep_link_id:null,r=xn(Sn(e)).deep_link_id;return(r?xn(Sn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ME){return null}}}]),e}();var xo=function(){function e(){Dt(this,e),this.providerId=e.PROVIDER_ID}return Mt(e,null,[{key:"credential",value:function(e,t){return lo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=_o.parseLink(t);return Ti(n,"argument-error"),lo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xo.PROVIDER_ID="password",xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var So=function(){function e(t){Dt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Mt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Eo=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Mt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Rn(this.scopes)}}]),n}(So),To=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ti(e.idToken||e.accessToken,"argument-error"),po._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ti("providerId"in t&&"signInMethod"in t,"argument-error"),po._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Eo),Io=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.call(this,"facebook.com")}return Mt(n,null,[{key:"credential",value:function(e){return po._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ME){return null}}}]),n}(Eo);Io.FACEBOOK_SIGN_IN_METHOD="facebook.com",Io.PROVIDER_ID="facebook.com";var Co=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Mt(n,null,[{key:"credential",value:function(e,t){return po._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ME){return null}}}]),n}(Eo);Co.GOOGLE_SIGN_IN_METHOD="google.com",Co.PROVIDER_ID="google.com";var Oo=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.call(this,"github.com")}return Mt(n,null,[{key:"credential",value:function(e){return po._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ME){return null}}}]),n}(Eo);Oo.GITHUB_SIGN_IN_METHOD="github.com",Oo.PROVIDER_ID="github.com";var Ao=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Mt(n,[{key:"_getIdTokenResponse",value:function(e){return fo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(za),Ro=function(e){Wt(n,e);var t=Qt(n);function n(e){return Dt(this,n),Ti(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Mt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ao.fromJSON(e);return Ti(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ao._create(r,n)}catch(i){return null}}}]),n}(So),No=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.call(this,"twitter.com")}return Mt(n,null,[{key:"credential",value:function(e,t){return po._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ME){return null}}}]),n}(Eo);function Po(e,t){return Do.apply(this,arguments)}function Do(){return Do=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signUp",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}No.TWITTER_SIGN_IN_METHOD="twitter.com",No.PROVIDER_ID="twitter.com";var Lo=function(){function e(t){Dt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Mt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Pn(On().mark((function t(n,r,i){var a,o,u,s,c=arguments;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ga._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Mo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Pn(On().mark((function t(n,r,i){var a;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Mo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Mo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Fo(){return Fo=Pn(On().mark((function e(t){var n,r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ma(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Lo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Po(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Lo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}var jo=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a){var o,u;return Dt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(qt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Mt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yn);function Uo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jo._fromErrorAndOperation(e,n,t,r);throw n}))}function Vo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function zo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cn(t),e.next=3,Wo(!0,r,n);case 3:return e.t0=Yi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Vo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=Pn(On().mark((function e(t,n){var r,i,a=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=aa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Lo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Wo(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la(n);case 2:i=Vo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ti(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=Pn(On().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,aa(t,Uo(i,a,n,t),r);case 6:return Ti((o=e.sent).idToken,i,"internal-error"),Ti(u=ia(o.idToken),i,"internal-error"),s=u.sub,Ti(t.uid===s,i,"user-mismatch"),e.abrupt("return",Lo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Qo.apply(this,arguments)}function $o(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=Pn(On().mark((function e(t,n){var r,i,a,o,u=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Uo(t,i,n);case 4:return a=e.sent,e.next=7,Lo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Yo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(Ma(t),n));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t){return eu.apply(this,arguments)}function eu(){return(eu=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cn(t),e.next=3,Wo(!1,r,n.providerId);case 3:return e.abrupt("return",qo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return(nu=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(Cn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(t,"POST","/v1/accounts:signInWithCustomToken",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(){return au=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ma(t),e.next=3,ru(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Lo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}var ou=function(){function e(t,n){Dt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Mt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?uu._fromServerResponse(e,t):wi(e,"internal-error")}}]),e}(),uu=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Mt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ou);function su(e,t,n){var r;Ti((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ti("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ti(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ti(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function cu(){return cu=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),a={requestType:"PASSWORD_RESET",email:n},r&&su(i,a,r),e.next=5,eo(i,a);case 5:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return lu=Pn(On().mark((function e(t,n,r){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(Cn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(){return fu=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(Cn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cn(t),e.next=3,Ba(r,{oobCode:n});case 3:i=e.sent,Ti(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ti(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ti(i.mfaInfo,r,"internal-error");case 13:Ti(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ou._fromServerResponse(Ma(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(){return pu=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hu(Cn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ma(t),e.next=3,Po(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Lo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function mu(){return mu=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),a={requestType:"EMAIL_SIGNIN",email:n},Ti(r.handleCodeInApp,i,"argument-error"),r&&su(i,a,r),e.next=6,no(i,a);case 6:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function gu(){return gu=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),Ti((a=xo.credentialWithLink(n,r||Ri()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yo(i,a));case 4:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:createAuthUri",Ui(t,n)));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(){return wu=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ni()?Ri():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ku(Cn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function _u(){return(_u=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&su(r.auth,a,n),e.next=8,Ja(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(){return(xu=Pn(On().mark((function e(t,n,r){var i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&su(i.auth,o,r),e.next=8,io(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Tu(){return(Tu=Pn(On().mark((function e(t,n){var r,i,a,o,u,s,c;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Cn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,aa(a,Su(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return Cu=Pn(On().mark((function e(t,n,r){var i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,aa(t,Ha(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Ou=Mt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Au=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Mt(n)}(Ou),Ru=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"facebook.com",r)}return Mt(n)}(Ou),Nu=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Mt(n)}(Au),Pu=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"google.com",r)}return Mt(n)}(Ou),Du=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){return Dt(this,n),t.call(this,e,"twitter.com",r,i)}return Mt(n)}(Au);function Lu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ia(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ou(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ru(a,i);case"github.com":return new Nu(a,i);case"google.com":return new Pu(a,i);case"twitter.com":return new Du(a,i,e.screenName||null);case"custom":case"anonymous":return new Ou(a,null);default:return new Ou(a,r,i)}}(n)}var Mu=function(){function e(t,n,r){Dt(this,e),this.type=t,this.credential=n,this.auth=r}return Mt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ae({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fu=function(){function e(t,n,r){Dt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Mt(e,[{key:"resolveSignIn",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ma(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ou._fromServerResponse(r,e)}));Ti(i.mfaPendingCredential,r,"internal-error");var o=Mu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Pn(On().mark((function e(t){var a,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Lo._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ti(n.user,r,"internal-error"),e.abrupt("return",Lo._forOperation(n.user,n.operationType,u));case 17:wi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ju(e,t){return Vi(e,"POST","/v2/accounts/mfaEnrollment:start",Ui(e,t))}function Uu(e,t){return Vi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ui(e,t))}var Vu=function(){function e(t){var n=this;Dt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ou._fromServerResponse(t.auth,e)})))}))}return Mt(e,[{key:"getSession",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Mu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,aa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Pn(On().mark((function e(t){var n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,aa(this.user,Uu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),zu=new WeakMap;var Bu="__sak",qu=function(){function e(t,n){Dt(this,e),this.storageRetriever=t,this.type=n}return Mt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch(ME){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hu=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ln();return Ea(e)||Ra(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Na(),e._shouldAllowMigration=!0,e}return Mt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);pn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Pn(On().mark((function e(t,r){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(Kt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pn(On().mark((function e(t){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(Kt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(Kt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(qu);Hu.type="LOCAL";var Wu=Hu,Ku=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Mt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(qu);Ku.type="SESSION";var Gu=Ku;function Qu(e){return Promise.all(e.map(function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var $u=function(){function e(t){Dt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Mt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Pn(On().mark((function e(t){var n,r,i,a,o,u,s,c;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Qu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Xu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}$u.receivers=[];var Yu=function(){function e(t){Dt(this,e),this.target=t,this.handlers=new Set}return Mt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Xu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ju(){return window}function Zu(){return"undefined"!==typeof Ju().WorkerGlobalScope&&"function"===typeof Ju().importScripts}function es(){return ts.apply(this,arguments)}function ts(){return(ts=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ns(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var rs="firebaseLocalStorageDb",is=1,as="firebaseLocalStorage",os="fbase_key",us=function(){function e(t){Dt(this,e),this.request=t}return Mt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ss(e,t){return e.transaction([as],t?"readwrite":"readonly").objectStore(as)}function cs(){var e=indexedDB.deleteDatabase(rs);return new us(e).toPromise()}function ls(){var e=indexedDB.open(rs,is);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(as,{keyPath:os})}catch(r){n(r)}})),e.addEventListener("success",Pn(On().mark((function n(){var r;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(as)){n.next=12;break}return r.close(),n.next=5,cs();case 5:return n.t0=t,n.next=8,ls();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return hs=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ss(t,!0).put((Ae(i={},os,n),Ae(i,"value",r),i)),e.abrupt("return",new us(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ss(t,!1).get(n),e.next=3,new us(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){var n=ss(e,!0).delete(t);return new us(n).toPromise()}var ys=function(){function e(){Dt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Mt(e,[{key:"_openDb",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ls();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Pn(On().mark((function e(){var t=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=$u._getInstance(Zu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Pn(On().mark((function e(n,r){var i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Pn(On().mark((function e(){var t,n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ns()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ls();case 5:return t=e.sent,e.next=8,fs(t,Bu,"1");case 8:return e.next=10,vs(t,Bu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pn(On().mark((function e(t,n){var r=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ds(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pn(On().mark((function e(t){var n=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return vs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ss(e,!1).getAll();return new us(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ut(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ys.type="LOCAL";var ms=ys;function gs(e,t){return Vi(e,"POST","/v2/accounts/mfaSignIn:start",Ui(e,t))}function ks(e){return bs.apply(this,arguments)}function bs(){return bs=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_i("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function _s(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var xs=1e12,Ss=function(){function e(t){Dt(this,e),this.auth=t,this.counter=xs,this._widgets=new Map}return Mt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Es(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||xs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||xs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||xs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Es=function(){function e(t,n,r){var i=this;Dt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ti(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Mt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ts=_s("rcb"),Is=new Di(3e4,6e4),Cs=function(){function e(){var t;Dt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ju().grecaptcha)||void 0===t?void 0:t.render)}return Mt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ti(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ju().grecaptcha):new Promise((function(r,i){var a=Ju().setTimeout((function(){i(_i(e,"network-request-failed"))}),Is.get());Ju()[Ts]=function(){Ju().clearTimeout(a),delete Ju()[Ts];var o=Ju().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(_i(e,"internal-error"))},ws("".concat("https://www.google.com/recaptcha/api.js?","?").concat(_n({onload:Ts,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(_i(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ju().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Os=function(){function e(){Dt(this,e)}return Mt(e,[{key:"load",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ss(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),As="recaptcha",Rs={theme:"light",type:"image"},Ns=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Rs),r=arguments.length>2?arguments[2]:void 0;Dt(this,e),this.parameters=n,this.type=As,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ma(r),this.isInvisible="invisible"===this.parameters.size,Ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ti(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new Cs,this.validateStartingState()}return Mt(e,[{key:"verify",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ti(!this.parameters.sitekey,this.auth,"argument-error"),Ti(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ti("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ju()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ti(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Pn(On().mark((function e(){var t,n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ti(Ni()&&!Zu(),this.auth,"internal-error"),e.next=3,Ps();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ks(this.auth);case 8:Ti(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ti(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ps(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ds=function(){function e(t,n){Dt(this,e),this.verificationId=t,this.onConfirmation=n}return Mt(e,[{key:"confirm",value:function(e){var t=wo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ls(){return Ls=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ma(t),e.next=3,Us(i,n,Cn(r));case 3:return a=e.sent,e.abrupt("return",new Ds(a,(function(e){return Yo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(e,t,n){return Fs.apply(this,arguments)}function Fs(){return(Fs=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),e.next=3,Wo(!1,i,"phone");case 3:return e.next=5,Us(i.auth,n,Cn(r));case 5:return a=e.sent,e.abrupt("return",new Ds(a,(function(e){return Zo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(){return(js=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cn(t),e.next=3,Us(i.auth,n,Cn(r));case 3:return a=e.sent,e.abrupt("return",new Ds(a,(function(e){return tu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e,t,n){return Vs.apply(this,arguments)}function Vs(){return Vs=Pn(On().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ti("string"===typeof a,t,"argument-error"),Ti(r.type===As,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ti("enroll"===u.type,t,"internal-error"),e.next=13,ju(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ti("signin"===u.type,t,"internal-error"),Ti(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,vo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vs.apply(this,arguments)}function zs(){return(zs=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(Cn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bs=function(){function e(t){Dt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ma(t)}return Mt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Us(this.auth,e,Cn(t))}}],[{key:"credential",value:function(e,t){return wo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?wo._fromTokenResponse(n,r):null}}]),e}();function qs(e,t){return t?Ai(t):(Ti(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bs.PROVIDER_ID="phone",Bs.PHONE_SIGN_IN_METHOD="phone";var Hs=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Mt(n,[{key:"_getIdTokenResponse",value:function(e){return fo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(za);function Ws(e){return $o(e.auth,new Hs(e),e.bypassAuthState)}function Ks(e){var t=e.auth,n=e.user;return Ti(n,t,"internal-error"),Go(n,new Hs(e),e.bypassAuthState)}function Gs(e){return Qs.apply(this,arguments)}function Qs(){return Qs=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ti(r=t.user,n,"internal-error"),e.abrupt("return",qo(r,new Hs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}var $s=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Dt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Mt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Pn(On().mark((function t(n,r){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Pn(On().mark((function e(t){var n,r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:wi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xs=new Di(2e3,1e4);function Ys(e,t,n){return Js.apply(this,arguments)}function Js(){return Js=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ma(t),Si(t,n,So),a=qs(i,r),o=new nc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(){return Zs=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Si((i=Cn(t)).auth,n,So),a=qs(i.auth,r),o=new nc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function ec(e,t,n){return tc.apply(this,arguments)}function tc(){return tc=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Si((i=Cn(t)).auth,n,So),a=qs(i.auth,r),o=new nc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}var nc=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a,o){var u;return Dt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=qt(u),u}return Mt(n,[{key:"executeNotNull",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ti(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pn(On().mark((function e(){var t,n=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ci(1===this.filter.length,"Popup operations only handle one event"),t=Xu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_i(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_i(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_i(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Xs.get())}()}}]),n}($s);nc.currentPopupAction=null;var rc="pendingRedirect",ic=new Map,ac=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Dt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Mt(n,[{key:"execute",value:function(){var e=Pn(On().mark((function e(){var t,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ic.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,oc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,li(Kt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ic.set(this.auth._key(),t);case 21:return this.bypassAuthState||ic.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Pn(On().mark((function e(t){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",li(Kt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",li(Kt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($s);function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hc(n),i=fc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t)._set(hc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){ic.set(e._key(),t)}function fc(e){return Ai(e._redirectPersistence)}function hc(e){return wa(rc,e.config.apiKey,e.name)}function dc(e,t,n){return function(e,t,n){return pc.apply(this,arguments)}(e,t,n)}function pc(){return pc=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ma(t),Si(t,n,So),e.next=4,i._initializationPromise;case 4:return a=qs(i,r),e.next=7,sc(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t,n){return function(e,t,n){return yc.apply(this,arguments)}(e,t,n)}function yc(){return yc=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Si((i=Cn(t)).auth,n,So),e.next=4,i.auth._initializationPromise;case 4:return a=qs(i.auth,r),e.next=7,sc(a,i.auth);case 7:return e.next=9,xc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function mc(e,t,n){return function(e,t,n){return gc.apply(this,arguments)}(e,t,n)}function gc(){return gc=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Si((i=Cn(t)).auth,n,So),e.next=4,i.auth._initializationPromise;case 4:return a=qs(i.auth,r),e.next=7,Wo(!1,i,n.providerId);case 7:return e.next=9,sc(a,i.auth);case 9:return e.next=11,xc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(t)._initializationPromise;case 2:return e.abrupt("return",wc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Pn(On().mark((function e(t,n){var r,i,a,o,u,s=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ma(t),a=qs(i,n),o=new ac(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(e){return Sc.apply(this,arguments)}function Sc(){return(Sc=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ec=function(){function e(t){Dt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Mt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ic(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ic(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Tc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Tc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ic(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Cc(e){return Oc.apply(this,arguments)}function Oc(){return Oc=Pn(On().mark((function e(t){var n,r=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}var Ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rc=/^https?/;function Nc(){return Nc=Pn(On().mark((function e(t){var n,r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ut(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Pc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Nc.apply(this,arguments)}function Pc(e){var t=Ri(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rc.test(r))return!1;if(Ac.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Dc=new Di(3e4,6e4);function Lc(){var e=Ju().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Rn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mc=null;function Fc(e){return Mc=Mc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Lc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Lc(),n(_i(e,"network-request-failed"))},timeout:Dc.get()})}if(null===(i=null===(r=Ju().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ju().gapi)||void 0===a?void 0:a.load)){var u=_s("iframefcb");return Ju()[u]=function(){gapi.load?o():n(_i(e,"network-request-failed"))},ws("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mc=null,e}))}(e),Mc}var jc=new Di(5e3,15e3),Uc="__/auth/iframe",Vc="emulator/auth/iframe",zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qc(e){var t=e.config;Ti(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Li(t,Vc):"https://".concat(e.config.authDomain,"/").concat(Uc),r={apiKey:t.apiKey,appName:e.name,v:Cr},i=Bc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_n(r).slice(1))}function Hc(e){return Wc.apply(this,arguments)}function Wc(){return Wc=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(t);case 2:return n=e.sent,Ti(r=Ju().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zc,dontclear:!0},(function(e){return new Promise(function(){var n=Pn(On().mark((function n(r,i){var a,o,u;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ju().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_i(t,"network-request-failed"),o=Ju().setTimeout((function(){i(a)}),jc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}var Kc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gc=500,Qc=600,$c="_blank",Xc="http://localhost",Yc=function(){function e(t){Dt(this,e),this.window=t,this.associatedEvent=null}return Mt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Jc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gc,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qc,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Kc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ln().toLowerCase();n&&(u=Ta(c)?$c:n),Sa(c)&&(t=t||Xc,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Bt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ra(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Yc(null);var f=window.open(t||"",u,l);Ti(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Yc(f)}var Zc="__/auth/handler",el="emulator/auth/handler";function tl(e,t,n,r,i,a){Ti(e.config.authDomain,e,"auth-domain-config-required"),Ti(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Cr,eventId:i};if(t instanceof So){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Bt(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Eo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Zc);return Li(t,el)}(e),"?").concat(_n(d).slice(1))}var nl="webStorageSupport",rl=function(){function e(){Dt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gu,this._completeRedirectFn=wc,this._overrideRedirectResult=lc}return Mt(e,[{key:"_openPopup",value:function(){var e=Pn(On().mark((function e(t,n,r,i){var a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ci(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=tl(t,n,r,Ri(),i),e.abrupt("return",Jc(t,o,Xu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pn(On().mark((function e(t,n,r,i){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tl(t,n,r,Ri(),i),Ju().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ci(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(t);case 2:return n=e.sent,r=new Ec(t),n.register("authEvent",(function(e){return Ti(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nl,{type:nl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[nl];void 0!==i&&t(!!i),wi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Na()||Ea()||Ra()}}]),e}(),il=rl,al=function(){function e(t){Dt(this,e),this.factorId=t}return Mt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ii("unexpected MultiFactorSessionType")}}}]),e}(),ol=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,"phone")).credential=e,r}return Mt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ui(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ui(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(al),ul=function(){function e(){Dt(this,e)}return Mt(e,null,[{key:"assertion",value:function(e){return ol._fromCredential(e)}}]),e}();ul.FACTOR_ID="phone";var sl="@firebase/auth",cl="0.21.5",ll=function(){function e(t){Dt(this,e),this.auth=t,this.internalListeners=new Map}return Mt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ti(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var fl;!function(e){var t;null===(t=on())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function hl(){return window}fl="Browser",wr(new Dn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ti(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ti(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pa(fl)},i=new La(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),wr(new Dn("auth-internal",(function(e){return function(e){return new ll(e)}(Ma(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(sl,cl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fl)),Dr(sl,cl,"esm2017");var dl=2e3;function pl(e,t,n){return vl.apply(this,arguments)}function vl(){return vl=Pn(On().mark((function e(t,n,r){var i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hl(),o=a.BuildInfo,Ci(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wl(n.sessionId);case 4:return u=e.sent,s={},Ra()?s.ibi=o.packageName:Ca()?s.apn=o.packageName:wi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",tl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function yl(){return yl=Pn(On().mark((function e(t){var n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hl(),r=n.BuildInfo,i={},Ra()?i.iosBundleId=r.packageName:Ca()?i.androidPackageName=r.packageName:wi(t,"operation-not-supported-in-this-environment"),e.next=5,Cc(t,i);case 5:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function ml(e){var t=hl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gl(e,t,n){return kl.apply(this,arguments)}function kl(){return kl=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(_i(t,"redirect-cancelled-by-user"))}),dl))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ca()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),kl.apply(this,arguments)}function bl(e){var t,n,r,i,a,o,u,s,c,l,f=hl();Ti("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ti("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ti("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ti("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ti("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wl(e){return _l.apply(this,arguments)}function _l(){return(_l=Pn(On().mark((function e(t){var n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e){if(Ci(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Sl=20,El=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Mt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),li(Kt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ec);function Tl(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Rl(),postBody:null,tenantId:e.tenantId,error:_i(e,"no-auth-event")}}function Il(e,t){return Nl()._set(Pl(e),t)}function Cl(e){return Ol.apply(this,arguments)}function Ol(){return Ol=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl()._get(Pl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Nl()._remove(Pl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Al(e,t){var n,r,i=function(e){var t=Dl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Dl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Dl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Dl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?_i(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Rl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Sl;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Nl(){return Ai(Wu)}function Pl(e){return wa("authEvent",e.config.apiKey,e.name)}function Dl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Vt(t=n)||An(t)||jt(t)||zt();r[0];return xn(r.slice(1).join("?"))}var Ll=function(){function e(){Dt(this,e),this._redirectPersistence=Gu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wc,this._overrideRedirectResult=lc}return Mt(e,[{key:"_initialize",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new El(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){wi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Pn(On().mark((function e(t,n,r,i){var a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ic.clear(),e.next=10,this._originValidation(t);case 10:return o=Tl(t,r,i),e.next=13,Il(t,o);case 13:return e.next=15,pl(t,o,n);case 15:return u=e.sent,e.next=18,ml(u);case 18:return s=e.sent,e.abrupt("return",gl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=hl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Pn(On().mark((function n(){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cl(e);case 2:t.onEvent(Fl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Pn(On().mark((function n(r){var i,a;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Cl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Al(i,r.url)),t.onEvent(a||Fl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");hl().handleOpenURL=function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ml=Ll;function Fl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_i("no-auth-event")}}var jl="@firebase/auth-compat",Ul="0.3.5",Vl=1e3;function zl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return!("file:"!==zl()&&"ionic:"!==zl()&&"capacitor:"!==zl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return pn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/Edge\/\d+/.test(e)}(e)}function Hl(){try{var e=self.localStorage,t=Xu();if(e)return e.setItem(t,"1"),e.removeItem(t),!ql()||vn()}catch(n){return Wl()&&vn()}return!1}function Wl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Kl(){return("http:"===zl()||"https:"===zl()||hn()||Bl())&&!(dn()||fn())&&Hl()&&!Wl()}function Gl(){return Bl()&&"undefined"!==typeof document}function Ql(){return $l.apply(this,arguments)}function $l(){return($l=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Vl);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xl={LOCAL:"local",NONE:"none",SESSION:"session"},Yl=Ti,Jl="persistence";function Zl(e,t){Yl(Object.values(Xl).includes(t),e,"invalid-persistence-type"),dn()?Yl(t!==Xl.SESSION,e,"unsupported-persistence-type"):fn()?Yl(t===Xl.NONE,e,"unsupported-persistence-type"):Wl()?Yl(t===Xl.NONE||t===Xl.LOCAL&&vn(),e,"unsupported-persistence-type"):Yl(t===Xl.NONE||Hl(),e,"unsupported-persistence-type")}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=nf(),r=wa(Jl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var rf=Ti,af=function(){function e(){Dt(this,e),this.browserResolver=Ai(il),this.cordovaResolver=Ai(Ml),this.underlyingResolver=null,this._redirectPersistence=Gu,this._completeRedirectFn=wc,this._overrideRedirectResult=lc}return Mt(e,[{key:"_initialize",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Pn(On().mark((function e(t,n,r,i){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pn(On().mark((function e(t,n,r,i){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Gl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return rf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ql();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function of(e){return e.unwrap()}function uf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new hf(e,function(e,t){var n,r=Cn(e),i=t;return Ti(t.customData.operationType,r,"argument-error"),Ti(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fu._fromError(r,i)}(e,t));else if(r){var i=sf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sf(e){var t=(e instanceof yn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yn)&&"temporaryProof"in t&&"phoneNumber"in t)return Bs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===di.PASSWORD)return null;switch(r){case di.GOOGLE:n=Co;break;case di.FACEBOOK:n=Io;break;case di.GITHUB:n=Oo;break;case di.TWITTER:n=No;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ao._create(r,u):po._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new To(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof yn?n.credentialFromError(e):n.credentialFromResult(e)}function cf(e,t){return t.catch((function(t){throw t instanceof yn&&uf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sf(t)),additionalUserInfo:Lu(e),user:df.getOrCreate(r)}}))}function lf(e,t){return ff.apply(this,arguments)}function ff(){return ff=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}var hf=function(){function e(t,n){Dt(this,e),this.resolver=n,this.auth=t.wrapped()}return Mt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cf(of(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),df=function(){function e(t){Dt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Cn(e);return zu.has(t)||zu.set(t,Vu._fromUser(t)),zu.get(t)}(t)}return Mt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,Zo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(this.auth,Ms(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,ec(this._delegate,t,af)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(Ma(this.auth));case 2:return e.abrupt("return",mc(this._delegate,t,af));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,tu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lf(this.auth,function(e,t,n){return js.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cf(this.auth,function(e,t,n){return Zs.apply(this,arguments)}(this._delegate,e,af))}},{key:"reauthenticateWithRedirect",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(Ma(this.auth));case 2:return e.abrupt("return",vc(this._delegate,t,af));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return _u.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Iu(Cn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Iu(Cn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return zs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Tu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();df.USER_MAP=new WeakMap;var pf=Ti,vf=function(){function e(t,n){if(Dt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pf(r,"invalid-api-key",{appName:t.name}),pf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?af:void 0;this._delegate=n.initialize({options:{persistence:mf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(yi),this.linkUnderlyingAuth()}return Mt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?df.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ja(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return fu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return lu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this._delegate,vu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return wu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=_o.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Kl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kc(this._delegate,af);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ma(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=yf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=yf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return cu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zl(this._delegate,t),e.t0=t,e.next=e.t0===Xl.SESSION?4:e.t0===Xl.LOCAL?6:e.t0===Xl.NONE?11:13;break;case 4:return n=Gu,e.abrupt("break",14);case 6:return e.next=8,Ai(ms)._isAvailable();case 8:return r=e.sent,n=r?ms:Wu,e.abrupt("break",14);case 11:return n=ba,e.abrupt("break",14);case 13:return e.abrupt("return",wi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cf(this._delegate,function(e){return Fo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cf(this._delegate,Yo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cf(this._delegate,function(e,t){return au.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cf(this._delegate,function(e,t,n){return Yo(Cn(e),xo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cf(this._delegate,function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lf(this._delegate,function(e,t,n){return Ls.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Kl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cf(this._delegate,Ys(this._delegate,t,af)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf(Kl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ef(this._delegate);case 3:return e.abrupt("return",dc(this._delegate,t,af));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return pu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function yf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&df.getOrCreate(e))},error:t,complete:n}}function mf(e,t){var n=function(e,t){var n=nf();if(!n)return[];var r=wa(Jl,e,t);switch(n.getItem(r)){case Xl.NONE:return[ba];case Xl.LOCAL:return[ms,Gu];case Xl.SESSION:return[Gu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ms)||n.push(ms),"undefined"!==typeof window)for(var r=0,i=[Wu,Gu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ba)||n.push(ba),n}vf.Persistence=Xl;var gf=function(){function e(){Dt(this,e),this.providerId="phone",this._delegate=new Bs(of(ci.auth()))}return Mt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bs.credential(e,t)}}]),e}();gf.PHONE_SIGN_IN_METHOD=Bs.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=Bs.PROVIDER_ID;var kf,bf=Ti,wf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci.app();Dt(this,e),bf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ns(t,n,i.auth()),this.type=this._delegate.type}return Mt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),_f="auth-compat";(kf=ci).INTERNAL.registerComponent(new Dn(_f,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi.EMAIL_SIGNIN,PASSWORD_RESET:pi.PASSWORD_RESET,RECOVER_EMAIL:pi.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:pi.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:pi.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:pi.VERIFY_EMAIL}},EmailAuthProvider:xo,FacebookAuthProvider:Io,GithubAuthProvider:Oo,GoogleAuthProvider:Co,OAuthProvider:To,SAMLAuthProvider:Ro,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:ul,RecaptchaVerifier:wf,TwitterAuthProvider:No,Auth:vf,AuthCredential:za,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),kf.registerVersion(jl,Ul);var xf,Sf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ef={},Tf=Tf||{},If=Sf||self;function Cf(){}function Of(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Af(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rf="closure_uid_"+(1e9*Math.random()>>>0),Nf=0;function Pf(e,t,n){return e.call.apply(e.bind,arguments)}function Df(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lf(e,t,n){return(Lf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pf:Df).apply(null,arguments)}function Mf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ff(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jf(){this.s=this.s,this.o=this.o}jf.prototype.s=!1,jf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Rf)&&e[Rf]||(e[Rf]=++Nf)}(this)},jf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Uf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Of(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Bf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bf.prototype.h=function(){this.defaultPrevented=!0};var qf=function(){if(!If.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{If.addEventListener("test",Cf,t),If.removeEventListener("test",Cf,t)}catch(n){}return e}();function Hf(e){return/^[\s\xa0]*$/.test(e)}var Wf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kf(e,t){return e<t?-1:e>t?1:0}function Gf(){var e=If.navigator;return e&&(e=e.userAgent)?e:""}function Qf(e){return-1!=Gf().indexOf(e)}function $f(e){return $f[" "](e),e}$f[" "]=Cf;var Xf,Yf=Qf("Opera"),Jf=Qf("Trident")||Qf("MSIE"),Zf=Qf("Edge"),eh=Zf||Jf,th=Qf("Gecko")&&!(-1!=Gf().toLowerCase().indexOf("webkit")&&!Qf("Edge"))&&!(Qf("Trident")||Qf("MSIE"))&&!Qf("Edge"),nh=-1!=Gf().toLowerCase().indexOf("webkit")&&!Qf("Edge");function rh(){var e=If.document;return e?e.documentMode:void 0}e:{var ih="",ah=function(){var e=Gf();return th?/rv:([^\);]+)(\)|;)/.exec(e):Zf?/Edge\/([\d\.]+)/.exec(e):Jf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nh?/WebKit\/(\S+)/.exec(e):Yf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ah&&(ih=ah?ah[1]:""),Jf){var oh=rh();if(null!=oh&&oh>parseFloat(ih)){Xf=String(oh);break e}}Xf=ih}var uh,sh={};function ch(){return function(e){var t=sh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Wf(String(Xf)).split("."),n=Wf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Kf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Kf(0==a[2].length,0==o[2].length)||Kf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(If.document&&Jf){var lh=rh();uh=lh||(parseInt(Xf,10)||void 0)}else uh=void 0;var fh=uh;function hh(e,t){if(Bf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(th){e:{try{$f(t.nodeName);var i=!0;break e}catch(D){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hh.X.h.call(this)}}Ff(hh,Bf);var dh={2:"touch",3:"pen",4:"mouse"};hh.prototype.h=function(){hh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ph="closure_listenable_"+(1e6*Math.random()|0),vh=0;function yh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++vh,this.ba=this.ea=!1}function mh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function gh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kh(e){var t={};for(var n in e)t[n]=e[n];return t}var bh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bh.length;a++)n=bh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _h(e){this.src=e,this.g={},this.h=0}function xh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Uf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}_h.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Sh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new yh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Eh="closure_lm_"+(1e6*Math.random()|0),Th={};function Ih(e,t,n,r,i){if(r&&r.once)return Oh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ih(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[ph]?e.N(t,n,Af(r)?!!r.capture:!!r,i):Ch(e,t,n,!1,r,i)}function Ch(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Af(i)?!!i.capture:!!i,u=Dh(e);if(u||(e[Eh]=u=new _h(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ph;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oh(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[ph]?e.O(t,n,Af(r)?!!r.capture:!!r,i):Ch(e,t,n,!0,r,i)}function Ah(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ah(e,t[a],n,r,i);else r=Af(r)?!!r.capture:!!r,n=Mh(n),e&&e[ph]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sh(a=e.g[t],n,r,i))&&(mh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sh(t,n,r,i)),(n=-1<e?t[e]:null)&&Rh(n))}function Rh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ph])xh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dh(t))?(xh(n,e),0==n.h&&(n.src=null,t[Eh]=null)):mh(e)}}}function Nh(e){return e in Th?Th[e]:Th[e]="on"+e}function Ph(e,t){if(e.ba)e=!0;else{t=new hh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Rh(e),e=n.call(r,t)}return e}function Dh(e){return(e=e[Eh])instanceof _h?e:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mh(e){return"function"===typeof e?e:(e[Lh]||(e[Lh]=function(t){return e.handleEvent(t)}),e[Lh])}function Fh(){jf.call(this),this.i=new _h(this),this.P=this,this.I=null}function jh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Bf(t,e);else if(t instanceof Bf)t.target=t.target||e;else{var i=t;wh(t=new Bf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Uh(o,r,!0,t)&&i}if(i=Uh(o=t.g=e,r,!0,t)&&i,i=Uh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Uh(o=t.g=n[a],r,!1,t)&&i}function Uh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&xh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ff(Fh,jf),Fh.prototype[ph]=!0,Fh.prototype.removeEventListener=function(e,t,n,r){Ah(this,e,t,n,r)},Fh.prototype.M=function(){if(Fh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mh(n[r]);delete t.g[e],t.h--}}this.I=null},Fh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vh=If.JSON.stringify;function zh(){var e=$h,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bh,qh=function(){function e(){Dt(this,e),this.h=this.g=null}return Mt(e,[{key:"add",value:function(e,t){var n=Hh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hh=new(function(){function e(t,n){Dt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Mt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wh}),(function(e){return e.reset()})),Wh=function(){function e(){Dt(this,e),this.next=this.g=this.h=null}return Mt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kh(e){If.setTimeout((function(){throw e}),0)}function Gh(e,t){Bh||function(){var e=If.Promise.resolve(void 0);Bh=function(){e.then(Xh)}}(),Qh||(Bh(),Qh=!0),$h.add(e,t)}var Qh=!1,$h=new qh;function Xh(){for(var e;e=zh();){try{e.h.call(e.g)}catch(n){Kh(n)}var t=Hh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qh=!1}function Yh(e,t){Fh.call(this),this.h=e||1,this.g=t||If,this.j=Lf(this.lb,this),this.l=Date.now()}function Jh(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Zh(e,t,n){if("function"===typeof e)n&&(e=Lf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lf(e.handleEvent,e)}return 2147483647<Number(t)?-1:If.setTimeout(e,t||0)}function ed(e){e.g=Zh((function(){e.g=null,e.i&&(e.i=!1,ed(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ff(Yh,Fh),(xf=Yh.prototype).ca=!1,xf.R=null,xf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jh(this,"tick"),this.ca&&(Jh(this),this.start()))}},xf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xf.M=function(){Yh.X.M.call(this),Jh(this),delete this.g};var td=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Mt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ed(this)}},{key:"M",value:function(){li(Kt(n.prototype),"M",this).call(this),this.g&&(If.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(jf);function nd(e){jf.call(this),this.h=e,this.g={}}Ff(nd,jf);var rd=[];function id(e,t,n,r){Array.isArray(n)||(n&&(rd[0]=n.toString()),n=rd);for(var i=0;i<n.length;i++){var a=Ih(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ad(e){gh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rh(e)}),e),e.g={}}function od(){this.g=!0}function ud(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vh(n)}catch(I){return t}}(e,n)+(r?" "+r:"")}))}nd.prototype.M=function(){nd.X.M.call(this),ad(this)},nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},od.prototype.Aa=function(){this.g=!1},od.prototype.info=function(){};var sd={},cd=null;function ld(){return cd=cd||new Fh}function fd(e){Bf.call(this,sd.Pa,e)}function hd(e){var t=ld();jh(t,new fd(t))}function dd(e,t){Bf.call(this,sd.STAT_EVENT,e),this.stat=t}function pd(e){var t=ld();jh(t,new dd(t,e))}function vd(e,t){Bf.call(this,sd.Qa,e),this.size=t}function yd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return If.setTimeout((function(){e()}),t)}sd.Pa="serverreachability",Ff(fd,Bf),sd.STAT_EVENT="statevent",Ff(dd,Bf),sd.Qa="timingevent",Ff(vd,Bf);var md={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kd(){}function bd(e){return e.h||(e.h=e.i())}function wd(){}kd.prototype.h=null;var _d,xd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Sd(){Bf.call(this,"d")}function Ed(){Bf.call(this,"c")}function Td(){}function Id(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new nd(this),this.O=Od,e=eh?125:void 0,this.T=new Yh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Cd}function Cd(){this.i=null,this.g="",this.h=!1}Ff(Sd,Bf),Ff(Ed,Bf),Ff(Td,kd),Td.prototype.g=function(){return new XMLHttpRequest},Td.prototype.i=function(){return{}},_d=new Td;var Od=45e3,Ad={},Rd={};function Nd(e,t,n){e.K=1,e.v=Yd(Kd(t)),e.s=n,e.P=!0,Pd(e,null)}function Pd(e,t){e.F=Date.now(),Fd(e),e.A=Kd(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),lp(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Cd,e.g=lv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new td(Lf(e.La,e,e.g),e.N)),id(e.S,e.g,"readystatechange",e.ib),t=e.H?kh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),hd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Dd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ld(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Md(e,n))==Rd){4==t&&(e.o=4,pd(14),i=!1),ud(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ad){e.o=4,pd(15),ud(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ud(e.j,e.m,r,null),Bd(e,r)}Dd(e)&&r!=Rd&&r!=Ad&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),nv(t),t.K=!0,pd(11))):(ud(e.j,e.m,n,"[Invalid Chunked Response]"),zd(e),Vd(e))}function Md(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rd:(n=Number(t.substring(n,r)),isNaN(n)?Ad:(r+=1)+n>t.length?Rd:(t=t.substr(r,n),e.C=r+n,t))}function Fd(e){e.V=Date.now()+e.O,jd(e,e.O)}function jd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yd(Lf(e.gb,e),t)}function Ud(e){e.B&&(If.clearTimeout(e.B),e.B=null)}function Vd(e){0==e.l.G||e.I||av(e.l,e)}function zd(e){Ud(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Jh(e.T),ad(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||mp(n.h,e)))if(!e.J&&mp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;iv(n),Qp(n)}tv(n),pd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=yd(Lf(n.cb,n),6e3));if(1>=yp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else uv(n,11)}else if((e.J||n.g==e)&&iv(n),!Hf(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(gp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Xd(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=cv(r,r.H?r.ka:null,r.V),d.J){kp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ud(p),Fd(p)),r.g=d}else ev(r);0<n.i.length&&Xp(n)}else"stop"!=a[0]&&"close"!=a[0]||uv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uv(n,7):Gp(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}hd()}catch(a){}}function qd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Of(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Of(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Of(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xf=Id.prototype).setTimeout=function(e){this.O=e},xf.ib=function(e){e=e.target;var t=this.L;t&&3==zp(e)?t.l():this.La(e)},xf.La=function(e){try{if(e==this.g)e:{var t=zp(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||eh||this.g&&(this.h.h||this.g.fa()||Bp(this.g)))){this.I||4!=t||7==n||hd(),Ud(this);var r=this.g.aa();this.Y=r;t:if(Dd(this)){var i=Bp(this.g);e="";var a=i.length,o=4==zp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zd(this),Vd(this);var u="";break t}this.h.i=new If.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hf(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,pd(12),zd(this),Vd(this);break e}ud(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bd(this,r)}this.P?(Ld(this,t,u),eh&&this.i&&3==t&&(id(this.S,this.T,"tick",this.hb),this.T.start())):(ud(this.j,this.m,u,null),Bd(this,u)),4==t&&zd(this),this.i&&!this.I&&(4==t?av(this.l,this):(this.i=!1,Fd(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,pd(12)):(this.o=0,pd(13)),zd(this),Vd(this)}}}catch(t){}},xf.hb=function(){if(this.g){var e=zp(this.g),t=this.g.fa();this.C<t.length&&(Ud(this),Ld(this,e,t),this.i&&4!=e&&Fd(this))}},xf.cancel=function(){this.I=!0,zd(this)},xf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hd(),pd(17)),zd(this),this.o=2,Vd(this)):jd(this,this.V-e)};var Hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wd){this.h=void 0!==t?t:e.h,Gd(this,e.j),this.s=e.s,this.g=e.g,Qd(this,e.m),this.l=e.l,t=e.i;var n=new op;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),$d(this,n),this.o=e.o}else e&&(n=String(e).match(Hd))?(this.h=!!t,Gd(this,n[1]||"",!0),this.s=Jd(n[2]||""),this.g=Jd(n[3]||"",!0),Qd(this,n[4]),this.l=Jd(n[5]||"",!0),$d(this,n[6]||"",!0),this.o=Jd(n[7]||"")):(this.h=!!t,this.i=new op(null,this.h))}function Kd(e){return new Wd(e)}function Gd(e,t,n){e.j=n?Jd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $d(e,t,n){t instanceof op?(e.i=t,function(e,t){t&&!e.j&&(up(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sp(this,t),lp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zd(t,ip)),e.i=new op(t,e.h))}function Xd(e,t,n){e.i.set(t,n)}function Yd(e){return Xd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ep),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ep(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zd(t,tp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zd(t,tp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zd(n,"/"==n.charAt(0)?rp:np,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zd(n,ap)),e.join("")};var tp=/[#\/\?@]/g,np=/[#\?:]/g,rp=/[#\?]/g,ip=/[#\?@]/g,ap=/#/g;function op(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function up(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sp(e,t){up(e),t=fp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cp(e,t){return up(e),t=fp(e,t),e.g.has(t)}function lp(e,t,n){sp(e,t),0<n.length&&(e.i=null,e.g.set(fp(e,t),Vf(n)),e.h+=n.length)}function fp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xf=op.prototype).add=function(e,t){up(this),this.i=null,e=fp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xf.forEach=function(e,t){up(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xf.oa=function(){up(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xf.W=function(e){up(this);var t=[];if("string"===typeof e)cp(this,e)&&(t=t.concat(this.g.get(fp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xf.set=function(e,t){return up(this),this.i=null,cp(this,e=fp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},xf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hp=Mt((function e(t,n){Dt(this,e),this.h=t,this.g=n}));function dp(e){this.l=e||pp,If.PerformanceNavigationTiming?e=0<(e=If.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(If.g&&If.g.Ga&&If.g.Ga()&&If.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pp=10;function vp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yp(e){return e.h?1:e.g?e.g.size:0}function mp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gp(e,t){e.g?e.g.add(t):e.h=t}function kp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ut(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Vf(e.i)}function wp(){}function _p(){this.g=new wp}function xp(e,t,n){var r=n||"";try{qd(e,(function(e,n){var i=e;Af(e)&&(i=Vh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(D){}}function Ep(e){this.l=e.ac||null,this.j=e.jb||!1}function Tp(e,t){Fh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dp.prototype.cancel=function(){if(this.i=bp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ut(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},wp.prototype.stringify=function(e){return If.JSON.stringify(e,void 0)},wp.prototype.parse=function(e){return If.JSON.parse(e,void 0)},Ff(Ep,kd),Ep.prototype.g=function(){return new Tp(this.l,this.j)},Ep.prototype.i=function(e){return function(){return e}}({}),Ff(Tp,Fh);var Ip=0;function Cp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Op(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ap(e)}function Ap(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xf=Tp.prototype).open=function(e,t){if(this.readyState!=Ip)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ap(this)},xf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||If).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},xf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Op(this)),this.readyState=Ip},xf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ap(this)),this.g&&(this.readyState=3,Ap(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof If.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},xf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Op(this):Ap(this),3==this.readyState&&Cp(this)}},xf.Va=function(e){this.g&&(this.response=this.responseText=e,Op(this))},xf.Ua=function(e){this.g&&(this.response=e,Op(this))},xf.ga=function(){this.g&&Op(this)},xf.setRequestHeader=function(e,t){this.v.append(e,t)},xf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rp=If.JSON.parse;function Np(e){Fh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pp,this.K=this.L=!1}Ff(Np,Fh);var Pp="",Dp=/^https?$/i,Lp=["POST","PUT"];function Mp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fp(e),Up(e)}function Fp(e){e.D||(e.D=!0,jh(e,"complete"),jh(e,"error"))}function jp(e){if(e.h&&"undefined"!=typeof Tf&&(!e.C[1]||4!=zp(e)||2!=e.aa()))if(e.v&&4==zp(e))Zh(e.Ha,0,e);else if(jh(e,"readystatechange"),4==zp(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Hd)[1]||null;if(!a&&If.self&&If.self.location){var o=If.self.location.protocol;a=o.substr(0,o.length-1)}i=!Dp.test(a?a.toLowerCase():"")}t=i}if(t)jh(e,"complete"),jh(e,"success");else{e.m=6;try{var u=2<zp(e)?e.g.statusText:""}catch(N){u=""}e.j=u+" ["+e.aa()+"]",Fp(e)}}finally{Up(e)}}}function Up(e,t){if(e.g){Vp(e);var n=e.g,r=e.C[0]?Cf:null;e.g=null,e.C=null,t||jh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(If.clearTimeout(e.A),e.A=null)}function zp(e){return e.g?e.g.readyState:0}function Bp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Pp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(q){return null}}function qp(e){var t="";return gh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Hp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xd(e,t,n))}function Wp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kp(e){this.Ca=0,this.i=[],this.j=new od,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wp("baseRetryDelayMs",5e3,e),this.bb=Wp("retryDelaySeedMs",1e4,e),this.$a=Wp("forwardChannelMaxRetries",2,e),this.ta=Wp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new dp(e&&e.concurrentRequestLimit),this.Fa=new _p,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gp(e){if($p(e),3==e.G){var t=e.U++,n=Kd(e.F);Xd(n,"SID",e.I),Xd(n,"RID",t),Xd(n,"TYPE","terminate"),Jp(e,n),(t=new Id(e,e.j,t,void 0)).K=2,t.v=Yd(Kd(n)),n=!1,If.navigator&&If.navigator.sendBeacon&&(n=If.navigator.sendBeacon(t.v.toString(),"")),!n&&If.Image&&((new Image).src=t.v,n=!0),n||(t.g=lv(t.l,null),t.g.da(t.v)),t.F=Date.now(),Fd(t)}sv(e)}function Qp(e){e.g&&(nv(e),e.g.cancel(),e.g=null)}function $p(e){Qp(e),e.u&&(If.clearTimeout(e.u),e.u=null),iv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&If.clearTimeout(e.m),e.m=null)}function Xp(e){vp(e.h)||e.m||(e.m=!0,Gh(e.Ja,e),e.C=0)}function Yp(e,t){var n;n=t?t.m:e.U++;var r=Kd(e.F);Xd(r,"SID",e.I),Xd(r,"RID",n),Xd(r,"AID",e.T),Jp(e,r),e.o&&e.s&&Hp(r,e.o,e.s),n=new Id(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Zp(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),gp(e.h,n),Nd(n,r,t)}function Jp(e,t){e.ia&&gh(e.ia,(function(e,n){Xd(t,n,e)})),e.l&&qd({},(function(e,n){Xd(t,n,e)}))}function Zp(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Lf(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xp(l,o,"req"+c+"_")}catch(se){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ev(e){e.g||e.u||(e.Z=1,Gh(e.Ia,e),e.A=0)}function tv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=yd(Lf(e.Ia,e),ov(e,e.A)),e.A++,!0)}function nv(e){null!=e.B&&(If.clearTimeout(e.B),e.B=null)}function rv(e){e.g=new Id(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Kd(e.sa);Xd(t,"RID","rpc"),Xd(t,"SID",e.I),Xd(t,"CI",e.L?"0":"1"),Xd(t,"AID",e.T),Xd(t,"TYPE","xmlhttp"),Jp(e,t),e.o&&e.s&&Hp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Yd(Kd(t)),n.s=null,n.P=!0,Pd(n,e)}function iv(e){null!=e.v&&(If.clearTimeout(e.v),e.v=null)}function av(e,t){var n=null;if(e.g==t){iv(e),nv(e),e.g=null;var r=2}else{if(!mp(e.h,t))return;n=t.D,kp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;jh(r=ld(),new vd(r,n)),Xp(e)}else ev(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(yp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=yd(Lf(e.Ja,e,t),ov(e,e.C)),e.C++,!0))}(e,t)||2==r&&tv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:uv(e,5);break;case 4:uv(e,10);break;case 3:uv(e,6);break;default:uv(e,2)}}function ov(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function uv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Lf(e.kb,e);n||(n=new Wd("//www.google.com/images/cleardot.gif"),If.location&&"http"==If.location.protocol||Gd(n,"https"),Yd(n)),function(e,t){var n=new od;if(If.Image){var r=new Image;r.onload=Mf(Sp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mf(Sp,n,r,"TestLoadImage: error",!1,t),r.onabort=Mf(Sp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mf(Sp,n,r,"TestLoadImage: timeout",!1,t),If.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pd(2);e.G=0,e.l&&e.l.va(t),sv(e),$p(e)}function sv(e){if(e.G=0,e.la=[],e.l){var t=bp(e.h);0==t.length&&0==e.i.length||(zf(e.la,t),zf(e.la,e.i),e.h.i.length=0,Vf(e.i),e.i.length=0),e.l.ua()}}function cv(e,t,n){var r=n instanceof Wd?Kd(n):new Wd(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Qd(r,r.m);else{var i=If.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Wd(null,void 0);r&&Gd(a,r),t&&(a.g=t),i&&Qd(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Xd(r,n,t),Xd(r,"VER",e.ma),Jp(e,r),r}function lv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Np(new Ep({jb:!0})):new Np(e.ra)).Ka(e.H),t}function fv(){}function hv(){if(Jf&&!(10<=Number(fh)))throw Error("Environmental error: no available transport.")}function dv(e,t){Fh.call(this),this.g=new Kp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Hf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yv(this)}function pv(e){Sd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vv(){Ed.call(this),this.status=1}function yv(e){this.g=e}(xf=Np.prototype).Ka=function(e){this.L=e},xf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?bd(this.u):bd(_d),this.g.onreadystatechange=Lf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Mp(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ut(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=If.FormData&&e instanceof If.FormData,!(0<=Uf(Lp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Ut(n);try{for(c.s();!(s=c.n()).done;){var l=Bt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vp(this),0<this.B&&((this.K=function(e){return Jf&&ch()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lf(this.qa,this)):this.A=Zh(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Mp(this,u)}},xf.qa=function(){"undefined"!=typeof Tf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jh(this,"timeout"),this.abort(8))},xf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jh(this,"complete"),jh(this,"abort"),Up(this))},xf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Up(this,!0)),Np.X.M.call(this)},xf.Ha=function(){this.s||(this.F||this.v||this.l?jp(this):this.fb())},xf.fb=function(){jp(this)},xf.aa=function(){try{return 2<zp(this)?this.g.status:-1}catch(P){return-1}},xf.fa=function(){try{return this.g?this.g.responseText:""}catch(P){return""}},xf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rp(t)}},xf.Ea=function(){return this.m},xf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xf=Kp.prototype).ma=8,xf.G=1,xf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Id(this,this.j,e,void 0),n=this.s;if(this.S&&(n?wh(n=kh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zp(this,t,r),Xd(i=Kd(this.F),"RID",e),Xd(i,"CVER",22),this.D&&Xd(i,"X-HTTP-Session-Id",this.D),Jp(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(qp(n)))+"&"+r:this.o&&Hp(i,this.o,n)),gp(this.h,t),this.Ya&&Xd(i,"TYPE","init"),this.O?(Xd(i,"$req",r),Xd(i,"SID","null"),t.Z=!0,Nd(t,i,null)):Nd(t,i,r),this.G=2}}else 3==this.G&&(e?Yp(this,e):0==this.i.length||vp(this.h)||Yp(this))},xf.Ia=function(){if(this.u=null,rv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=yd(Lf(this.eb,this),e)}},xf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pd(10),Qp(this),rv(this))},xf.cb=function(){null!=this.v&&(this.v=null,Qp(this),tv(this),pd(19))},xf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),pd(2)):(this.j.info("Failed to ping google.com"),pd(1))},(xf=fv.prototype).xa=function(){},xf.wa=function(){},xf.va=function(){},xf.ua=function(){},xf.Ra=function(){},hv.prototype.g=function(e,t){return new dv(e,t)},Ff(dv,Fh),dv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;pd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=cv(e,null,e.V),Xp(e)},dv.prototype.close=function(){Gp(this.g)},dv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Vh(e),e=n);t.i.push(new hp(t.ab++,e)),3==t.G&&Xp(t)},dv.prototype.M=function(){this.g.l=null,delete this.j,Gp(this.g),delete this.g,dv.X.M.call(this)},Ff(pv,Sd),Ff(vv,Ed),Ff(yv,fv),yv.prototype.xa=function(){jh(this.g,"a")},yv.prototype.wa=function(e){jh(this.g,new pv(e))},yv.prototype.va=function(e){jh(this.g,new vv)},yv.prototype.ua=function(){jh(this.g,"b")},hv.prototype.createWebChannel=hv.prototype.g,dv.prototype.send=dv.prototype.u,dv.prototype.open=dv.prototype.m,dv.prototype.close=dv.prototype.close,md.NO_ERROR=0,md.TIMEOUT=8,md.HTTP_ERROR=6,gd.COMPLETE="complete",wd.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",Fh.prototype.listen=Fh.prototype.N,Np.prototype.listenOnce=Np.prototype.O,Np.prototype.getLastError=Np.prototype.Oa,Np.prototype.getLastErrorCode=Np.prototype.Ea,Np.prototype.getStatus=Np.prototype.aa,Np.prototype.getResponseJson=Np.prototype.Sa,Np.prototype.getResponseText=Np.prototype.fa,Np.prototype.send=Np.prototype.da,Np.prototype.setWithCredentials=Np.prototype.Ka;var mv=Ef.createWebChannelTransport=function(){return new hv},gv=Ef.getStatEventTarget=function(){return ld()},kv=Ef.ErrorCode=md,bv=Ef.EventType=gd,wv=Ef.Event=sd,_v=Ef.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xv=Ef.FetchXmlHttpFactory=Ep,Sv=Ef.WebChannel=wd,Ev=Ef.XhrIo=Np,Tv="@firebase/firestore",Iv=function(){function e(t){Dt(this,e),this.uid=t}return Mt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Iv.UNAUTHENTICATED=new Iv(null),Iv.GOOGLE_CREDENTIALS=new Iv("google-credentials-uid"),Iv.FIRST_PARTY=new Iv("first-party-uid"),Iv.MOCK_USER=new Iv("mock-user");var Cv="9.18.0",Ov=new Wn("@firebase/firestore");function Av(){return Ov.logLevel}function Rv(e){if(Ov.logLevel<=jn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Ov.debug.apply(Ov,["Firestore (".concat(Cv,"): ").concat(e)].concat(Rn(i)))}}function Nv(e){if(Ov.logLevel<=jn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Ov.error.apply(Ov,["Firestore (".concat(Cv,"): ").concat(e)].concat(Rn(i)))}}function Pv(e){if(Ov.logLevel<=jn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dv);Ov.warn.apply(Ov,["Firestore (".concat(Cv,"): ").concat(e)].concat(Rn(i)))}}function Dv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cv,") INTERNAL ASSERTION FAILED: ")+e;throw Nv(t),new Error(t)}function Mv(e,t){e||Lv()}function Fv(e,t){return e}var jv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uv=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Mt(n)}(yn),Vv=Mt((function e(){var t=this;Dt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zv=Mt((function e(t,n){Dt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bv=function(){function e(){Dt(this,e)}return Mt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Iv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qv=function(){function e(t){Dt(this,e),this.token=t,this.changeListener=null}return Mt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hv=function(){function e(t){Dt(this,e),this.t=t,this.currentUser=Iv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Mt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Vv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Vv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Rv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Rv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Rv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mv("string"==typeof n.accessToken),new zv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mv(null===e||"string"==typeof e),new Iv(e)}}]),e}(),Wv=function(){function e(t,n,r,i){Dt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Iv.FIRST_PARTY,this.p=new Map}return Mt(e,[{key:"I",value:function(){return this.g?this.g():(Mv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Kv=function(){function e(t,n,r,i){Dt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Mt(e,[{key:"getToken",value:function(){return Promise.resolve(new Wv(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Iv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gv=Mt((function e(t){Dt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qv=function(){function e(t){Dt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Mt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Rv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Rv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Rv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Rv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mv("string"==typeof t.token),e.A=t.token,new Gv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function $v(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Xv=function(){function e(){Dt(this,e)}return Mt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$v(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yv(e,t){return e<t?-1:e>t?1:0}function Jv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zv(e){return e+"\0"}var ey=function(){function e(t,n){if(Dt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uv(jv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uv(jv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uv(jv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uv(jv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Mt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yv(this.nanoseconds,e.nanoseconds):Yv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ty=function(){function e(t){Dt(this,e),this.timestamp=t}return Mt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ey(0,0))}},{key:"max",value:function(){return new e(new ey(253402300799,999999999))}}]),e}(),ny=function(){function e(t,n,r){Dt(this,e),void 0===n?n=0:n>t.length&&Lv(),void 0===r?r=t.length-n:r>t.length-n&&Lv(),this.segments=t,this.offset=n,this.len=r}return Mt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ry=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Uv(jv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Rn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ny),iy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ay=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return iy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uv(jv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Uv(jv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Uv(jv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Uv(jv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ny),oy=function(){function e(t){Dt(this,e),this.path=t}return Mt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ry.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ry.fromString(t))}},{key:"fromName",value:function(t){return new e(ry.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ry.emptyPath())}},{key:"comparator",value:function(e,t){return ry.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ry(t.slice()))}}]),e}(),uy=Mt((function e(t,n,r,i){Dt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function sy(e){return e.fields.find((function(e){return 2===e.kind}))}function cy(e){return e.fields.filter((function(e){return 2!==e.kind}))}uy.UNKNOWN_ID=-1;var ly=Mt((function e(t,n){Dt(this,e),this.fieldPath=t,this.kind=n}));var fy=function(){function e(t,n){Dt(this,e),this.sequenceNumber=t,this.offset=n}return Mt(e,null,[{key:"empty",value:function(){return new e(0,py.min())}}]),e}();function hy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ty.fromTimestamp(1e9===r?new ey(n+1,0):new ey(n,r));return new py(i,oy.empty(),t)}function dy(e){return new py(e.readTime,e.key,-1)}var py=function(){function e(t,n,r){Dt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Mt(e,null,[{key:"min",value:function(){return new e(ty.min(),oy.empty(),-1)}},{key:"max",value:function(){return new e(ty.max(),oy.empty(),-1)}}]),e}();function vy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=oy.comparator(e.documentKey,t.documentKey))?n:Yv(e.largestBatchId,t.largestBatchId)}var yy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",my=function(){function e(){Dt(this,e),this.onCommittedListeners=[]}return Mt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function gy(e){return ky.apply(this,arguments)}function ky(){return ky=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jv.FAILED_PRECONDITION&&t.message===yy){e.next=2;break}throw t;case 2:Rv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}var by=function(){function e(t){var n=this;Dt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Mt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ut(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),wy=function(){function e(t,n){var r=this;Dt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Vv,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Sy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Oy(e.target.error);r.P.reject(new Sy(t,n))}}return Mt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Rv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ty(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Sy(n,t)}}}]),e}(),_y=function(){function e(t,n,r){Dt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ln())&&Nv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Mt(e,[{key:"O",value:function(){var e=Pn(On().mark((function e(t){var n=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Rv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Sy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uv(jv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uv(jv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Sy(t,n))},i.onupgradeneeded=function(e){Rv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.F(t,i.transaction,e.oldVersion,n.version).next((function(){Rv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Pn(On().mark((function e(t,n,r,i){var a,o,u,s,c=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=On().mark((function e(){var n,u,s,l;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=wy.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),by.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Rv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Rv("SimpleDb","Removing database:",e),Iy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!vn())return!1;if(e.N())return!0;var t=ln(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.$)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xy=function(){function e(t){Dt(this,e),this.q=t,this.U=!1,this.K=null}return Mt(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Iy(this.q.delete())}}]),e}(),Sy=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,jv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Mt(n)}(Uv);function Ey(e){return"IndexedDbTransactionError"===e.name}var Ty=function(){function e(t){Dt(this,e),this.store=t}return Mt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Rv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Rv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Iy(n)}},{key:"add",value:function(e){return Rv("SimpleDb","ADD",this.store.name,e,e),Iy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Iy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Rv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Rv("SimpleDb","DELETE",this.store.name,e),Iy(this.store.delete(e))}},{key:"count",value:function(){return Rv("SimpleDb","COUNT",this.store.name),Iy(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new by((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new by((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Rv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new by((function(n,r){t.onerror=function(e){var t=Oy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new by((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xy(i),o=t(i.primaryKey,i.value,a);if(o instanceof by){var u=o.catch((function(e){return a.done(),by.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return by.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Iy(e){return new by((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Oy(e.target.error);n(t)}}))}var Cy=!1;function Oy(e){var t=_y.D(ln());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Cy||(Cy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ay=function(){function e(t,n){Dt(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Mt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Rv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Rv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ey(e.t4)){e.next=17;break}Rv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,gy(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ry=function(){function e(t,n){Dt(this,e),this.localStore=t,this.persistence=n}return Mt(e,[{key:"st",value:function(){var e=Pn(On().mark((function e(){var t,n=this,r=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return by.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Rv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Rv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=dy(t);vy(r,n)>0&&(n=r)})),new py(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ny=function(){function e(t,n){var r=this;Dt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Mt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Ny.at=-1;var Py=Mt((function e(t,n,r,i,a,o,u,s){Dt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Dy=function(){function e(t,n){Dt(this,e),this.projectId=t,this.database=n||"(default)"}return Mt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ly(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function My(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jy(e){return null==e}function Uy(e){return 0===e&&1/e==-1/0}function Vy(e){return"number"==typeof e&&Number.isInteger(e)&&!Uy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zy=function(e){Wt(n,e);var t=Qt(n);function n(){var e;return Dt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Mt(n)}(Xt(Error));var By=function(e){function t(e){Dt(this,t),this.binaryString=e}return Mt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new zy("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();By.EMPTY_BYTE_STRING=new By("");var qy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hy(e){if(Mv(!!e),"string"==typeof e){var t=0,n=qy.exec(e);if(Mv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wy(e.seconds),nanos:Wy(e.nanos)}}function Wy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ky(e){return"string"==typeof e?By.fromBase64String(e):By.fromUint8Array(e)}function Gy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qy(e){var t=e.mapValue.fields.__previous_value__;return Gy(t)?Qy(t):t}function $y(e){var t=Hy(e.mapValue.fields.__local_write_time__.timestampValue);return new ey(t.seconds,t.nanos)}var Xy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yy={nullValue:"NULL_VALUE"};function Jy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gy(e)?4:hm(e)?9007199254740991:10:Lv()}function Zy(e,t){if(e===t)return!0;var n=Jy(e);if(n!==Jy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $y(e).isEqual($y(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hy(e.timestampValue),r=Hy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ky(e.bytesValue).isEqual(Ky(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wy(e.geoPointValue.latitude)===Wy(t.geoPointValue.latitude)&&Wy(e.geoPointValue.longitude)===Wy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wy(e.integerValue)===Wy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wy(e.doubleValue),r=Wy(t.doubleValue);return n===r?Uy(n)===Uy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jv(e.arrayValue.values||[],t.arrayValue.values||[],Zy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ly(n)!==Ly(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zy(n[i],r[i])))return!1;return!0}(e,t);default:return Lv()}}function em(e,t){return void 0!==(e.values||[]).find((function(e){return Zy(e,t)}))}function tm(e,t){if(e===t)return 0;var n=Jy(e),r=Jy(t);if(n!==r)return Yv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wy(e.integerValue||e.doubleValue),r=Wy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm($y(e),$y(t));case 5:return Yv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ky(e),r=Ky(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yv(n[i],r[i]);if(0!==a)return a}return Yv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yv(Wy(e.latitude),Wy(t.latitude));return 0!==n?n:Yv(Wy(e.longitude),Wy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tm(n[i],r[i]);if(a)return a}return Yv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xy.mapValue&&t===Xy.mapValue)return 0;if(e===Xy.mapValue)return 1;if(t===Xy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Yv(r[o],a[o]);if(0!==u)return u;var s=tm(n[r[o]],i[a[o]]);if(0!==s)return s}return Yv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lv()}}function nm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yv(e,t);var n=Hy(e),r=Hy(t),i=Yv(n.seconds,r.seconds);return 0!==i?i:Yv(n.nanos,r.nanos)}function rm(e){return im(e)}function im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Hy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ky(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ut(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=im(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ut(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(im(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lv();var t,n}function am(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function om(e){return!!e&&"integerValue"in e}function um(e){return!!e&&"arrayValue"in e}function sm(e){return!!e&&"nullValue"in e}function cm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lm(e){return!!e&&"mapValue"in e}function fm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return My(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dm(e){return"nullValue"in e?Yy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?am(Dy.empty(),oy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Lv()}function pm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?am(Dy.empty(),oy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Xy:Lv()}function vm(e,t){var n=tm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ym(e,t){var n=tm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var mm=Mt((function e(t,n){Dt(this,e),this.position=t,this.inclusive=n}));function gm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?oy.comparator(oy.fromName(o.referenceValue),n.key):tm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function km(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zy(e.position[n],t.position[n]))return!1;return!0}var bm=Mt((function e(){Dt(this,e)})),wm=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Mt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tm(t,this.value)):null!==t&&Jy(this.value)===Jy(t)&&this.matchesComparison(tm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Rm(e,t,r):"array-contains"===t?new Lm(e,r):"in"===t?new Mm(e,r):"not-in"===t?new Fm(e,r):"array-contains-any"===t?new jm(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Nm(e,n):new Pm(e,n)}}]),n}(bm),_m=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Mt(n,[{key:"matches",value:function(e){return xm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Ut(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(bm);function xm(e){return"and"===e.op}function Sm(e){return"or"===e.op}function Em(e){return Tm(e)&&xm(e)}function Tm(e){var t,n=Ut(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof _m)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Im(e){if(e instanceof wm)return e.field.canonicalString()+e.op.toString()+rm(e.value);if(Em(e))return e.filters.map((function(e){return Im(e)})).join(",");var t=e.filters.map((function(e){return Im(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Cm(e,t){return e instanceof wm?function(e,t){return t instanceof wm&&e.op===t.op&&e.field.isEqual(t.field)&&Zy(e.value,t.value)}(e,t):e instanceof _m?function(e,t){return t instanceof _m&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Cm(n,t.filters[r])}),!0)}(e,t):void Lv()}function Om(e,t){var n=e.filters.concat(t);return _m.create(n,e.op)}function Am(e){return e instanceof wm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rm(e.value))}(e):e instanceof _m?function(e){return e.op.toString()+" {"+e.getFilters().map(Am).join(" ,")+"}"}(e):"Filter"}var Rm=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,e,r,i)).key=oy.fromName(i.referenceValue),a}return Mt(n,[{key:"matches",value:function(e){var t=oy.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(wm),Nm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,"in",r)).keys=Dm("in",r),i}return Mt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm),Pm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,"not-in",r)).keys=Dm("not-in",r),i}return Mt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm);function Dm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return oy.fromName(e.referenceValue)}))}var Lm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"array-contains",r)}return Mt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return um(t)&&em(t.arrayValue,this.value)}}]),n}(wm),Mm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"in",r)}return Mt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&em(this.value.arrayValue,t)}}]),n}(wm),Fm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"not-in",r)}return Mt(n,[{key:"matches",value:function(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!em(this.value.arrayValue,t)}}]),n}(wm),jm=function(e){Wt(n,e);var t=Qt(n);function n(e,r){return Dt(this,n),t.call(this,e,"array-contains-any",r)}return Mt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return em(t.value.arrayValue,e)}))}}]),n}(wm),Um=Mt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Dt(this,e),this.field=t,this.dir=n}));function Vm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var zm=function(){function e(t,n){Dt(this,e),this.comparator=t,this.root=n||qm.EMPTY}return Mt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Bm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Bm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Bm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Bm(this.root,e,this.comparator,!0)}}]),e}(),Bm=function(){function e(t,n,r,i){Dt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Mt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qm=function(){function e(t,n,r,i,a){Dt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Mt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lv();if(this.right.isRed())throw Lv();var e=this.left.check();if(e!==this.right.check())throw Lv();return e+(this.isRed()?0:1)}}]),e}();qm.EMPTY=null,qm.RED=!0,qm.BLACK=!1,qm.EMPTY=new(function(){function e(){Dt(this,e),this.size=0}return Mt(e,[{key:"key",get:function(){throw Lv()}},{key:"value",get:function(){throw Lv()}},{key:"color",get:function(){throw Lv()}},{key:"left",get:function(){throw Lv()}},{key:"right",get:function(){throw Lv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Hm=function(){function e(t){Dt(this,e),this.comparator=t,this.data=new zm(this.comparator)}return Mt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Wm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Wm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Wm=function(){function e(t){Dt(this,e),this.iter=t}return Mt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Km(e){return e.hasNext()?e.getNext():void 0}var Gm=function(){function e(t){Dt(this,e),this.fields=t,t.sort(ay.comparator)}return Mt(e,[{key:"unionWith",value:function(t){var n,r=new Hm(ay.comparator),i=Ut(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ut(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ut(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Qm=function(){function e(t){Dt(this,e),this.value=t}return Mt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fm(t)}},{key:"setAll",value:function(e){var t=this,n=ay.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Zy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){My(t,(function(t,n){return e[t]=n}));var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $m(e){var t=[];return My(e.fields,(function(e,n){var r=new ay([e]);if(lm(n)){var i=$m(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ut(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Gm(t)}var Xm=function(){function e(t,n,r,i,a,o,u){Dt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Mt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ty.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Qm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Qm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ty.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ty.min(),ty.min(),ty.min(),Qm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ty.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ty.min(),ty.min(),Qm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ty.min(),ty.min(),Qm.empty(),2)}}]),e}(),Ym=Mt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Dt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Jm(e){return new Ym(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zm(e){var t=Fv(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Im(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return rm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return rm(e)})).join(",")),t._t=n}return t._t}function eg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Cm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!km(e.startAt,t.startAt)&&km(e.endAt,t.endAt)}function tg(e){return oy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ng(e,t){return e.filters.filter((function(e){return e instanceof wm&&e.field.isEqual(t)}))}function rg(e,t,n){var r,i=Yy,a=!0,o=Ut(ng(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Yy,c=!0;switch(u.op){case"<":case"<=":s=dm(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Yy}vm({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];vm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ig(e,t,n){var r,i=Xy,a=!0,o=Ut(ng(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Xy,c=!0;switch(u.op){case">=":case">":s=pm(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Xy}ym({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ym({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ag=Mt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Dt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function og(e,t,n,r,i,a,o,u){return new ag(e,t,n,r,i,a,o,u)}function ug(e){return new ag(e)}function sg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lg(e){var t,n=Ut(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function fg(e){return null!==e.collectionGroup}function hg(e){var t=Fv(e);if(null===t.wt){t.wt=[];var n=lg(t),r=cg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Um(n)),t.wt.push(new Um(ay.keyField(),"asc"));else{var i,a=!1,o=Ut(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Um(ay.keyField(),s))}}}return t.wt}function dg(e){var t=Fv(e);if(!t.gt)if("F"===t.limitType)t.gt=Jm(t.path,t.collectionGroup,hg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ut(hg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Um(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new mm(t.startAt.position,t.startAt.inclusive):null;t.gt=Jm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function pg(e,t){t.getFirstInequalityField(),lg(e);var n=e.filters.concat([t]);return new ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vg(e,t,n){return new ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yg(e,t){return eg(dg(e),dg(t))&&e.limitType===t.limitType}function mg(e){return"".concat(Zm(dg(e)),"|lt:").concat(e.limitType)}function gg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Am(e)})).join(", "),"]")),jy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return rm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return rm(e)})).join(",")),"Target(".concat(t,")")}(dg(e)),"; limitType=").concat(e.limitType,")")}function kg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ut(hg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=gm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hg(e),t))&&!(e.endAt&&!function(e,t,n){var r=gm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hg(e),t))}(e,t)}function bg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wg(e){return function(t,n){var r,i=!1,a=Ut(hg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=_g(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function _g(e,t,n){var r=e.field.isKeyField()?oy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tm(r,i):Lv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lv()}}function xg(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uy(t)?"-0":t}}function Sg(e){return{integerValue:""+e}}function Eg(e,t){return Vy(t)?Sg(t):xg(e,t)}var Tg=Mt((function e(){Dt(this,e),this._=void 0}));function Ig(e,t,n){return e instanceof Ag?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rg?Ng(e,t):e instanceof Pg?Dg(e,t):function(e,t){var n=Og(e,t),r=Mg(n)+Mg(e.It);return om(n)&&om(e.It)?Sg(r):xg(e.Tt,r)}(e,t)}function Cg(e,t,n){return e instanceof Rg?Ng(e,t):e instanceof Pg?Dg(e,t):n}function Og(e,t){return e instanceof Lg?om(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ag=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n)}(Tg),Rg=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).elements=e,r}return Mt(n)}(Tg);function Ng(e,t){var n,r=Fg(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Zy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pg=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).elements=e,r}return Mt(n)}(Tg);function Dg(e,t){var n,r=Fg(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Zy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lg=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Mt(n)}(Tg);function Mg(e){return Wy(e.integerValue||e.doubleValue)}function Fg(e){return um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jg=Mt((function e(t,n){Dt(this,e),this.field=t,this.transform=n}));var Ug=Mt((function e(t,n){Dt(this,e),this.version=t,this.transformResults=n})),Vg=function(){function e(t,n){Dt(this,e),this.updateTime=t,this.exists=n}return Mt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bg=Mt((function e(){Dt(this,e)}));function qg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tk(e.key,Vg.none()):new Qg(e.key,e.data,Vg.none());var n,r=e.data,i=Qm.empty(),a=new Hm(ay.comparator),o=Ut(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new $g(e.key,i,new Gm(a.toArray()),Vg.none())}function Hg(e,t,n){e instanceof Qg?function(e,t,n){var r=e.value.clone(),i=Yg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $g?function(e,t,n){if(zg(e.precondition,t)){var r=Yg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wg(e,t,n,r){return e instanceof Qg?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=e.value.clone(),a=Jg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $g?function(e,t,n,r){if(!zg(e.precondition,t))return n;var i=Jg(e.fieldTransforms,r,t),a=t.data;return a.setAll(Xg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kg(e,t){var n,r=null,i=Ut(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Og(a.transform,o||null);null!=u&&(null===r&&(r=Qm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rg&&t instanceof Rg||e instanceof Pg&&t instanceof Pg?Jv(e.elements,t.elements,Zy):e instanceof Lg&&t instanceof Lg?Zy(e.It,t.It):e instanceof Ag&&t instanceof Ag}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Qg=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Dt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Mt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bg),$g=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Dt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Mt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Bg);function Xg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yg(e,t,n){var r=new Map;Mv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Cg(o,u,n[i]))}return r}function Jg(e,t,n){var r,i=new Map,a=Ut(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ig(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Zg,ek,tk=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Mt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bg),nk=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Mt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Bg),rk=Mt((function e(t){Dt(this,e),this.count=t}));function ik(e){switch(e){default:return Lv();case jv.CANCELLED:case jv.UNKNOWN:case jv.DEADLINE_EXCEEDED:case jv.RESOURCE_EXHAUSTED:case jv.INTERNAL:case jv.UNAVAILABLE:case jv.UNAUTHENTICATED:return!1;case jv.INVALID_ARGUMENT:case jv.NOT_FOUND:case jv.ALREADY_EXISTS:case jv.PERMISSION_DENIED:case jv.FAILED_PRECONDITION:case jv.ABORTED:case jv.OUT_OF_RANGE:case jv.UNIMPLEMENTED:case jv.DATA_LOSS:return!0}}function ak(e){if(void 0===e)return Nv("GRPC error has no .code"),jv.UNKNOWN;switch(e){case Zg.OK:return jv.OK;case Zg.CANCELLED:return jv.CANCELLED;case Zg.UNKNOWN:return jv.UNKNOWN;case Zg.DEADLINE_EXCEEDED:return jv.DEADLINE_EXCEEDED;case Zg.RESOURCE_EXHAUSTED:return jv.RESOURCE_EXHAUSTED;case Zg.INTERNAL:return jv.INTERNAL;case Zg.UNAVAILABLE:return jv.UNAVAILABLE;case Zg.UNAUTHENTICATED:return jv.UNAUTHENTICATED;case Zg.INVALID_ARGUMENT:return jv.INVALID_ARGUMENT;case Zg.NOT_FOUND:return jv.NOT_FOUND;case Zg.ALREADY_EXISTS:return jv.ALREADY_EXISTS;case Zg.PERMISSION_DENIED:return jv.PERMISSION_DENIED;case Zg.FAILED_PRECONDITION:return jv.FAILED_PRECONDITION;case Zg.ABORTED:return jv.ABORTED;case Zg.OUT_OF_RANGE:return jv.OUT_OF_RANGE;case Zg.UNIMPLEMENTED:return jv.UNIMPLEMENTED;case Zg.DATA_LOSS:return jv.DATA_LOSS;default:return Lv()}}(ek=Zg||(Zg={}))[ek.OK=0]="OK",ek[ek.CANCELLED=1]="CANCELLED",ek[ek.UNKNOWN=2]="UNKNOWN",ek[ek.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ek[ek.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ek[ek.NOT_FOUND=5]="NOT_FOUND",ek[ek.ALREADY_EXISTS=6]="ALREADY_EXISTS",ek[ek.PERMISSION_DENIED=7]="PERMISSION_DENIED",ek[ek.UNAUTHENTICATED=16]="UNAUTHENTICATED",ek[ek.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ek[ek.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ek[ek.ABORTED=10]="ABORTED",ek[ek.OUT_OF_RANGE=11]="OUT_OF_RANGE",ek[ek.UNIMPLEMENTED=12]="UNIMPLEMENTED",ek[ek.INTERNAL=13]="INTERNAL",ek[ek.UNAVAILABLE=14]="UNAVAILABLE",ek[ek.DATA_LOSS=15]="DATA_LOSS";var ok=function(){function e(t,n){Dt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Mt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=Bt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){My(this.inner,(function(t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=Bt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Fy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),uk=new zm(oy.comparator);function sk(){return uk}var ck=new zm(oy.comparator);function lk(){for(var e=ck,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fk(e){var t=ck;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hk(){return pk()}function dk(){return pk()}function pk(){return new ok((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vk=new zm(oy.comparator),yk=new Hm(oy.comparator);function mk(){for(var e=yk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gk=new Hm(Yv);function kk(){return gk}var bk=function(){function e(t,n,r,i,a){Dt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Mt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,wk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ty.min(),i,kk(),sk(),mk())}}]),e}(),wk=function(){function e(t,n,r,i,a){Dt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Mt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,mk(),mk(),mk())}}]),e}(),_k=Mt((function e(t,n,r,i){Dt(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),xk=Mt((function e(t,n){Dt(this,e),this.targetId=t,this.Rt=n})),Sk=Mt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:By.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Dt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ek=function(){function e(){Dt(this,e),this.Pt=0,this.vt=Ck(),this.bt=By.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Mt(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=mk(),t=mk(),n=mk();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lv()}})),new wk(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Ck()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Tk=function(){function e(t){Dt(this,e),this.Lt=t,this.qt=new Map,this.Ut=sk(),this.Kt=Ik(),this.Gt=new Hm(Yv)}return Mt(e,[{key:"Qt",value:function(e){var t,n=Ut(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ut(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Lv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(tg(i))if(0===n){var a=new oy(i.path);this.zt(t,a,Xm.newNoDocument(a,ty.min()))}else Mv(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&tg(a.target)){var o=new oy(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Xm.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=mk();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new bk(e,n,this.Gt,this.Ut,r);return this.Ut=sk(),this.Kt=Ik(),this.Gt=new Hm(Yv),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new Ek,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Hm(Yv),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Rv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new Ek),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ik(){return new zm(oy.comparator)}function Ck(){return new zm(oy.comparator)}var Ok={asc:"ASCENDING",desc:"DESCENDING"},Ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rk={and:"AND",or:"OR"},Nk=Mt((function e(t,n){Dt(this,e),this.databaseId=t,this.yt=n}));function Pk(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dk(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Lk(e,t){return Pk(e,t.toTimestamp())}function Mk(e){return Mv(!!e),ty.fromTimestamp(function(e){var t=Hy(e);return new ey(t.seconds,t.nanos)}(e))}function Fk(e,t){return function(e){return new ry(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jk(e){var t=ry.fromString(e);return Mv(ub(t)),t}function Uk(e,t){return Fk(e.databaseId,t.path)}function Vk(e,t){var n=jk(t);if(n.get(1)!==e.databaseId.projectId)throw new Uv(jv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uv(jv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oy(Hk(n))}function zk(e,t){return Fk(e.databaseId,t)}function Bk(e){var t=jk(e);return 4===t.length?ry.emptyPath():Hk(t)}function qk(e){return new ry(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hk(e){return Mv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wk(e,t,n){return{name:Uk(e,t),fields:n.value.mapValue.fields}}function Kk(e,t,n){var r=Vk(e,t.name),i=Mk(t.updateTime),a=t.createTime?Mk(t.createTime):ty.min(),o=new Qm({mapValue:{fields:t.fields}}),u=Xm.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Gk(e,t){return"found"in t?function(e,t){Mv(!!t.found),t.found.name,t.found.updateTime;var n=Vk(e,t.found.name),r=Mk(t.found.updateTime),i=t.found.createTime?Mk(t.found.createTime):ty.min(),a=new Qm({mapValue:{fields:t.found.fields}});return Xm.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Mv(!!t.missing),Mv(!!t.readTime);var n=Vk(e,t.missing),r=Mk(t.readTime);return Xm.newNoDocument(n,r)}(e,t):Lv()}function Qk(e,t){var n;if(t instanceof Qg)n={update:Wk(e,t.key,t.value)};else if(t instanceof tk)n={delete:Uk(e,t.key)};else if(t instanceof $g)n={update:Wk(e,t.key,t.data),updateMask:ob(t.fieldMask)};else{if(!(t instanceof nk))return Lv();n={verify:Uk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ag)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lg)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Lv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lv()}(e,t.precondition)),n}function $k(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vg.updateTime(Mk(e.updateTime)):void 0!==e.exists?Vg.exists(e.exists):Vg.none()}(t.currentDocument):Vg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mv("REQUEST_TIME"===t.setToServerValue),n=new Ag;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Rg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pg(i)}else"increment"in t?n=new Lg(e,t.increment):Lv();var a=ay.fromServerFormat(t.fieldPath);return new jg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vk(e,t.update.name),a=new Qm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Gm(t.map((function(e){return ay.fromServerFormat(e)})))}(t.updateMask);return new $g(i,a,o,n,r)}return new Qg(i,a,n,r)}if(t.delete){var u=Vk(e,t.delete);return new tk(u,n)}if(t.verify){var s=Vk(e,t.verify);return new nk(s,n)}return Lv()}function Xk(e,t){return{documents:[zk(e,t.path)]}}function Yk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ab(_m.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rb(e.field),direction:eb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||jy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jk(e){var t=Bk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Zk(e);return t instanceof _m&&Em(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Um(ib(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return jy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new mm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new mm(n,t)}(n.endAt)),og(t,i,u,o,s,"F",c,l)}function Zk(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ib(e.unaryFilter.field);return wm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ib(e.unaryFilter.field);return wm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ib(e.unaryFilter.field);return wm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ib(e.unaryFilter.field);return wm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lv()}}(e):void 0!==e.fieldFilter?function(e){return wm.create(ib(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _m.create(e.compositeFilter.filters.map((function(e){return Zk(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Lv()}}(e.compositeFilter.op))}(e):Lv()}function eb(e){return Ok[e]}function tb(e){return Ak[e]}function nb(e){return Rk[e]}function rb(e){return{fieldPath:e.canonicalString()}}function ib(e){return ay.fromServerFormat(e.fieldPath)}function ab(e){return e instanceof wm?function(e){if("=="===e.op){if(cm(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NAN"}};if(sm(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cm(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NOT_NAN"}};if(sm(e.value))return{unaryFilter:{field:rb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rb(e.field),op:tb(e.op),value:e.value}}}(e):e instanceof _m?function(e){var t=e.getFilters().map((function(e){return ab(e)}));return 1===t.length?t[0]:{compositeFilter:{op:nb(e.op),filters:t}}}(e):Lv()}function ob(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ub(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lb(t)),t=cb(e.get(n),t);return lb(t)}function cb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lb(e){return e+"\x01\x01"}function fb(e){var t=e.length;if(Mv(t>=2),2===t)return Mv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ry.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Lv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Lv()}a=o+2}return new ry(r)}var hb=["userId","batchId"];function db(e,t){return[e,sb(t)]}function pb(e,t,n){return[e,sb(t),n]}var vb={},yb=["prefixPath","collectionGroup","readTime","documentId"],mb=["prefixPath","collectionGroup","documentId"],gb=["collectionGroup","readTime","prefixPath","documentId"],kb=["canonicalId","targetId"],bb=["targetId","path"],wb=["path","targetId"],_b=["collectionId","parent"],xb=["indexId","uid"],Sb=["uid","sequenceNumber"],Eb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tb=["indexId","uid","orderedDocumentKey"],Ib=["userId","collectionPath","documentId"],Cb=["userId","collectionPath","largestBatchId"],Ob=["userId","collectionGroup","largestBatchId"],Ab=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Rb=[].concat(Rn(Ab),["documentOverlays"]),Nb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pb=Nb,Db=[].concat(Pb,["indexConfiguration","indexState","indexEntries"]),Lb=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return Mt(n)}(my);function Mb(e,t){var n=Fv(e);return _y.M(n.re,t)}var Fb=function(){function e(t,n,r,i){Dt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Mt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ut(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Wg(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ut(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Wg(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=dk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=qg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ty.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jv(this.mutations,e.mutations,(function(e,t){return Gg(e,t)}))&&Jv(this.baseMutations,e.baseMutations,(function(e,t){return Gg(e,t)}))}}]),e}(),jb=function(){function e(t,n,r,i){Dt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Mt(e,null,[{key:"from",value:function(t,n,r){Mv(t.mutations.length===r.length);for(var i=vk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ub=function(){function e(t,n){Dt(this,e),this.largestBatchId=t,this.mutation=n}return Mt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Vb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ty.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ty.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:By.EMPTY_BYTE_STRING;Dt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Mt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),zb=Mt((function e(t){Dt(this,e),this.oe=t}));function Bb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Uk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Pk(e,t.version.toTimestamp()),createTime:Pk(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hb(t.version)};else{if(!t.isUnknownDocument())return Lv();r.unknownDocument={path:n.path.toArray(),version:Hb(t.version)}}return r}function qb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wb(e){var t=new ey(e.seconds,e.nanoseconds);return ty.fromTimestamp(t)}function Kb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return $k(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return $k(e.oe,t)})),u=ey.fromMillis(t.localWriteTimeMs);return new Fb(t.batchId,u,n,o)}function Gb(e){var t,n,r=Wb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Wb(e.lastLimboFreeSnapshotVersion):ty.min();return void 0!==e.query.documents?(Mv(1===(n=e.query).documents.length),t=dg(ug(Bk(n.documents[0])))):t=function(e){return dg(Jk(e))}(e.query),new Vb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,By.fromBase64String(e.resumeToken))}function Qb(e,t){var n,r=Hb(t.snapshotVersion),i=Hb(t.lastLimboFreeSnapshotVersion);n=tg(t.target)?Xk(e.oe,t.target):Yk(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zm(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function $b(e){var t=Jk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vg(t,t.limit,"L"):t}function Xb(e,t){return new Ub(t.largestBatchId,$k(e.oe,t.overlayMutation))}function Yb(e,t){var n=t.path.lastSegment();return[e,sb(t.path.popLast()),n]}function Jb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Hb(r.readTime),documentKey:sb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Zb=function(){function e(){Dt(this,e)}return Mt(e,[{key:"getBundleMetadata",value:function(e,t){return ew(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Wb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ew(e).put({bundleId:(n=t).id,createTime:Hb(Mk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:$b(t.bundledQuery),readTime:Wb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tw(e).put(function(e){return{name:e.name,readTime:Hb(Mk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ew(e){return Mb(e,"bundles")}function tw(e){return Mb(e,"namedQueries")}var nw=function(){function e(t,n){Dt(this,e),this.Tt=t,this.userId=n}return Mt(e,[{key:"getOverlay",value:function(e,t){var n=this;return rw(e).get(Yb(this.userId,t)).next((function(e){return e?Xb(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=hk();return by.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ub(t,a);i.push(r.ce(e,o))})),by.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(sb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rw(e).Y("collectionPathOverlayIndex",i))})),by.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=hk(),a=sb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Xb(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=hk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rw(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Xb(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return rw(e).put(function(e,t,n){var r=Bt(Yb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qk(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rw(e){return Mb(e,"documentOverlays")}var iw=function(){function e(){Dt(this,e)}return Mt(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Wy(e.integerValue));else if("doubleValue"in e){var n=Wy(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Uy(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Ky(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?hm(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Lv()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),oy.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function aw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ow(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=aw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}iw.Ee=new iw;var uw=function(){function e(){Dt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Mt(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"De",value:function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=ow(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=ow(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$e",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sw=function(){function e(t){Dt(this,e),this.Le=t}return Mt(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.$e()}}]),e}(),cw=function(){function e(t){Dt(this,e),this.Le=t}return Mt(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),lw=function(){function e(){Dt(this,e),this.Le=new uw,this.qe=new sw(this.Le),this.Ue=new cw(this.Le)}return Mt(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),fw=function(){function e(t,n,r,i){Dt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Mt(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=dw(e.arrayValue,t.arrayValue))?n:0!==(n=dw(e.directionalValue,t.directionalValue))?n:oy.comparator(e.documentKey,t.documentKey)}function dw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pw=function(){function e(t){Dt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=Ut(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Mt(e,[{key:"We",value:function(e){Mv(e.collectionGroup===this.collectionId);var t=sy(e);if(void 0!==t&&!this.He(t))return!1;for(var n=cy(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=Ut(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function vw(e){var t,n;if(Mv(e instanceof wm||e instanceof _m),e instanceof wm){if(e instanceof Mm){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return wm.create(e.field,"==",t)})))||[];return _m.create(r,"or")}return e}var i=e.filters.map((function(e){return vw(e)}));return _m.create(i,e.op)}function yw(e){if(0===e.getFilters().length)return[];var t=bw(vw(e));return Mv(kw(t)),mw(t)||gw(t)?[t]:t.getFilters()}function mw(e){return e instanceof wm}function gw(e){return e instanceof _m&&Em(e)}function kw(e){return mw(e)||gw(e)||function(e){if(e instanceof _m&&Sm(e)){var t,n=Ut(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!mw(r)&&!gw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function bw(e){if(Mv(e instanceof wm||e instanceof _m),e instanceof wm)return e;if(1===e.filters.length)return bw(e.filters[0]);var t=e.filters.map((function(e){return bw(e)})),n=_m.create(t,e.op);return kw(n=xw(n))?n:(Mv(n instanceof _m),Mv(xm(n)),Mv(n.filters.length>1),n.filters.reduce((function(e,t){return ww(e,t)})))}function ww(e,t){var n;return Mv(e instanceof wm||e instanceof _m),Mv(t instanceof wm||t instanceof _m),n=e instanceof wm?t instanceof wm?function(e,t){return _m.create([e,t],"and")}(e,t):_w(e,t):t instanceof wm?_w(t,e):function(e,t){if(Mv(e.filters.length>0&&t.filters.length>0),xm(e)&&xm(t))return Om(e,t.getFilters());var n=Sm(e)?e:t,r=Sm(e)?t:e,i=n.filters.map((function(e){return ww(e,r)}));return _m.create(i,"or")}(e,t),xw(n)}function _w(e,t){if(xm(t))return Om(t,e.getFilters());var n=t.filters.map((function(t){return ww(e,t)}));return _m.create(n,"or")}function xw(e){if(Mv(e instanceof wm||e instanceof _m),e instanceof wm)return e;var t=e.getFilters();if(1===t.length)return xw(t[0]);if(Tm(e))return e;var n=t.map((function(e){return xw(e)})),r=[];return n.forEach((function(t){t instanceof wm?r.push(t):t instanceof _m&&(t.op===e.op?r.push.apply(r,Rn(t.filters)):r.push(t))})),1===r.length?r[0]:_m.create(r,e.op)}var Sw=function(){function e(){Dt(this,e),this.Ze=new Ew}return Mt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),by.resolve()}},{key:"getCollectionParents",value:function(e,t){return by.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return by.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return by.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return by.resolve(null)}},{key:"getIndexType",value:function(e,t){return by.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return by.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return by.resolve(null)}},{key:"getMinOffset",value:function(e,t){return by.resolve(py.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return by.resolve(py.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return by.resolve()}},{key:"updateIndexEntries",value:function(e,t){return by.resolve()}}]),e}(),Ew=function(){function e(){Dt(this,e),this.index={}}return Mt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hm(ry.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Hm(ry.comparator)).toArray()}}]),e}(),Tw=new Uint8Array(0),Iw=function(){function e(t,n){Dt(this,e),this.user=t,this.databaseId=n,this.Xe=new Ew,this.tn=new ok((function(e){return Zm(e)}),(function(e,t){return eg(e,t)})),this.uid=t.uid||""}return Mt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:sb(i)};return Cw(e).put(a)}return by.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zv(t),""],!1,!0);return Cw(e).W(r).next((function(e){var r,i=Ut(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Aw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Rw(e);return a.next((function(e){o.put(Jb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Aw(e),r=Rw(e),i=Ow(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ow(e),i=!0,a=new Map;return by.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=mk(),o=[];return by.forEach(a,(function(i,a){var u;Rv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Zm(t)));var s=function(e,t){var n=sy(t);if(void 0===n)return null;var r,i=Ut(ng(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ut(cy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ut(ng(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ut(cy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?rg(e,o.fieldPath,e.startAt):ig(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mm(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ut(cy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ig(e,o.fieldPath,e.endAt):rg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mm(r,i)}(a,i),h=n.sn(i,a,l),d=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return by.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=oy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return by.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:yw(_m.create(e.filters,"and")).map((function(t){return Jm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[h/c]):Tw,f=u.cn(e,s,n[h%c],r),d=u.an(e,s,i[h%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,Rn(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new fw(e,oy.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new fw(e,oy.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new pw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ut(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return by.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Hm(ay.comparator),r=!1,i=Ut(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Ut(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Ut(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new lw,i=Ut(cy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);iw.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new lw;return iw.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new lw;return iw.Ee.ae(am(this.databaseId,t),n.Ke(function(e){var t=cy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lw);var i,a=0,o=Ut(cy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ut(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&um(c))r=this.dn(r,s,c);else{var h=f.Ke(s.kind);iw.Ee.ae(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=Rn(e),a=[],o=Ut(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ut(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new lw;f.seed(l.Be()),iw.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof wm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Aw(e),i=Rw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return by.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new fy(t.sequenceNumber,new py(Wb(t.readTime),new oy(fb(t.documentKey)),t.largestBatchId)):fy.empty(),r=e.fields.map((function(e){var t=Bt(e,2),n=t[0],r=t[1];return new ly(ay.fromServerFormat(n),r)}));return new uy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Aw(e),a=Rw(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return by.forEach(t,(function(t){return a.put(Jb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return by.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?by.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),by.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?by.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return Ow(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return Ow(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=Ow(e),i=new Hm(hw);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new fw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Hm(hw),r=this.hn(t,e);if(null==r)return n;var i=sy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(um(a)){var o,u=Ut(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new fw(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new fw(t.indexId,e.key,Tw,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Rv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Km(a),s=Km(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Km(o)):l?(i(u),u=Km(a)):(u=Km(a),s=Km(o))}}(r,i,hw,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),by.waitFor(o)}},{key:"wn",value:function(e){var t=1;return Rw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hw(e,t)})).filter((function(e,t,n){return!t||0!==hw(e,n[t-1])}));var r=[];r.push(e);var i,a=Ut(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hw(o,e),s=hw(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Tw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Tw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Tn",value:function(e,t){return hw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Nw)}},{key:"getMinOffset",value:function(e,t){var n=this;return by.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||Lv()}))})).next(Nw)}}]),e}();function Cw(e){return Mb(e,"collectionParents")}function Ow(e){return Mb(e,"indexEntries")}function Aw(e){return Mb(e,"indexConfiguration")}function Rw(e){return Mb(e,"indexState")}function Nw(e){Mv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;vy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new py(t.readTime,t.documentKey,n)}var Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dw=function(){function e(t,n,r){Dt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Mt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Mv(1===u)})));var c,l=[],f=Ut(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return by.waitFor(a).next((function(){return l}))}function Mw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lv();t=e.noDocument}return JSON.stringify(t).length}Dw.DEFAULT_COLLECTION_PERCENTILE=10,Dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dw.DEFAULT=new Dw(41943040,Dw.DEFAULT_COLLECTION_PERCENTILE,Dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dw.DISABLED=new Dw(-1,0,0);var Fw=function(){function e(t,n,r,i){Dt(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return Mt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uw(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Vw(e),o=Uw(e);return o.add({}).next((function(u){Mv("number"==typeof u);var s,c=new Fb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Qk(e.oe,t)})),i=n.mutations.map((function(t){return Qk(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],h=new Hm((function(e,t){return Yv(e.canonicalString(),t.canonicalString())})),d=Ut(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=pb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vb))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),by.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Uw(e).get(t).next((function(e){return e?(Mv(e.userId===n.userId),Kb(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?by.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Uw(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Mv(t.batchId>=r),a=Kb(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Uw(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uw(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Kb(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=db(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vw(e).X({range:i},(function(r,i,o){var u=Bt(r,3),s=u[0],c=u[1],l=u[2],f=fb(c);if(s===n.userId&&t.path.isEqual(f))return Uw(e).get(l).next((function(e){if(!e)throw Lv();Mv(e.userId===n.userId),a.push(Kb(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hm(Yv),i=[];return t.forEach((function(t){var a=db(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Vw(e).X({range:o},(function(e,i,a){var o=Bt(e,3),u=o[0],s=o[1],c=o[2],l=fb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),by.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=db(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Hm(Yv);return Vw(e).X({range:o},(function(e,t,a){var o=Bt(e,3),s=o[0],c=o[1],l=o[2],f=fb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Uw(e).get(t).next((function(e){if(null===e)throw Lv();Mv(e.userId===n.userId),r.push(Kb(n.Tt,e))})))})),by.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lw(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Pn(t.batchId)})),by.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Pn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return by.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Vw(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fb(e[1]);i.push(a)}else r.done()})).next((function(){Mv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jw(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return zw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return Mv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jw(e,t,n){var r=db(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vw(e).X({range:a,Z:!0},(function(e,n,r){var a=Bt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Uw(e){return Mb(e,"mutations")}function Vw(e){return Mb(e,"documentMutations")}function zw(e){return Mb(e,"mutationQueues")}var Bw=function(){function e(t){Dt(this,e),this.bn=t}return Mt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),qw=function(){function e(t,n){Dt(this,e),this.referenceDelegate=t,this.Tt=n}return Mt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new Bw(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return ty.fromTimestamp(new ey(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hw(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return Mv(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hw(e).X((function(o,u){var s=Gb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return by.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hw(e).X((function(e,n){var r=Gb(n);t(r)}))}},{key:"Dn",value:function(e){return Ww(e).get("targetGlobalKey").next((function(e){return Mv(null!==e),e}))}},{key:"Cn",value:function(e,t){return Ww(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return Hw(e).put(Qb(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Zm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hw(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Gb(n);eg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Kw(e);return t.forEach((function(t){var o=sb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),by.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Kw(e);return by.forEach(t,(function(t){var a=sb(t.path);return by.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Kw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kw(e),i=mk();return r.X({range:n,Z:!0},(function(e,t,n){var r=fb(e[1]),a=new oy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sb(t.path),r=IDBKeyRange.bound([n],[Zv(n)],!1,!0),i=0;return Kw(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=Bt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return Hw(e).get(t).next((function(e){return e?Gb(e):null}))}}]),e}();function Hw(e){return Mb(e,"targets")}function Ww(e){return Mb(e,"targetGlobal")}function Kw(e){return Mb(e,"targetDocuments")}function Gw(e,t){var n=Bt(e,2),r=n[0],i=n[1],a=Bt(t,2),o=a[0],u=a[1],s=Yv(r,o);return 0===s?Yv(i,u):s}var Qw=function(){function e(t){Dt(this,e),this.kn=t,this.buffer=new Hm(Gw),this.$n=0}return Mt(e,[{key:"Mn",value:function(){return++this.$n}},{key:"On",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Gw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),$w=function(){function e(t,n,r){Dt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Fn=null}return Mt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}},{key:"started",get:function(){return null!==this.Fn}},{key:"Bn",value:function(e){var t=this;Rv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ey(e.t0)){e.next=12;break}Rv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,gy(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Xw=function(){function e(t,n){Dt(this,e),this.Ln=t,this.params=n}return Mt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return by.resolve(Ny.at);var r=new Qw(t);return this.Ln.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rv("LruGarbageCollector","Garbage collection skipped; disabled"),by.resolve(Pw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Pw):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Rv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Av()<=jn.DEBUG&&Rv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),by.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Yw=function(){function e(t,n){Dt(this,e),this.db=t,this.garbageCollector=function(e,t){return new Xw(e,t)}(this,n)}return Mt(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Jw(e,n)}},{key:"removeReference",value:function(e,t,n){return Jw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Jw(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return zw(e).tt((function(r){return jw(e,r,t).next((function(e){return e&&(n=!0),by.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ty.min()),Kw(e).delete([0,sb(o.path)])}))}));i.push(s)}})).next((function(){return by.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Jw(e,t)}},{key:"Qn",value:function(e,t){var n,r=Kw(e),i=Ny.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=Bt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ny.at&&t(new oy(fb(n)),i),i=s,n=u):i=Ny.at})).next((function(){i!==Ny.at&&t(new oy(fb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Jw(e,t){return Kw(e).put(function(e,t){return{targetId:0,path:sb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Zw=function(){function e(){Dt(this,e),this.changes=new ok((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Mt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?by.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),e_=function(){function e(t){Dt(this,e),this.Tt=t}return Mt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return i_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return i_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Xm.newInvalidDocument(t);return i_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(a_(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Xm.newInvalidDocument(t)};return i_(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(a_(t))},(function(e,i){r={document:n.Wn(t,i),size:Mw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=sk();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=sk(),i=new zm(oy.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,Mw(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return by.resolve();var r=new Hm(u_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(a_(r.first()),a_(r.last())),a=r.getIterator(),o=a.getNext();return i_(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=oy.fromSegments([].concat(Rn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&u_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(a_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),qb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return i_(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=sk(),o=Ut(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(oy.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(kg(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=sk(),o=o_(t,n),u=o_(t,py.max());return i_(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(oy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new n_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return r_(e).get("remoteDocumentGlobalKey").next((function(e){return Mv(!!e),e}))}},{key:"zn",value:function(e,t){return r_(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Kk(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=oy.fromSegments(t.noDocument.path),i=Wb(t.noDocument.readTime);n=Xm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Lv();var a=oy.fromSegments(t.unknownDocument.path),o=Wb(t.unknownDocument.version);n=Xm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ey(e[0],e[1]);return ty.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(ty.min()))return n}return Xm.newInvalidDocument(e)}}]),e}();function t_(e){return new e_(e)}var n_=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new ok((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Mt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Hm((function(e,t){return Yv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Bb(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=Mw(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Bb(t.Xn.Tt,o.convertToNoDocument(ty.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),by.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Zw);function r_(e){return Mb(e,"remoteDocumentGlobal")}function i_(e){return Mb(e,"remoteDocumentsV14")}function a_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function o_(e,t){var n=t.documentKey.path.toArray();return[e,qb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function u_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Yv(n[a],r[a]))return i;return(i=Yv(n.length,r.length))||((i=Yv(n[n.length-2],r[r.length-2]))||Yv(n[n.length-1],r[r.length-1]))}var s_=Mt((function e(t,n){Dt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),c_=function(){function e(t,n,r,i){Dt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Mt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Wg(r.mutation,e,Gm.empty(),ey.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,mk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mk(),i=hk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=lk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,mk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=sk(),a=pk(),o=pk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof $g)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Wg(o.mutation,t,o.mutation.getFieldMask(),ey.now())):a.set(t.key,Gm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new s_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pk(),i=new zm((function(e,t){return e-t})),a=mk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ut(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Gm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||mk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=dk();c.forEach((function(e){if(!a.has(e)){var n=qg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return by.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return oy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):by.resolve(hk()),u=-1,s=a;return o.next((function(t){return by.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?by.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,mk())})).next((function(e){return{batchId:u,changes:fk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new oy(t)).next((function(e){var t=lk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lk();return this.indexManager.getCollectionParents(e,i).next((function(o){return by.forEach(o,(function(o){var u=function(e,t){return new ag(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xm.newInvalidDocument(r)))}));var n=lk();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Wg(a.mutation,i,Gm.empty(),ey.now()),kg(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),l_=function(){function e(t){Dt(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Mt(e,[{key:"getBundleMetadata",value:function(e,t){return by.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Mk(n.createTime)}),by.resolve()}},{key:"getNamedQuery",value:function(e,t){return by.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:$b(e.bundledQuery),readTime:Mk(e.readTime)}}(t)),by.resolve()}}]),e}(),f_=function(){function e(){Dt(this,e),this.overlays=new zm(oy.comparator),this.ss=new Map}return Mt(e,[{key:"getOverlay",value:function(e,t){return by.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hk();return by.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),by.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),by.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hk(),i=t.length+1,a=new oy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return by.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new zm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=hk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=hk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return by.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ub(t,n));var a=this.ss.get(t);void 0===a&&(a=mk(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),h_=function(){function e(){Dt(this,e),this.rs=new Hm(d_.os),this.us=new Hm(d_.cs)}return Mt(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new d_(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new d_(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new oy(new ry([])),r=new d_(n,e),i=new d_(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new oy(new ry([])),n=new d_(t,e),r=new d_(t,e+1),i=mk();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new d_(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),d_=function(){function e(t,n){Dt(this,e),this.key=t,this.gs=n}return Mt(e,null,[{key:"os",value:function(e,t){return oy.comparator(e.key,t.key)||Yv(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Yv(e.gs,t.gs)||oy.comparator(e.key,t.key)}}]),e}(),p_=function(){function e(t,n){Dt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Hm(d_.os)}return Mt(e,[{key:"checkEmpty",value:function(e){return by.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Fb(i,t,n,r);this.mutationQueue.push(a);var o,u=Ut(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new d_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return by.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return by.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return by.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return by.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return by.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new d_(t,0),i=new d_(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),by.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hm(Yv);return t.forEach((function(e){var t=new d_(e,0),i=new d_(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),by.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;oy.isDocumentKey(i)||(i=i.child(""));var a=new d_(new oy(i),0),o=new Hm(Yv);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),by.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mv(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return by.forEach(t.mutations,(function(i){var a=new d_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new d_(t,0),r=this.ps.firstAfterOrEqual(n);return by.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,by.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),v_=function(){function e(t){Dt(this,e),this.Rs=t,this.docs=new zm(oy.comparator),this.size=0}return Mt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return by.resolve(n?n.document.mutableCopy():Xm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=sk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xm.newInvalidDocument(e))})),by.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=sk(),a=t.path,o=new oy(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||vy(dy(l),n)<=0||(r.has(l.key)||kg(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return by.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Lv()}},{key:"Ps",value:function(e,t){return by.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new y_(this)}},{key:"getSize",value:function(e){return by.resolve(this.size)}}]),e}(),y_=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).Xn=e,r}return Mt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),by.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Zw),m_=function(){function e(t){Dt(this,e),this.persistence=t,this.vs=new ok((function(e){return Zm(e)}),eg),this.lastRemoteSnapshotVersion=ty.min(),this.highestTargetId=0,this.bs=0,this.Vs=new h_,this.targetCount=0,this.Ss=Bw.Vn()}return Mt(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),by.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return by.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return by.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),by.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),by.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new Bw(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,by.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),by.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,by.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),by.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return by.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return by.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),by.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),by.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),by.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return by.resolve(n)}},{key:"containsKey",value:function(e,t){return by.resolve(this.Vs.containsKey(t))}}]),e}(),g_=function(){function e(t,n){var r=this;Dt(this,e),this.Ds={},this.overlays={},this.Cs=new Ny(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new m_(this),this.indexManager=new Sw,this.remoteDocumentCache=new v_((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new zb(n),this.$s=new l_(this.Tt)}return Mt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new f_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new p_(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;Rv("MemoryPersistence","Starting transaction:",e);var i=new k_(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return by.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),k_=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Mt(n)}(my),b_=function(){function e(t){Dt(this,e),this.persistence=t,this.Bs=new h_,this.Ls=null}return Mt(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Lv()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),by.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),by.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),by.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return by.forEach(this.Us,(function(r){var i=oy.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,ty.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return by.or([function(){return by.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),w_=function(){function e(t){Dt(this,e),this.Tt=t}return Mt(e,[{key:"F",value:function(e,t,n,r){var i=this,a=new wy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hb,{unique:!0}),e.createObjectStore("documentMutations")}(e),__(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=by.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),__(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ty.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return by.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ib});t.createIndex("collectionPathOverlayIndex",Cb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ob,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:yb});t.createIndex("documentKeyIndex",mb),t.createIndex("collectionGroupIndex",gb)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:xb}).createIndex("sequenceNumberIndex",Sb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Eb}).createIndex("documentKeyIndex",Tb,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Mw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return by.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return by.forEach(r,(function(r){Mv(r.userId===n.userId);var i=Kb(t.Tt,r);return Lw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new ry(n),o=function(e){return[0,sb(e)]}(a);r.push(t.get(o).next((function(n){return n?by.resolve():function(n){return t.put({targetId:0,path:sb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return by.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:_b});var n=t.store("collectionParents"),r=new Ew,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sb(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new ry(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=Bt(e,3),r=(n[0],n[1]),a=(n[2],fb(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Gb(r),a=Qb(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new oy(ry.fromString(i.document.name).popFirst(5)):i.noDocument?oy.fromSegments(i.noDocument.path):i.unknownDocument?oy.fromSegments(i.unknownDocument.path):Lv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return by.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=t_(this.Tt),a=new g_(b_.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:mk();Kb(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),by.forEach(r,(function(e,r){var o=new Iv(r),u=nw.ue(n.Tt,o),s=a.getIndexManager(o),c=Fw.ue(o,n.Tt,s,a.referenceDelegate);return new c_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lb(t,Ny.at),e).next()}))}))}}]),e}();function __(e){e.createObjectStore("targetDocuments",{keyPath:bb}).createIndex("documentTargetsIndex",wb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kb,{unique:!0}),e.createObjectStore("targetGlobal")}var x_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",S_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Dt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Uv(jv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yw(this,i),this.oi=n+"main",this.Tt=new zb(s),this.ui=new _y(this.oi,this.ti,new w_(this.Tt)),this.Ns=new qw(this.referenceDelegate,this.Tt),this.remoteDocumentCache=t_(this.Tt),this.$s=new Zb,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&Nv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Mt(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uv(jv.FAILED_PRECONDITION,x_);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new Ny(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=Pn(On().mark((function n(r){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=Pn(On().mark((function t(n){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return T_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(Ey(t))return Rv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Rv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return E_(e).get("owner").next((function(e){return by.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return T_(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i,a=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return by.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=Ut(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?by.resolve(!0):E_(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Uv(jv.FAILED_PRECONDITION,x_);return!1}}return!(!t.networkEnabled||!t.inForeground)||T_(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Rv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Pn(On().mark((function e(){var t=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lb(e,Ny.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return T_(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return Fw.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Iw(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nw.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;Rv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?Db:14===i?Pb:13===i?Nb:12===i?Rb:11===i?Ab:void Lv();return this.ui.runTransaction(e,o,u,(function(i){return a=new Lb(i,r.Cs?r.Cs.next():Ny.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw Nv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Uv(jv.FAILED_PRECONDITION,yy);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return E_(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uv(jv.FAILED_PRECONDITION,x_)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return E_(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=E_(e);return n.get("owner").next((function(e){return t.yi(e)?(Rv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):by.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Nv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.Pi();var e=/(?:Version|Mobile)\/1[456]/;!fn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"bi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Rv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Nv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Pi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(O){Nv("Failed to set zombie client id.",O)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(O){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return _y.C()}}]),e}();function E_(e){return Mb(e,"owner")}function T_(e){return Mb(e,"clientMetadata")}function I_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var C_=function(){function e(t,n,r,i){Dt(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Mt(e,null,[{key:"Ni",value:function(t,n){var r,i=mk(),a=mk(),o=Ut(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),O_=function(){function e(){Dt(this,e),this.ki=!1}return Mt(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(sg(t))return by.resolve(null);var r=dg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=vg(t,null,"F"),r=dg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=mk.apply(void 0,Rn(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,vg(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return sg(t)||r.isEqual(ty.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(Av()<=jn.DEBUG&&Rv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gg(t)),i.qi(e,o,t,hy(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Hm(wg(e));return t.forEach((function(t,r){kg(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return Av()<=jn.DEBUG&&Rv("QueryEngine","Using full collection scan to execute query:",gg(t)),this.$i.getDocumentsMatchingQuery(e,t,py.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),A_=function(){function e(t,n,r,i){Dt(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new zm(Yv),this.Gi=new ok((function(e){return Zm(e)}),eg),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return Mt(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c_(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function R_(e,t,n,r){return new A_(e,t,n,r)}function N_(e,t){return P_.apply(this,arguments)}function P_(){return P_=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=mk(),s=Ut(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ut(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ut(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Ut(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function D_(e,t){var n=Fv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=by.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=mk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function L_(e){var t=Fv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function M_(e,t){var n=Fv(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(By.EMPTY_BYTE_STRING,ty.min()).withLastLimboFreeSnapshotVersion(ty.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=sk(),s=mk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(F_(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(ty.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return by.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function F_(e,t,n){var r=mk(),i=mk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=sk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ty.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Rv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function j_(e,t){var n=Fv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function U_(e,t){var n=Fv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,by.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Vb(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function V_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fv(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ey(e.t1)){e.next=12;break}throw e.t1;case 12:Rv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),z_.apply(this,arguments)}function B_(e,t,n){var r=Fv(e),i=ty.min(),a=mk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fv(e),i=r.Gi.get(n);return void 0!==i?by.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,dg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:ty.min(),n?a:mk())})).next((function(e){return W_(r,bg(t),e),{documents:e,Yi:a}}))}))}function q_(e,t){var n=Fv(e),r=Fv(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function H_(e,t){var n=Fv(e),r=n.Qi.get(t)||ty.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,hy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return W_(n,t,e),e}))}function W_(e,t,n){var r=e.Qi.get(t)||ty.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function K_(e,t,n,r){return G_.apply(this,arguments)}function G_(){return G_=Pn(On().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fv(t),o=mk(),u=sk(),s=Ut(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,U_(a,function(e){return dg(ug(ry.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return F_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=Pn(On().mark((function e(t,n){var r,i,a,o=arguments;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mk(),e.next=3,U_(t,dg($b(n.bundledQuery)));case 3:return i=e.sent,a=Fv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$s.saveNamedQuery(e,n);var o=i.withResumeToken(By.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function X_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Y_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function J_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Z_=function(){function e(t,n,r,i){Dt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Mt(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Nv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ex=function(){function e(t,n,r){Dt(this,e),this.targetId=t,this.state=n,this.error=r}return Mt(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Nv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tx=function(){function e(t,n){Dt(this,e),this.clientId=t,this.activeTargetIds=n}return Mt(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Nv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),nx=function(){function e(t,n){Dt(this,e),this.clientId=t,this.onlineState=n}return Mt(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Nv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),rx=function(){function e(){Dt(this,e),this.activeTargetIds=kk()}return Mt(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ix=function(){function e(t,n,r,i,a){Dt(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new zm(Yv),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=X_(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new rx),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return Mt(e,[{key:"start",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=Ut(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(X_(this.persistenceKey,i)))&&(o=tx.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=Ut(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(d){c.e(d)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(J_(this.persistenceKey,e));if(n){var r=ex.er(e,n);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Pr.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Pr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(J_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Rv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Rv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Rv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Rv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void Nv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(Pn(On().mark((function e(){var r,i,a,o,u,s,c;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$r(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=Ny.at;if(null!=e)try{var n=JSON.parse(e);Mv("number"==typeof n),t=n}catch(e){Nv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ny.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Pr",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.Pr.nr())}},{key:"Ar",value:function(e,t,n){var r=new Z_(this.currentUser,e,t,n),i=Y_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Y_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=J_(this.persistenceKey,e),i=new ex(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return tx.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Z_.er(new Iv(i),r,t)}},{key:"$r",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return ex.er(r,t)}},{key:"Ir",value:function(e){return nx.er(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:Rv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=kk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ax=function(){function e(){Dt(this,e),this.Ur=new rx,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Mt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new rx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ox=function(){function e(){Dt(this,e)}return Mt(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ux=function(){function e(){var t=this;Dt(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Mt(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Rv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ut(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Rv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ut(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sx=null;function cx(){return null===sx?sx=268435456+Math.round(2147483648*Math.random()):sx++,"0x"+sx.toString(16)}var lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fx=function(){function e(t){Dt(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Mt(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),hx="WebChannelConnection",dx=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Mt(n,[{key:"wo",value:function(e,t,n,r){var i=cx();return new Promise((function(a,o){var u=new Ev;u.setWithCredentials(!0),u.listenOnce(bv.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case kv.NO_ERROR:var t=u.getResponseJson();Rv(hx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case kv.TIMEOUT:Rv(hx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Uv(jv.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:var n=u.getStatus();if(Rv(hx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jv).indexOf(t)>=0?t:jv.UNKNOWN}(s.status);o(new Uv(c,s.message))}else o(new Uv(jv.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Uv(jv.UNAVAILABLE,"Connection failed."));break;default:Lv()}}finally{Rv(hx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Rv(hx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=cx(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mv(),o=gv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new xv({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Rv(hx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new fx({Yr:function(t){f?Rv(hx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Rv(hx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Rv(hx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Sv.EventType.OPEN,(function(){f||Rv(hx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Sv.EventType.CLOSE,(function(){f||(f=!0,Rv(hx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.oo())})),d(c,Sv.EventType.ERROR,(function(t){f||(f=!0,Pv(hx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.oo(new Uv(jv.UNAVAILABLE,"The operation could not be completed")))})),d(c,Sv.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Mv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Rv(hx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Zg[e];if(void 0!==t)return ak(t)}(u),l=o.message;void 0===s&&(s=jv.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.oo(new Uv(s,l)),c.close()}else Rv(hx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.uo(i)}})),d(o,wv.STAT_EVENT,(function(t){t.stat===_v.PROXY?Rv(hx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===_v.NOPROXY&&Rv(hx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){Dt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Mt(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=cx(),o=this.fo(e,t);Rv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this._o(u,r,i),this.wo(e,o,u,n).then((function(t){return Rv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Pv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=lx[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function px(){return"undefined"!=typeof window?window:null}function vx(){return"undefined"!=typeof document?document:null}function yx(e){return new Nk(e,!0)}var mx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Dt(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Mt(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Rv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),gx=function(){function e(t,n,r,i,a,o,u,s){Dt(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new mx(t,n)}return Mt(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===jv.RESOURCE_EXHAUSTED?(Nv(n.toString()),Nv("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===jv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Bt(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new Uv(jv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Rv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Rv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kx=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return Mt(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Mv(void 0===t||"string"==typeof t),By.fromBase64String(t||"")):(Mv(void 0===t||t instanceof Uint8Array),By.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jv.UNKNOWN:ak(e.code);return new Uv(t,e.message||"")}(o);n=new Sk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Vk(e,s.document.name),l=Mk(s.document.updateTime),f=s.document.createTime?Mk(s.document.createTime):ty.min(),h=new Qm({mapValue:{fields:s.document.fields}}),d=Xm.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new _k(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Vk(e,y.document),g=y.readTime?Mk(y.readTime):ty.min(),k=Xm.newNoDocument(m,g),b=y.removedTargetIds||[];n=new _k([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Vk(e,w.document),x=w.removedTargetIds||[];n=new _k([],x,_,null)}else{if(!("filter"in t))return Lv();t.filter;var S=t.filter;S.targetId;var E=S.count||0,T=new rk(E),I=S.targetId;n=new xk(I,T)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return ty.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ty.min():t.readTime?Mk(t.readTime):ty.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=qk(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=tg(r)?{documents:Xk(e,r)}:{query:Yk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Dk(e,t.resumeToken):t.snapshotVersion.compareTo(ty.min())>0&&(n.readTime=Pk(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=qk(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(gx),bx=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return Mt(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,li(Kt(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Mv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Mv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mk(e.updateTime):Mk(t);return n.isEqual(ty.min())&&(n=Mk(t)),new Ug(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mk(e.commitTime);return this.listener.eu(n,t)}return Mv(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=qk(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qk(t.Tt,e)}))};this.qo(n)}}]),n}(gx),wx=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Mt(n,[{key:"ru",value:function(){if(this.iu)throw new Uv(jv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Bt(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uv(jv.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Bt(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Uv(jv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Mt((function e(){Dt(this,e)}))}());var _x=function(){function e(t,n){Dt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Mt(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Nv(t),this.cu=!1):Rv("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),xx=Mt((function e(t,n,r,i,a){var o=this;Dt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Dx(o),!e.t0){e.next=5;break}return Rv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fv(t)).mu.add(4),e.next=4,Tx(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,Sx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new _x(r,i)}));function Sx(e){return Ex.apply(this,arguments)}function Ex(){return Ex=Pn(On().mark((function e(t){var n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dx(t)){e.next=18;break}n=Ut(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ex.apply(this,arguments)}function Tx(e){return Ix.apply(this,arguments)}function Ix(){return Ix=Pn(On().mark((function e(t){var n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ix.apply(this,arguments)}function Cx(e,t){var n=Fv(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Px(n)?Nx(n):cS(n).Mo()&&Ax(n,t))}function Ox(e,t){var n=Fv(e),r=cS(n);n.wu.delete(t),r.Mo()&&Rx(n,t),0===n.wu.size&&(r.Mo()?r.Bo():Dx(n)&&n.pu.set("Unknown"))}function Ax(e,t){e.Iu.Ot(t.targetId),cS(e).Jo(t)}function Rx(e,t){e.Iu.Ot(t),cS(e).Yo(t)}function Nx(e){e.Iu=new Tk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),cS(e).start(),e.pu.au()}function Px(e){return Dx(e)&&!cS(e).$o()&&e.wu.size>0}function Dx(e){return 0===Fv(e).mu.size}function Lx(e){e.Iu=void 0}function Mx(e){return Fx.apply(this,arguments)}function Fx(){return Fx=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){Ax(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function jx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lx(t),Px(t)?(t.pu.fu(n),Nx(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=Pn(On().mark((function e(t,n,r){var i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof Sk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ut(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Rv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Bx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _k?t.Iu.Qt(n):n instanceof xk?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(ty.min())){e.next=29;break}return e.prev=14,e.next=17,L_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(By.EMPTY_BYTE_STRING,n.snapshotVersion)),Rx(e,t);var r=new Vb(n.target,t,1,n.sequenceNumber);Ax(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Rv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Bx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zx.apply(this,arguments)}function Bx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=Pn(On().mark((function e(t,n,r){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ey(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Tx(t);case 5:t.pu.set("Offline"),r||(r=function(){return L_(t.localStore)}),t.asyncQueue.enqueueRetryable(Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,Sx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Hx(e,t){return t().catch((function(n){return Bx(e,n,t)}))}function Wx(e){return Kx.apply(this,arguments)}function Kx(){return Kx=Pn(On().mark((function e(t){var n,r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fv(t),r=lS(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Gx(n)){e.next=19;break}return e.prev=3,e.next=6,j_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,Qx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Bx(n,e.t0);case 17:e.next=2;break;case 19:$x(n)&&Xx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Kx.apply(this,arguments)}function Gx(e){return Dx(e)&&e._u.length<10}function Qx(e,t){e._u.push(t);var n=lS(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function $x(e){return Dx(e)&&!lS(e).$o()&&e._u.length>0}function Xx(e){lS(e).start()}function Yx(e){return Jx.apply(this,arguments)}function Jx(){return Jx=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lS(t).su();case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e){return eS.apply(this,arguments)}function eS(){return eS=Pn(On().mark((function e(t){var n,r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lS(t),r=Ut(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return nS=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=jb.from(i,n,r),e.next=3,Hx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Wx(t);case 5:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=Pn(On().mark((function e(t,n){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lS(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ik(i=n.code)||i===jv.ABORTED){e.next=7;break}return r=t._u.shift(),lS(t).Fo(),e.next=5,Hx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Wx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$x(t)&&Xx(t);case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fv(t)).asyncQueue.verifyOperationInProgress(),Rv("RemoteStore","RemoteStore received new credentials"),i=Dx(r),r.mu.add(3),e.next=6,Tx(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,Sx(r);case 12:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fv(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,Sx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Tx(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e){return e.Tu||(e.Tu=function(e,t,n){var r=Fv(e);return r.ru(),new kx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Mx.bind(null,e),no:jx.bind(null,e),Ho:Vx.bind(null,e)}),e.gu.push(function(){var t=Pn(On().mark((function t(n){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),Px(e)?Nx(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:Lx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function lS(e){return e.Eu||(e.Eu=function(e,t,n){var r=Fv(e);return r.ru(),new bx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Yx.bind(null,e),no:rS.bind(null,e),nu:Zx.bind(null,e),eu:tS.bind(null,e)}),e.gu.push(function(){var t=Pn(On().mark((function t(n){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,Wx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Rv("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var fS=function(){function e(t,n,r,i,a){Dt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Vv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Mt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uv(jv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function hS(e,t){if(Nv("AsyncQueue","".concat(t,": ").concat(e)),Ey(e))return new Uv(jv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dS=function(){function e(t){Dt(this,e),this.comparator=t?function(e,n){return t(e,n)||oy.comparator(e.key,n.key)}:function(e,t){return oy.comparator(e.key,t.key)},this.keyedMap=lk(),this.sortedSet=new zm(this.comparator)}return Mt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pS=function(){function e(){Dt(this,e),this.Au=new zm(oy.comparator)}return Mt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Lv():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vS=function(){function e(t,n,r,i,a,o,u,s,c){Dt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Mt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,dS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yS=Mt((function e(){Dt(this,e),this.Pu=void 0,this.listeners=[]})),mS=Mt((function e(){Dt(this,e),this.queries=new ok((function(e){return mg(e)}),yg),this.onlineState="Unknown",this.vu=new Set}));function gS(e,t){return kS.apply(this,arguments)}function kS(){return kS=Pn(On().mark((function e(t,n){var r,i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=hS(e.t0,"Initialization of query '".concat(gg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Pu&&n.Vu(o.Pu)&&SS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=Pn(On().mark((function e(t,n){var r,i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function _S(e,t){var n,r=Fv(e),i=!1,a=Ut(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ut(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&SS(r)}function xS(e,t,n){var r=Fv(e),i=r.queries.get(t);if(i){var a,o=Ut(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function SS(e){e.vu.forEach((function(e){e.next()}))}var ES=function(){function e(t,n,r){Dt(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Mt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ut(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=vS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),TS=function(){function e(t,n){Dt(this,e),this.Mu=t,this.byteLength=n}return Mt(e,[{key:"Ou",value:function(){return"metadata"in this.Mu}}]),e}(),IS=function(){function e(t){Dt(this,e),this.Tt=t}return Mt(e,[{key:"Zi",value:function(e){return Vk(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Kk(this.Tt,e.document,!1):Xm.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return Mk(e)}}]),e}(),CS=function(){function e(t,n,r){Dt(this,e),this.Fu=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OS(t)}return Mt(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=ry.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new IS(this.Tt),i=Ut(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=Ut(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||mk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(this.localStore,new IS(this.Tt),this.documents,this.Fu.id);case 2:t=e.sent,n=this.Lu(this.documents),r=Ut(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Q_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function OS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var AS=Mt((function e(t){Dt(this,e),this.key=t})),RS=Mt((function e(t){Dt(this,e),this.key=t})),NS=function(){function e(t,n){Dt(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=mk(),this.mutatedKeys=mk(),this.ju=wg(t),this.zu=new dS(this.ju)}return Mt(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new pS,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lv()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new vS(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new pS,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=mk(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new RS(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new AS(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=mk();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return vS.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),PS=Mt((function e(t,n,r){Dt(this,e),this.query=t,this.targetId=n,this.view=r})),DS=Mt((function e(t){Dt(this,e),this.key=t,this.ic=!1})),LS=function(){function e(t,n,r,i,a,o){Dt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ok((function(e){return mg(e)}),yg),this.uc=new Map,this.cc=new Set,this.ac=new zm(oy.comparator),this.hc=new Map,this.lc=new h_,this.fc={},this.dc=new Map,this._c=Bw.Sn(),this.onlineState="Unknown",this.wc=void 0}return Mt(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Pn(On().mark((function e(t,n){var r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=OE(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,U_(r.localStore,dg(n));case 8:return u=e.sent,r.isPrimaryClient&&Cx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,jS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e,t,n,r,i){return US.apply(this,arguments)}function US(){return US=Pn(On().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=Pn(On().mark((function e(t,n,r,i){var a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,B_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(aE(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,B_(t.localStore,n,!0);case 3:return o=e.sent,u=new NS(n,o.Yi),s=u.Hu(o.documents),c=wk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),aE(t,r,l.tc),f=new PS(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t){return zS.apply(this,arguments)}function zS(){return zS=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fv(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!yg(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,V_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ox(r.remoteStore,i.targetId),rE(r,i.targetId)})).catch(gy);case 9:e.next=14;break;case 11:return rE(r,i.targetId),e.next=14,V_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(e,t,n){return qS.apply(this,arguments)}function qS(){return qS=Pn(On().mark((function e(t,n,r){var i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Fv(e),a=ey.now(),o=t.reduce((function(e,t){return e.add(t.key)}),mk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=sk(),s=mk();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ut(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new $g(c.key,l,$m(l.value.mapValue),Vg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new zm(Yv)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,sE(i,a.changes);case 9:return e.next=11,Wx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=hS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qS.apply(this,arguments)}function HS(e,t){return WS.apply(this,arguments)}function WS(){return WS=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),e.prev=1,e.next=4,M_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Mv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Mv(n.ic):e.removedDocuments.size>0&&(Mv(n.ic),n.ic=!1))})),e.next=8,sE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,gy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),WS.apply(this,arguments)}function KS(e,t,n){var r=Fv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ut(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&SS(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function GS(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=Pn(On().mark((function e(t,n,r){var i,a,o,u,s,c;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new zm(oy.comparator)).insert(o,Xm.newNoDocument(o,ty.min())),s=mk().add(o),c=new bk(ty.min(),new Map,new Hm(Yv),u,s),e.next=9,HS(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),uE(i),e.next=16;break;case 14:return e.next=16,V_(i.localStore,n,!1).then((function(){return rE(i,n,r)})).catch(gy);case 16:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return XS.apply(this,arguments)}function XS(){return XS=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),i=n.batch.batchId,e.prev=1,e.next=4,D_(r.localStore,n);case 4:return a=e.sent,nE(r,i,null),tE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,sE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XS.apply(this,arguments)}function YS(e,t,n){return JS.apply(this,arguments)}function JS(){return JS=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fv(t),e.prev=1,e.next=4,function(e,t){var n=Fv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Mv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,nE(i,n,r),tE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,sE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JS.apply(this,arguments)}function ZS(e,t){return eE.apply(this,arguments)}function eE(){return eE=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dx((r=Fv(t)).remoteStore)||Rv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=hS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),eE.apply(this,arguments)}function tE(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function nE(e,t,n){var r=Fv(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function rE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ut(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||iE(e,t)}))}function iE(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Ox(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),uE(e))}function aE(e,t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof AS?(e.lc.addReference(a.key,t),oE(e,a)):a instanceof RS?(Rv("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||iE(e,a.key)):Lv()}}catch(o){i.e(o)}finally{i.f()}}function oE(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Rv("SyncEngine","New document in limbo: "+n),e.cc.add(r),uE(e))}function uE(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new oy(ry.fromString(t)),r=e._c.next();e.hc.set(r,new DS(n)),e.ac=e.ac.insert(n,r),Cx(e.remoteStore,new Vb(dg(ug(n.path)),r,2,Ny.at))}}function sE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=Pn(On().mark((function e(t,n,r){var i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fv(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=C_.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o,u,s,c,l;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return by.forEach(n,(function(t){return by.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return by.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ey(e.t0)){e.next=10;break}throw e.t0;case 10:Rv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ut(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fv(t)).currentUser.isEqual(n)){e.next=11;break}return Rv("SyncEngine","User change. New user:",n.toKey()),e.next=5,N_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Uv(jv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,sE(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t){var n=Fv(e),r=n.hc.get(t);if(r&&r.ic)return mk().add(r.key);var i=mk(),a=n.uc.get(t);if(!a)return i;var o,u=Ut(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),e.next=3,B_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&aE(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Pn(On().mark((function e(t,n){var r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),e.abrupt("return",H_(r.localStore,n).then((function(e){return sE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function mE(e,t,n,r){return gE.apply(this,arguments)}function gE(){return gE=Pn(On().mark((function e(t,n,r,i){var a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fv(t),e.next=3,function(e,t){var n=Fv(e),r=Fv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):by.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Wx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(nE(a,n,i||null),tE(a,n),function(e,t){Fv(Fv(e).mutationQueue).Pn(t)}(a.localStore,n)):Lv();case 11:return e.next=13,sE(a,o);case 13:e.next=16;break;case 15:Rv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Pn(On().mark((function e(t,n){var r,i,a,o,u,s,c,l;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OE(r=Fv(t)),AE(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,wE(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,uS(r.remoteStore,!0);case 9:o=Ut(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Cx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return rE(r,t),V_(r.localStore,t,!0)})),Ox(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,wE(r,c);case 21:return function(e){var t=Fv(e);t.hc.forEach((function(e,n){Ox(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new zm(oy.comparator)}(r),r.wc=!1,e.next=25,uS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n){return _E.apply(this,arguments)}function _E(){return _E=Pn(On().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fv(t),a=[],o=[],u=Ut(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,U_(i.localStore,dg(f[0]));case 11:l=e.sent,h=Ut(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.oc.get(p),e.next=20,dE(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,q_(i.localStore,c);case 36:return m=e.sent,e.next=39,U_(i.localStore,m);case 39:return l=e.sent,e.next=42,jS(i,xE(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_E.apply(this,arguments)}function xE(e){return og(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SE(e){var t=Fv(e);return Fv(Fv(t.localStore).persistence).Si()}function EE(e,t,n,r){return TE.apply(this,arguments)}function TE(){return TE=Pn(On().mark((function e(t,n,r,i){var a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fv(t)).wc){e.next=3;break}return e.abrupt("return",void Rv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,H_(a.localStore,bg(o[0]));case 10:return u=e.sent,s=bk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,By.EMPTY_BYTE_STRING),e.next=14,sE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,V_(a.localStore,n,!0);case 17:return rE(a,n,i),e.abrupt("break",20);case 19:Lv();case 20:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function IE(e,t,n){return CE.apply(this,arguments)}function CE(){return CE=Pn(On().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=OE(t)).wc){e.next=45;break}a=Ut(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return Rv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,q_(i.localStore,u);case 12:return s=e.sent,e.next=15,U_(i.localStore,s);case 15:return c=e.sent,e.next=18,jS(i,xE(s),c.targetId,!1,c.resumeToken);case 18:Cx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ut(r),e.prev=30,h=On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,V_(i.localStore,t,!1).then((function(){Ox(i.remoteStore,t),rE(i,t)})).catch(gy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),CE.apply(this,arguments)}function OE(e){var t=Fv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GS.bind(null,t),t.rc.Ho=_S.bind(null,t.eventManager),t.rc.gc=xS.bind(null,t.eventManager),t}function AE(e){var t=Fv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YS.bind(null,t),t}function RE(e,t,n){var r=Fv(e);(function(){var e=Pn(On().mark((function e(t,n,r){var i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fv(e),r=Mk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(OS(i)),a=new CS(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,sE(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=Fv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Pv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var NE=function(){function e(){Dt(this,e),this.synchronizeTabs=!1}return Mt(e,[{key:"initialize",value:function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=yx(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return R_(this.persistence,new O_,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new g_(b_.qs,this.Tt)}},{key:"Ic",value:function(e){return new ax}},{key:"terminate",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),PE=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).Pc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Mt(n,[{key:"initialize",value:function(){var e=Pn(On().mark((function e(t){var r=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(Kt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Pc.initialize(this,t);case 4:return e.next=6,AE(this.Pc.syncEngine);case 6:return e.next=8,Wx(this.Pc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return R_(this.persistence,new O_,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new $w(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Ry(t,this.persistence);return new Ay(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=I_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dw.withCacheSize(this.cacheSizeBytes):Dw.DEFAULT;return new S_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,px(),vx(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new ax}}]),n}(NE),DE=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r,!1)).Pc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Mt(n,[{key:"initialize",value:function(){var e=Pn(On().mark((function e(t){var r,i=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(Kt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Pc.syncEngine,e.t0=this.sharedClientState instanceof ix,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:mE.bind(null,r),Lr:EE.bind(null,r),qr:IE.bind(null,r),Si:SE.bind(null,r),Fr:vE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kE(i.Pc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=px();if(!ix.C(t))throw new Uv(jv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=I_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ix(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(PE),LE=function(){function e(){Dt(this,e)}return Mt(e,[{key:"initialize",value:function(){var e=Pn(On().mark((function e(t,n){var r=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return KS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lE.bind(null,this.syncEngine),e.next=12,uS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new mS}},{key:"createDatastore",value:function(e){var t,n=yx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dx(t));return function(e,t,n,r){return new wx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return KS(o.syncEngine,e,0)},a=ux.C()?new ux:new ox,new xx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new LS(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fv(t),Rv("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Tx(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ME(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Pn(On().mark((function r(){var i;return On().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var FE=function(){function e(t){Dt(this,e),this.observer=t,this.muted=!1}return Mt(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Nv("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jE=function(){function e(t,n){var r=this;Dt(this,e),this.Vc=t,this.Tt=n,this.metadata=new Vv,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return Mt(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Pn(On().mark((function e(){var t,n,r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new TS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=Pn(On().mark((function e(){var t,n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=Pn(On().mark((function e(){var t,n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),UE=function(){function e(t){Dt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Mt(e,[{key:"lookup",value:function(){var e=Pn(On().mark((function e(t){var n,r=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uv(jv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),i=qk(r.Tt)+"/documents",a={documents:n.map((function(e){return Uk(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Gk(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Pn(On().mark((function e(){var t,n=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=oy.fromPath(t);n.mutations.push(new nk(r,n.precondition(r)))})),e.next=7,function(){var e=Pn(On().mark((function e(t,n){var r,i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fv(t),i=qk(r.Tt)+"/documents",a={writes:n.map((function(e){return Qk(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lv();t=ty.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uv(jv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ty.min())?Vg.exists(!1):Vg.updateTime(t):Vg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ty.min()))throw new Uv(jv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vg.updateTime(t)}return Vg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),VE=function(){function e(t,n,r,i,a){Dt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new mx(this.asyncQueue,"transaction_retry")}return Mt(e,[{key:"run",value:function(){this.Mc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.ko.vo(Pn(On().mark((function t(){var n,r;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new UE(e.datastore),(r=e.Fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Fc",value:function(e){try{var t=this.updateFunction(e);return!jy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ik(t)}return!1}}]),e}(),zE=function(){function e(t,n,r,i){var a=this;Dt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Iv.UNAUTHENTICATED,this.clientId=Xv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Rv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Mt(e,[{key:"getConfiguration",value:function(){var e=Pn(On().mark((function e(){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uv(jv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Vv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pn(On().mark((function n(){var r;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=hS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function BE(e,t){return qE.apply(this,arguments)}function qE(){return qE=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Rv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,N_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function HE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Pn(On().mark((function e(t,n){var r,i;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,KE(t);case 3:return r=e.sent,Rv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return aS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return aS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e){return GE.apply(this,arguments)}function GE(){return GE=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Rv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,BE(t,new NE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e){return $E.apply(this,arguments)}function $E(){return $E=Pn(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Rv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,HE(t,new LE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e){return KE(e).then((function(e){return e.persistence}))}function YE(e){return KE(e).then((function(e){return e.localStore}))}function JE(e){return QE(e).then((function(e){return e.remoteStore}))}function ZE(e){return QE(e).then((function(e){return e.syncEngine}))}function eT(e){return QE(e).then((function(e){return e.datastore}))}function tT(e){return nT.apply(this,arguments)}function nT(){return nT=Pn(On().mark((function e(t){var n,r;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=MS.bind(null,n.syncEngine),r.onUnlisten=VS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function i(){return On().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FE({next:function(a){t.enqueueAndForget((function(){return bS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Uv(jv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Uv(jv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ES(ug(n.path),a,{includeMetadataChanges:!0,$u:!0});return gS(e,o)},i.next=3,tT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function iT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function i(){return On().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FE({next:function(n){t.enqueueAndForget((function(){return bS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uv(jv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ES(n,a,{includeMetadataChanges:!0,$u:!0});return gS(e,o)},i.next=3,tT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var aT=new Map;function oT(e,t,n){if(!n)throw new Uv(jv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uT(e,t,n,r){if(!0===t&&!0===r)throw new Uv(jv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function sT(e){if(!oy.isDocumentKey(e))throw new Uv(jv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cT(e){if(oy.isDocumentKey(e))throw new Uv(jv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lv()}function fT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uv(jv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lT(e);throw new Uv(jv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function hT(e,t){if(t<=0)throw new Uv(jv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var dT=function(){function e(t){var n;if(Dt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uv(jv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uv(jv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Mt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),pT=function(){function e(t,n,r,i){Dt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1}return Mt(e,[{key:"app",get:function(){if(!this._app)throw new Uv(jv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uv(jv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bv;switch(e.type){case"gapi":var t=e.client;return new Kv(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Uv(jv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=aT.get(e);t&&(Rv("ComponentProvider","Removing Datastore"),aT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function vT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=fT(e,pT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Iv.MOCK_USER;else{o=cn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Uv(jv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Iv(s)}e._authCredentials=new qv(new zv(o,u))}}var yT=function(){function e(t,n,r){Dt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Mt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mT=function(){function e(t,n,r){Dt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Mt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),gT=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this,e,r,ug(i)))._path=i,a.type="collection",a}return Mt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yT(this.firestore,null,new oy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mT);function kT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cn(e),oT("collection","path",t),e instanceof pT){var a=ry.fromString.apply(ry,[t].concat(r));return cT(a),new gT(e,null,a)}if(!(e instanceof yT||e instanceof gT))throw new Uv(jv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ry.fromString.apply(ry,[t].concat(r)));return cT(o),new gT(e.firestore,null,o)}function bT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cn(e),1===arguments.length&&(t=Xv.R()),oT("doc","path",t),e instanceof pT){var a=ry.fromString.apply(ry,[t].concat(r));return sT(a),new yT(e,null,new oy(a))}if(!(e instanceof yT||e instanceof gT))throw new Uv(jv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ry.fromString.apply(ry,[t].concat(r)));return sT(o),new yT(e.firestore,e instanceof gT?e.converter:null,new oy(o))}function wT(e,t){return e=Cn(e),t=Cn(t),(e instanceof yT||e instanceof gT)&&(t instanceof yT||t instanceof gT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _T(e,t){return e=Cn(e),t=Cn(t),e instanceof mT&&t instanceof mT&&e.firestore===t.firestore&&yg(e._query,t._query)&&e.converter===t.converter}var xT=function(){function e(){var t=this;Dt(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new mx(this,"async_queue_retry"),this.Hc=function(){var e=vx();e&&Rv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=vx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Mt(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=vx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Vv;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=Pn(On().mark((function e(){var t=this;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ey(e.t0)){e.next=12;break}throw e.t0;case 12:Rv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Nv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=fS.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Lv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=Pn(On().mark((function e(){var t;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Ut(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ut(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function ST(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ut(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ET=function(){function e(){Dt(this,e),this._progressObserver={},this._taskCompletionResolver=new Vv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Mt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),TT=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a){var o;return Dt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new xT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Mt(n,[{key:"_terminate",value:function(){return this._firestoreClient||CT(this),this._firestoreClient.terminate()}}]),n}(pT);function IT(e){return e._firestoreClient||CT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Py(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function OT(e,t,n){var r=new Vv;return e.asyncQueue.enqueue(Pn(On().mark((function i(){var a;return On().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,BE(e,n);case 3:return i.next=5,HE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jv.FAILED_PRECONDITION||e.code===jv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Pv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function AT(e){return function(e){return e.asyncQueue.enqueue(Pn(On().mark((function t(){var n,r;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XE(e);case 2:return n=t.sent,t.next=5,JE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fv(e);return t.mu.delete(0),Sx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(IT(e=fT(e,TT)))}function RT(e){return function(e){return e.asyncQueue.enqueue(Pn(On().mark((function t(){var n,r;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XE(e);case 2:return n=t.sent,t.next=5,JE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fv(t)).mu.add(0),e.next=4,Tx(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(IT(e=fT(e,TT)))}function NT(e,t){var n=IT(e=fT(e,TT)),r=new ET;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jE(e,t)}(function(e,t){if(e instanceof Uint8Array)return ME(e,t);if(e instanceof ArrayBuffer)return ME(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yx(t));e.asyncQueue.enqueueAndForget(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RE,t.next=3,ZE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function PT(e,t){return function(e,t){return e.asyncQueue.enqueue(Pn(On().mark((function n(){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$s.getNamedQuery(e,t)}))},n.next=3,YE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(IT(e=fT(e,TT)),t).then((function(t){return t?new mT(e,null,t.query):null}))}function DT(e){if(e._initialized||e._terminated)throw new Uv(jv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var LT=function(){function e(t){Dt(this,e),this._byteString=t}return Mt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(By.fromBase64String(t))}catch(t){throw new Uv(jv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(By.fromUint8Array(t))}}]),e}(),MT=function(){function e(){Dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uv(jv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ay(n)}return Mt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FT=Mt((function e(t){Dt(this,e),this._methodName=t})),jT=function(){function e(t,n){if(Dt(this,e),!isFinite(t)||t<-90||t>90)throw new Uv(jv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uv(jv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Mt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yv(this._lat,e._lat)||Yv(this._long,e._long)}}]),e}(),UT=/^__.*__$/,VT=function(){function e(t,n,r){Dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Mt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $g(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qg(e,this.data,t,this.fieldTransforms)}}]),e}(),zT=function(){function e(t,n,r){Dt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Mt(e,[{key:"toMutation",value:function(e,t){return new $g(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function BT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lv()}}var qT=function(){function e(t,n,r,i,a,o){Dt(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Mt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return cI(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(BT(this.ra)&&UT.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),HT=function(){function e(t,n,r){Dt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||yx(t)}return Mt(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qT({ra:e,methodName:t,_a:n,path:ay.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function WT(e){var t=e._freezeSettings(),n=yx(e._databaseId);return new HT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);aI("Data must be an object, but it was:",o,r);var u,s,c=rI(r,o);if(a.merge)u=new Gm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ut(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=oI(t,l.value,n);if(!o.contains(d))throw new Uv(jv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));lI(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Gm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VT(new Qm(c),u,s)}var GT=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT);function QT(e,t,n){return new qT({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var $T=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"_toFieldTransform",value:function(e){return new jg(e.path,new Ag)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT),XT=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e)).ma=r,i}return Mt(n,[{key:"_toFieldTransform",value:function(e){var t=QT(this,e,!0),n=this.ma.map((function(e){return nI(e,t)})),r=new Rg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT),YT=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e)).ma=r,i}return Mt(n,[{key:"_toFieldTransform",value:function(e){var t=QT(this,e,!0),n=this.ma.map((function(e){return nI(e,t)})),r=new Pg(n);return new jg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT),JT=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e)).ga=r,i}return Mt(n,[{key:"_toFieldTransform",value:function(e){var t=new Lg(e.Tt,Eg(e.Tt,this.ga));return new jg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT);function ZT(e,t,n,r){var i=e.wa(1,t,n);aI("Data must be an object, but it was:",i,r);var a=[],o=Qm.empty();My(r,(function(e,r){var u=sI(t,e,n);r=Cn(r);var s=i.ha(u);if(r instanceof GT)a.push(u);else{var c=nI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Gm(a);return new zT(o,u,i.fieldTransforms)}function eI(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[oI(t,r,n)],s=[i];if(a.length%2!=0)throw new Uv(jv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(oI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Qm.empty(),h=u.length-1;h>=0;--h)if(!lI(l,u[h])){var d=u[h],p=s[h];p=Cn(p);var v=o.ha(d);if(p instanceof GT)l.push(d);else{var y=nI(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Gm(l);return new zT(f,m,o.fieldTransforms)}function tI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nI(n,e.wa(r?4:3,t))}function nI(e,t){if(iI(e=Cn(e)))return aI("Unsupported field value:",t,e),rI(e,t);if(e instanceof FT)return function(e,t){if(!BT(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ut(e);try{for(a.s();!(n=a.n()).done;){var o=nI(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Cn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Eg(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ey.fromDate(e);return{timestampValue:Pk(t.Tt,n)}}if(e instanceof ey){var r=new ey(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pk(t.Tt,r)}}if(e instanceof jT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof LT)return{bytesValue:Dk(t.Tt,e._byteString)};if(e instanceof yT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(lT(e)))}(e,t)}function rI(e,t){var n={};return Fy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):My(e,(function(e,r){var i=nI(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function iI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ey||e instanceof jT||e instanceof LT||e instanceof yT||e instanceof FT)}function aI(e,t,n){if(!iI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=lT(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function oI(e,t,n){if((t=Cn(t))instanceof MT)return t._internalPath;if("string"==typeof t)return sI(e,t);throw cI("Field path arguments must be of type string or ",e,!1,void 0,n)}var uI=new RegExp("[~\\*/\\[\\]]");function sI(e,t,n){if(t.search(uI)>=0)throw cI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $t(MT,Rn(t.split(".")))._internalPath}catch(r){throw cI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Uv(jv.INVALID_ARGUMENT,u+e+s)}function lI(e,t){return e.some((function(e){return e.isEqual(t)}))}var fI=function(){function e(t,n,r,i,a){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Mt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new hI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),hI=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"data",value:function(){return li(Kt(n.prototype),"data",this).call(this)}}]),n}(fI);function dI(e,t){return"string"==typeof t?sI(e,t):t instanceof MT?t._internalPath:t._delegate._internalPath}function pI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Uv(jv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vI=Mt((function e(){Dt(this,e)})),yI=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n)}(vI);function mI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof vI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof kI})).length,n=e.filter((function(e){return e instanceof gI})).length;if(t>1||t>0&&n>0)throw new Uv(jv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Ut(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var gI=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Mt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return RI(e._query,t),new mT(e.firestore,e.converter,pg(e._query,t))}},{key:"_parse",value:function(e){var t=WT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uv(jv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){AI(o,a);var s,c=[],l=Ut(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(OI(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=OI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||AI(o,a),u=tI(n,"where",o,"in"===a||"not-in"===a);return wm.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yI);var kI=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Mt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:_m.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Ut(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;RI(r,a),r=pg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new mT(e.firestore,e.converter,pg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vI);var bI=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Mt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Um(t,n);return function(e,t){if(null===cg(e)){var n=lg(e);null!==n&&NI(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new mT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ag(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(yI);var wI=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Mt(n,[{key:"_apply",value:function(e){return new mT(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yI);var _I=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Mt(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this._docOrFields,this._inclusive);return new mT(e.firestore,e.converter,function(e,t){return new ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yI);function xI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _I._create("startAt",t,!0)}function SI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _I._create("startAfter",t,!1)}var EI=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i){var a;return Dt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Mt(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this._docOrFields,this._inclusive);return new mT(e.firestore,e.converter,function(e,t){return new ag(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(yI);function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return EI._create("endBefore",t,!1)}function II(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return EI._create("endAt",t,!0)}function CI(e,t,n,r){if(n[0]=Cn(n[0]),n[0]instanceof fI)return function(e,t,n,r,i){if(!r)throw new Uv(jv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ut(hg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(am(t,r.key));else{var c=r.data.field(s.field);if(Gy(c))throw new Uv(jv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=WT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uv(jv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fg(e)&&-1!==c.indexOf("/"))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ry.fromString(c));if(!oy.isDocumentKey(l))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new oy(l);u.push(am(t,f))}else{var h=tI(n,r,c);u.push(h)}}return new mm(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OI(e,t,n){if("string"==typeof(n=Cn(n))){if(""===n)throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fg(t)&&-1!==n.indexOf("/"))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ry.fromString(n));if(!oy.isDocumentKey(r))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return am(e,new oy(r))}if(n instanceof yT)return am(e,n._key);throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(lT(n),"."))}function AI(e,t){if(!Array.isArray(e)||0===e.length)throw new Uv(jv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function RI(e,t){if(t.isInequality()){var n=lg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=cg(e);null!==i&&NI(e,r,i)}var a=function(e,t){var n,r=Ut(e);try{for(r.s();!(n=r.n()).done;){var i,a=Ut(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Uv(jv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uv(jv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function NI(e,t,n){if(!n.isEqual(t))throw new Uv(jv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PI=function(){function e(){Dt(this,e)}return Mt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ky(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return My(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new jT(Wy(e.latitude),Wy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Qy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($y(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Hy(e);return new ey(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ry.fromString(e);Mv(ub(n));var r=new Dy(n.get(1),n.get(3)),i=new oy(n.popFirst(5));return r.isEqual(t)||Nv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LI=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Mt(n,[{key:"convertBytes",value:function(e){return new LT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yT(this.firestore,null,t)}}]),n}(PI);var MI=function(){function e(t,n){Dt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Mt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FI=function(e){Wt(n,e);var t=Qt(n);function n(e,r,i,a,o,u){var s;return Dt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Mt(n,[{key:"exists",value:function(){return li(Kt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(fI),jI=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return li(Kt(n.prototype),"data",this).call(this,e)}}]),n}(FI),UI=function(){function e(t,n,r,i){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new MI(i.hasPendingWrites,i.fromCache),this.query=r}return Mt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jI(n._firestore,n._userDataWriter,r.key,r,new MI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uv(jv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new jI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:VI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function VI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lv()}}function zI(e,t){return e instanceof FI&&t instanceof FI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof UI&&t instanceof UI&&e._firestore===t._firestore&&_T(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var BI=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Mt(n,[{key:"convertBytes",value:function(e){return new LT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yT(this.firestore,null,t)}}]),n}(PI);function qI(e){e=fT(e,yT);var t=fT(e.firestore,TT),n=IT(t),r=new BI(t);return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function r(){return On().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pn(On().mark((function e(t,n,r){var i,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uv(jv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=hS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FI(t,r,e._key,n,new MI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function HI(e){e=fT(e,mT);var t=fT(e.firestore,TT),n=IT(t),r=new BI(t);return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function r(){return On().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pn(On().mark((function e(t,n,r){var i,a,o,u,s;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B_(t,n,!0);case 3:i=e.sent,a=new NS(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=hS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new UI(t,r,e,n)}))}function WI(e,t,n){e=fT(e,yT);var r=fT(e.firestore,TT),i=DI(e.converter,t,n);return $I(r,[KT(WT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vg.none())])}function KI(e,t,n){e=fT(e,yT);for(var r=fT(e.firestore,TT),i=WT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return $I(r,[("string"==typeof(t=Cn(t))||t instanceof MT?eI(i,"updateDoc",e._key,t,n,o):ZT(i,"updateDoc",e._key,t)).toMutation(e._key,Vg.exists(!0))])}function GI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Cn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ST(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ST(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof yT)l=fT(e.firestore,TT),f=ug(e._key.path),c={next:function(t){n[s]&&n[s](XI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=fT(e,mT);l=fT(p.firestore,TT),f=p._query;var v=new BI(l);c={next:function(e){n[s]&&n[s](new UI(l,v,p,e))},error:n[s+1],complete:n[s+2]},pI(e._query)}return function(e,t,n,r){var i=new FE(r),a=new ES(t,i,n);return e.asyncQueue.enqueueAndForget(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gS,t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bS,t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IT(l),f,h,c)}function QI(e,t){return function(e,t){var n=new FE(t);return e.asyncQueue.enqueueAndForget(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fv(e).vu.add(t),t.next()},t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Pn(On().mark((function t(){return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fv(e).vu.delete(t)},t.next=3,tT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IT(e=fT(e,TT)),ST(t)?t:{next:t})}function $I(e,t){return function(e,t){var n=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function r(){return On().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=BS,r.next=3,ZE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(IT(e),t)}function XI(e,t,n){var r=n.docs.get(t._key),i=new BI(e);return new FI(e,i,t._key,r,new MI(n.hasPendingWrites,n.fromCache),t.converter)}var YI={maxAttempts:5},JI=function(){function e(t,n){Dt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=WT(t)}return Mt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ZI(e,this._firestore),i=DI(r.converter,t,n),a=KT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Vg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ZI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cn(t))||t instanceof MT?eI(this._dataReader,"WriteBatch.update",i._key,t,n,o):ZT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Vg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ZI(e,this._firestore);return this._mutations=this._mutations.concat(new tk(t._key,Vg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uv(jv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ZI(e,t){if((e=Cn(e)).firestore!==t)throw new Uv(jv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var eC=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Mt(n,[{key:"get",value:function(e){var t=this,r=ZI(e,this._firestore),i=new BI(this._firestore);return li(Kt(n.prototype),"get",this).call(this,e).then((function(e){return new FI(t._firestore,i,r._key,e._document,new MI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Dt(this,e),this._firestore=t,this._transaction=n,this._dataReader=WT(t)}return Mt(e,[{key:"get",value:function(e){var t=this,n=ZI(e,this._firestore),r=new LI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Lv();var i=e[0];if(i.isFoundDocument())return new fI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new fI(t._firestore,r,n._key,null,n.converter);throw Lv()}))}},{key:"set",value:function(e,t,n){var r=ZI(e,this._firestore),i=DI(r.converter,t,n),a=KT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ZI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cn(t))||t instanceof MT?eI(this._dataReader,"Transaction.update",i._key,t,n,o):ZT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ZI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XT("arrayUnion",t)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cv=e}(Cr),wr(new Dn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new TT(new Hv(e.getProvider("auth-internal")),new Qv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uv(jv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Dr(Tv,"3.9.0",e),Dr(Tv,"3.9.0","esm2017")}();var rC="@firebase/firestore-compat",iC="0.3.5";function aC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function oC(){if("undefined"===typeof Uint8Array)throw new Uv("unimplemented","Uint8Arrays are not available in this environment.")}function uC(){if("undefined"==typeof atob)throw new Uv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sC=function(){function e(t){Dt(this,e),this._delegate=t}return Mt(e,[{key:"toBase64",value:function(){return uC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return oC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return uC(),new e(LT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return oC(),new e(LT.fromUint8Array(t))}}]),e}();function cC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ut(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lC=function(){function e(){Dt(this,e)}return Mt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DT(e=fT(e,TT));var n=IT(e),r=e._freezeSettings(),i=new LE;return OT(n,i,new PE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DT(e=fT(e,TT));var t=IT(e),n=e._freezeSettings(),r=new LE;return OT(t,r,new DE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uv(jv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Vv;return e._queue.enqueueAndForgetEvenWhileRestricted(Pn(On().mark((function n(){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Pn(On().mark((function e(t){var n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_y.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,_y.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(I_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),fC=function(){function e(t,n,r){var i=this;Dt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Dy||(this._appCompat=t)}return Mt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return AT(this._delegate)}},{key:"disableNetwork",value:function(){return RT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&uT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function n(){return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ZS,n.next=3,ZE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(IT(e=fT(e,TT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return QI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new EC(this,kT(this._delegate,e))}catch(t){throw mC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new yC(this,bT(this._delegate,e))}catch(t){throw mC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new _C(this,function(e,t){if(e=fT(e,pT),oT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uv(jv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mT(e,null,function(e){return new ag(ry.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=fT(e,TT);var r=Object.assign(Object.assign({},YI),n);return function(e){if(e.maxAttempts<1)throw new Uv(jv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Vv;return e.asyncQueue.enqueueAndForget(Pn(On().mark((function i(){var a;return On().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,eT(e);case 2:a=i.sent,new VE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(IT(e),(function(n){return t(new eC(e,n))}),r)}(this._delegate,(function(n){return e(new dC(t,n))}))}},{key:"batch",value:function(){var e=this;return IT(this._delegate),new pC(new JI(this._delegate,(function(t){return $I(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return NT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return PT(this._delegate,e).then((function(e){return e?new _C(t,e):null}))}}]),e}(),hC=function(e){Wt(n,e);var t=Qt(n);function n(e){var r;return Dt(this,n),(r=t.call(this)).firestore=e,r}return Mt(n,[{key:"convertBytes",value:function(e){return new sC(new LT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return yC.forKey(t,this.firestore,null)}}]),n}(PI);var dC=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return Mt(e,[{key:"get",value:function(e){var t=this,n=TC(e);return this._delegate.get(n).then((function(e){return new bC(t._firestore,new FI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=TC(e);return n?(aC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TC(e);return this._delegate.delete(t),this}}]),e}(),pC=function(){function e(t){Dt(this,e),this._delegate=t}return Mt(e,[{key:"set",value:function(e,t,n){var r=TC(e);return n?(aC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),vC=function(){function e(t,n,r){Dt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Mt(e,[{key:"fromFirestore",value:function(e,t){var n=new jI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new hC(t),n),i.set(n,a)),a}}]),e}();vC.INSTANCES=new WeakMap;var yC=function(){function e(t,n){Dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return Mt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new EC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new EC(this.firestore,kT(this._delegate,e))}catch(t){throw mC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Cn(e))instanceof yT&&wT(this._delegate,e)}},{key:"set",value:function(e,t){t=aC("DocumentReference.set",t);try{return t?WI(this._delegate,e,t):WI(this._delegate,e)}catch(n){throw mC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?KI(this._delegate,e):KI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw mC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return $I(fT(e.firestore,TT),[new tk(e._key,Vg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gC(n),a=kC(n,(function(t){return new bC(e.firestore,new FI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return GI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?qI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fT(e,yT);var t=fT(e.firestore,TT);return rT(IT(t),e._key,{source:"server"}).then((function(n){return XI(t,e,n)}))}(this._delegate):function(e){e=fT(e,yT);var t=fT(e.firestore,TT);return rT(IT(t),e._key).then((function(n){return XI(t,e,n)}))}(this._delegate),t.then((function(e){return new bC(n.firestore,new FI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yT(n._delegate,r,new oy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yT(n._delegate,r,t))}}]),e}();function mC(e,t,n){return e.message=e.message.replace(t,n),e}function gC(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!cC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cC(e[0])?e[0]:cC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bC=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Mt(e,[{key:"ref",get:function(){return new yC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return zI(this._delegate,e._delegate)}}]),e}(),wC=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Lv()}(void 0!==t),t}}]),n}(bC),_C=function(){function e(t,n){Dt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new hC(t)}return Mt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,mI(this._delegate,function(e,t,n){var r=t,i=dI("where",e);return gI._create(i,r,n)}(t,n,r)))}catch(i){throw mC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,mI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dI("orderBy",e);return bI._create(n,t)}(t,n)))}catch(r){throw mC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,mI(this._delegate,function(e){return hT("limit",e),wI._create("limit",e,"F")}(t)))}catch(n){throw mC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,mI(this._delegate,function(e){return hT("limitToLast",e),wI._create("limitToLast",e,"L")}(t)))}catch(n){throw mC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,mI(this._delegate,xI.apply(void 0,arguments)))}catch(t){throw mC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,mI(this._delegate,SI.apply(void 0,arguments)))}catch(t){throw mC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,mI(this._delegate,TI.apply(void 0,arguments)))}catch(t){throw mC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,mI(this._delegate,II.apply(void 0,arguments)))}catch(t){throw mC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return _T(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?HI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fT(e,mT);var t=fT(e.firestore,TT),n=IT(t),r=new BI(t);return iT(n,e._query,{source:"server"}).then((function(n){return new UI(t,r,e,n)}))}(this._delegate):function(e){e=fT(e,mT);var t=fT(e.firestore,TT),n=IT(t),r=new BI(t);return pI(e._query),iT(n,e._query).then((function(n){return new UI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new SC(n.firestore,new UI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gC(n),a=kC(n,(function(t){return new SC(e.firestore,new UI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return GI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(vC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),xC=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Mt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new wC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),SC=function(){function e(t,n){Dt(this,e),this._firestore=t,this._delegate=n}return Mt(e,[{key:"query",get:function(){return new _C(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new wC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new xC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new wC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return zI(this._delegate,e._delegate)}}]),e}(),EC=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i;return Dt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Mt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new yC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new yC(this.firestore,void 0===e?bT(this._delegate):bT(this._delegate,e))}catch(t){throw mC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=fT(e.firestore,TT),r=bT(e),i=DI(e.converter,t);return $I(n,[KT(WT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new yC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return wT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(vC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(_C);function TC(e){return fT(e,yT)}var IC=function(){function e(){Dt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$t(MT,n)}return Mt(e,[{key:"isEqual",value:function(e){return(e=Cn(e))instanceof MT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ay.keyField().canonicalString())}}]),e}(),CC=function(){function e(t){Dt(this,e),this._delegate=t}return Mt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new $T("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new GT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new JT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OC={Firestore:fC,GeoPoint:jT,Timestamp:ey,Blob:sC,Transaction:dC,WriteBatch:pC,DocumentReference:yC,DocumentSnapshot:bC,Query:_C,QueryDocumentSnapshot:wC,QuerySnapshot:SC,CollectionReference:EC,FieldPath:IC,FieldValue:CC,setLogLevel:function(e){!function(e){Ov.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Dn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OC)))}(e,(function(e,t){return new fC(e,t,new lC)})),e.registerVersion(rC,iC)}(ci);var AC,RC="firebasestorage.googleapis.com",NC="storageBucket",PC=function(e){Wt(n,e);var t=Qt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Dt(this,n),(i=t.call(this,DC(e),"Firebase Storage: ".concat(r," (").concat(DC(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(qt(i),n.prototype),i}return Mt(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return DC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(yn);function DC(e){return"storage/"+e}function LC(){return new PC(AC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function MC(){return new PC(AC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FC(){return new PC(AC.CANCELED,"User canceled the upload/download.")}function jC(){return new PC(AC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UC(e){return new PC(AC.INVALID_ARGUMENT,e)}function VC(){return new PC(AC.APP_DELETED,"The Firebase app was deleted.")}function zC(e){return new PC(AC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function BC(e,t){return new PC(AC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qC(e){throw new PC(AC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(AC||(AC={}));var HC,WC=function(){function e(t,n){Dt(this,e),this.bucket=t,this.path_=n}return Mt(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new PC(AC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===RC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new PC(AC.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),KC=function(){function e(t){Dt(this,e),this.promise_=Promise.reject(t)}return Mt(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function GC(e){return"string"===typeof e||e instanceof String}function QC(e){return $C()&&e instanceof Blob}function $C(){return"undefined"!==typeof Blob&&!fn()}function XC(e,t,n,r){if(r<t)throw UC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw UC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function YC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function JC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ZC(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(HC||(HC={}));var eO=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Dt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Mt(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=LC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?VC():FC());else i(MC())}};this.canceled_?t(0,new tO(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new tO(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===HC.NO_ERROR,a=r.getStatus();if(!n||ZC(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===HC.ABORT;t(!1,new tO(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new tO(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),tO=Mt((function e(t,n,r){Dt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function nO(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rO(){for(var e=nO(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if($C())return new Blob(n);throw new PC(AC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function iO(e){if("undefined"===typeof atob)throw t="base-64",new PC(AC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var aO={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},oO=Mt((function e(t,n){Dt(this,e),this.data=t,this.contentType=n||null}));function uO(e,t){switch(e){case aO.RAW:return new oO(sO(t));case aO.BASE64:case aO.BASE64URL:return new oO(cO(e,t));case aO.DATA_URL:return new oO(function(e){var t=new lO(e);return t.base64?cO(aO.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw BC(aO.DATA_URL,"Malformed data URL.")}return sO(t)}(t.rest)}(t),new lO(t).contentType)}throw LC()}function sO(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cO(e,t){switch(e){case aO.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw BC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case aO.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw BC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=iO(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw BC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var lO=Mt((function e(t){Dt(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw BC(aO.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var fO=function(){function e(t,n){Dt(this,e);var r=0,i="";QC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Mt(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(QC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if($C()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(rO.apply(null,i))}var a=n.map((function(e){return GC(e)?uO(aO.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function hO(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dO(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pO(e,t){return t}var vO=Mt((function e(t,n,r,i){Dt(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pO})),yO=null;function mO(){if(yO)return yO;var e=[];e.push(new vO("bucket")),e.push(new vO("generation")),e.push(new vO("metageneration")),e.push(new vO("name","fullPath",!0));var t=new vO("name");t.xform=function(e,t){return function(e){return!GC(e)||e.length<2?e:dO(e)}(t)},e.push(t);var n=new vO("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vO("timeCreated")),e.push(new vO("updated")),e.push(new vO("md5Hash",null,!0)),e.push(new vO("cacheControl",null,!0)),e.push(new vO("contentDisposition",null,!0)),e.push(new vO("contentEncoding",null,!0)),e.push(new vO("contentLanguage",null,!0)),e.push(new vO("contentType",null,!0)),e.push(new vO("metadata","customMetadata",!0)),yO=e}function gO(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new WC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kO(e,t,n){var r=hO(t);return null===r?null:gO(e,r,n)}function bO(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var wO="prefixes",_O="items";function xO(e,t,n){var r=hO(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wO]){var i,a=Ut(n[wO]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new WC(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[_O]){var s,c=Ut(n[_O]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new WC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var SO=Mt((function e(t,n,r,i){Dt(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function EO(e){if(!e)throw LC()}function TO(e,t){return function(n,r){var i=kO(e,r,t);return EO(null!==i),i}}function IO(e,t){return function(n,r){var i=kO(e,r,t);return EO(null!==i),function(e,t,n,r){var i=hO(t);if(null===i)return null;if(!GC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return YC("/b/"+o(i)+"/o/"+o(a),n,r)+JC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function CO(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new PC(AC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new PC(AC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new PC(AC.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new PC(AC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function OO(e){var t=CO(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new PC(AC.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function AO(e,t,n){var r=YC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new SO(r,"GET",TO(e,n),i);return a.errorHandler=OO(t),a}function RO(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=YC(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new SO(o,"GET",function(e,t){return function(n,r){var i=xO(e,t,r);return EO(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=CO(t),s}function NO(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function PO(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=NO(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bO(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=fO.getBlob(c,r,l);if(null===f)throw jC();var h={name:s.fullPath},d=YC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new SO(d,"POST",TO(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=CO(t),v}var DO=Mt((function e(t,n,r,i){Dt(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function LO(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){EO(!1)}return EO(!!n&&-1!==(t||["active"]).indexOf(n)),n}var MO=262144;function FO(e,t,n,r,i,a,o,u){var s=new DO(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new PC(AC.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw jC();var v=t.maxUploadRetryTime,y=new SO(n,"POST",(function(e,n){var i,o=LO(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?TO(t,a)(e,n):null,new DO(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=CO(e),y}var jO={STATE_CHANGED:"state_changed"},UO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VO(e){switch(e){case"running":case"pausing":case"canceling":return UO.RUNNING;case"paused":return UO.PAUSED;case"success":return UO.SUCCESS;case"canceled":return UO.CANCELED;default:return UO.ERROR}}var zO=Mt((function e(t,n,r){Dt(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function BO(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var qO=null,HO=function(){function e(){var t=this;Dt(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=HC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=HC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=HC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Mt(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw qC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw qC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw qC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw qC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw qC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),WO=function(e){Wt(n,e);var t=Qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Mt(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(HO);function KO(){return qO?qO():new WO}var GO=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Dt(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=mO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(AC.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(ZC(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=MC()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(AC.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Mt(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Bt(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=NO(t,r,i),u={name:o.fullPath},s=YC(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=bO(o,n),f=e.maxUploadRetryTime,h=new SO(s,"POST",(function(e){var t;LO(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){EO(!1)}return EO(GC(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=CO(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,KO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new SO(n,"POST",(function(e){var t=LO(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){EO(!1)}n||EO(!1);var i=Number(n);return EO(!isNaN(i)),new DO(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=CO(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,KO,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=MO*this._chunkMultiplier,n=new DO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=FO(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,KO,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(MO*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=AO(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,KO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=PO(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,KO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=FC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=VO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new zO(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(VO(this._state)){case UO.SUCCESS:BO(this._resolve.bind(null,this.snapshot))();break;case UO.CANCELED:case UO.ERROR:BO(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(VO(this._state)){case UO.RUNNING:case UO.PAUSED:e.next&&BO(e.next.bind(e,this.snapshot))();break;case UO.SUCCESS:e.complete&&BO(e.complete.bind(e))();break;case UO.CANCELED:case UO.ERROR:default:e.error&&BO(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),QO=function(){function e(t,n){Dt(this,e),this._service=t,this._location=n instanceof WC?n:WC.makeFromUrl(n,t.host)}return Mt(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new WC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return dO(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new WC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw zC(e)}}]),e}();function $O(e,t,n){return XO.apply(this,arguments)}function XO(){return(XO=Pn(On().mark((function e(t,n,r){var i,a,o,u;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,YO(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Rn(u.prefixes)),(a=n.items).push.apply(a,Rn(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,$O(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YO(e,t){null!=t&&"number"===typeof t.maxResults&&XC("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=RO(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,KO)}function JO(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=YC(t.fullServerUrl(),e.host,e._protocol),a=bO(n,r),o=e.maxOperationRetryTime,u=new SO(i,"PATCH",TO(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=OO(t),u}(e.storage,e._location,t,mO());return e.storage.makeRequestWithTokens(n,KO)}function ZO(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=YC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new SO(r,"GET",IO(e,n),i);return a.errorHandler=OO(t),a}(e.storage,e._location,mO());return e.storage.makeRequestWithTokens(t,KO).then((function(e){if(null===e)throw new PC(AC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function eA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=YC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new SO(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=OO(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,KO)}function tA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new WC(e._location.bucket,n);return new QO(e.storage,r)}function nA(e,t){if(e instanceof aA){var n=e;if(null==n._bucket)throw new PC(AC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NC+"' property when initializing the app?");var r=new QO(n,n._bucket);return null!=t?nA(r,t):r}return void 0!==t?tA(e,t):e}function rA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof aA)return new QO(e,t);throw UC("To use ref(service, url), the first argument must be a Storage instance.")}return nA(e,t)}function iA(e,t){var n=null===t||void 0===t?void 0:t[NC];return null==n?null:WC.makeFromBucketSpec(n,e)}var aA=function(){function e(t,n,r,i,a){Dt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=RC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?WC.makeFromBucketSpec(i,this._host):iA(this._host,this.app.options)}return Mt(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=WC.makeFromBucketSpec(this._url,e):this._bucket=iA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Pn(On().mark((function e(){var t,n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Pn(On().mark((function e(){var t,n;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new QO(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new KC(VC());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=JC(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new eO(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Pn(On().mark((function e(t,n){var r,i,a,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Bt(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),oA="@firebase/storage",uA="0.11.2",sA="storage";function cA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new GO(e,new fO(t),n)}(e=Cn(e),t,n)}function lA(e){return function(e){e._throwIfRoot("getMetadata");var t=AO(e.storage,e._location,mO());return e.storage.makeRequestWithTokens(t,KO)}(e=Cn(e))}function fA(e){return function(e){var t={prefixes:[],items:[]};return $O(e,t).then((function(){return t}))}(e=Cn(e))}function hA(e,t){return rA(e=Cn(e),t)}function dA(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:cn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function pA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new aA(r,i,a,n,Cr)}wr(new Dn(sA,pA,"PUBLIC").setMultipleInstances(!0)),Dr(oA,uA,""),Dr(oA,uA,"esm2017");var vA=function(){function e(t,n,r){Dt(this,e),this._delegate=t,this.task=n,this.ref=r}return Mt(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),yA=function(){function e(t,n){Dt(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Mt(e,[{key:"snapshot",get:function(){return new vA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new vA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new vA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new vA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),mA=function(){function e(t,n){Dt(this,e),this._delegate=t,this._service=n}return Mt(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new gA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new gA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),gA=function(){function e(t,n){Dt(this,e),this._delegate=t,this.storage=n}return Mt(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return tA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new yA(cA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aO.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=uO(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yA(new GO(this._delegate,new fO(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return fA(this._delegate).then((function(t){return new mA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return YO(e=Cn(e),t)}(this._delegate,e||void 0).then((function(e){return new mA(e,t.storage)}))}},{key:"getMetadata",value:function(){return lA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return JO(e=Cn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return ZO(Cn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),eA(Cn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw zC(e)}}]),e}(),kA=function(){function e(t,n){Dt(this,e),this.app=t,this._delegate=n}return Mt(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(bA(e))throw UC("ref() expected a child path but got a URL, use refFromURL instead.");return new gA(hA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!bA(e))throw UC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{WC.makeFromUrl(e,this._delegate.host)}catch(t){throw UC("refFromUrl() expected a valid full URL but got an invalid one.")}return new gA(hA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dA(this._delegate,e,t,n)}}]),e}();function bA(e){return/^[A-Za-z]+:\/\//.test(e)}var wA="@firebase/storage-compat",_A="0.3.2",xA="storage-compat";function SA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new kA(r,i)}!function(e){var t={TaskState:UO,TaskEvent:jO,StringFormat:aO,Storage:kA,Reference:gA};e.INTERNAL.registerComponent(new Dn(xA,SA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(wA,_A)}(ci);ci.initializeApp({apiKey:"AIzaSyCapTSmg7SblyGPScOAPEmIP7fC5qXQ0xI",authDomain:"my-first-35dc7.firebaseapp.com",projectId:"my-first-35dc7",storageBucket:"my-first-35dc7.appspot.com",messagingSenderId:"155673630117",appId:"1:155673630117:web:028724c1b01c1d2e15444c"}).firestore();var EA=ci.auth(),TA=new ci.auth.GoogleAuthProvider,IA=(ci.storage(),n(441)),CA=n(613),OA=n.n(CA);var AA=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,_=0,x=0,S=0,E=0,T=0,N=0,D=v=d=0,M=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",H="",W="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==x+E+S+_&&(0!==x&&(p=47===x?10:47),E=S=_=0,V++,z++),0===x+E+S+_){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=R}if(U=(v=t(r,F,v,p,h+1)).length,0<P&&(b=u(3,v,F=n(R,B,j),r,C,I,U,p,h,c),B=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);H+=v,v=j=F=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<P&&void 0!==(b=u(1,B,r,e,C,I,q.length,c,h,c))&&0===(U=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<P*L&&u(0,B,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===x+E+S+_){I++;break}default:switch(I++,y=s.charAt(M),p){case 9:case 32:if(0===E+_+x)switch(T){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===E+x+_&&(F=j=1,y="\f"+y);break;case 108:if(0===E+x+_+O&&0<D)switch(M-D){case 2:112===T&&58===s.charCodeAt(M-3)&&(O=T);case 8:111===N&&(O=N)}break;case 58:0===E+x+_&&(D=M);break;case 44:0===x+S+E+_&&(F=1,y+="\r");break;case 34:case 39:0===x&&(E=E===p?0:0===E?p:E);break;case 91:0===E+x+S&&_++;break;case 93:0===E+x+S&&_--;break;case 41:0===E+x+_&&S--;break;case 40:if(0===E+x+_){if(0===d)if(2*T+3*N===533);else d=1;S++}break;case 64:0===x+S+E+_+D+v&&(v=1);break;case 42:case 47:if(!(0<E+_+S))switch(x){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),y="",x=0)}}0===x&&(B+=y)}N=T,T=p,M++}if(0<(U=q.length)){if(F=r,0<P&&(void 0!==(b=u(2,q,F,e,C,I,U,c,h,c))&&0===(q=b).length))return W+q+H;if(q=F.join(",")+"{"+q+"}",0!==A*O){switch(2!==A||a(q,2)||(O=0),O){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}O=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=N[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",O=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,O=0,A=1,R=[],N=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"===typeof t)N[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},RA={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var NA=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},PA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DA=NA((function(e){return PA.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function LA(){return(LA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var MA=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},FA=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,IA.typeOf)(e)},jA=Object.freeze([]),UA=Object.freeze({});function VA(e){return"function"==typeof e}function zA(e){return e.displayName||e.name||"Component"}function BA(e){return e&&"string"==typeof e.styledComponentId}var qA="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",HA="undefined"!=typeof window&&"HTMLElement"in window,WA=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/hotstar-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function KA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var GA=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&KA(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),QA=new Map,$A=new Map,XA=1,YA=function(e){if(QA.has(e))return QA.get(e);for(;$A.has(XA);)XA++;var t=XA++;return QA.set(e,t),$A.set(t,e),t},JA=function(e){return $A.get(e)},ZA=function(e,t){t>=XA&&(XA=t+1),QA.set(e,t),$A.set(t,e)},eR="style["+qA+'][data-styled-version="5.3.9"]',tR=new RegExp("^"+qA+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),nR=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},rR=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(tR);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(ZA(c,s),nR(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},iR=function(){return n.nc},aR=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(qA))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(qA,"active"),r.setAttribute("data-styled-version","5.3.9");var o=iR();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},oR=function(){function e(e){var t=this.element=aR(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}KA(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),uR=function(){function e(e){var t=this.element=aR(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),sR=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cR=HA,lR={isServer:!HA,useCSSOMInjection:!WA},fR=function(){function e(e,t,n){void 0===e&&(e=UA),void 0===t&&(t={}),this.options=LA({},lR,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&HA&&cR&&(cR=!1,function(e){for(var t=document.querySelectorAll(eR),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(qA)&&(rR(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return YA(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(LA({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new sR(i):r?new oR(i):new uR(i),new GA(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(YA(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(YA(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(YA(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=JA(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=qA+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),hR=/(a)(d)/gi,dR=function(e){return String.fromCharCode(e+(e>25?39:97))};function pR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dR(t%52)+n;return(dR(t%52)+n).replace(hR,"$1-$2")}var vR=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},yR=function(e){return vR(5381,e)};function mR(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(VA(n)&&!BA(n))return!1}return!0}var gR=yR("5.3.9"),kR=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&mR(e),this.componentId=t,this.baseHash=vR(gR,t),this.baseStyle=n,fR.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=FR(this.rules,e,t,n).join(""),o=pR(vR(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=vR(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=FR(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=vR(c,p+f),l+=p}}if(l){var v=pR(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),bR=/^\s*\/\/.*$/gm,wR=[":","[",".","#"];function _R(e){var t,n,r,i,a=void 0===e?UA:e,o=a.options,u=void 0===o?UA:o,s=a.plugins,c=void 0===s?jA:s,l=new AA(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==wR.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(bR,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||KA(15),vR(e,t.name)}),5381).toString():"",p}var xR=t.createContext(),SR=(xR.Consumer,t.createContext()),ER=(SR.Consumer,new fR),TR=_R();function IR(){return(0,t.useContext)(xR)||ER}function CR(){return(0,t.useContext)(SR)||TR}function OR(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=IR(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return _R({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){OA()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(xR.Provider,{value:o},t.createElement(SR.Provider,{value:u},e.children))}var AR=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=TR);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return KA(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=TR),this.name+e.hash},e}(),RR=/([A-Z])/,NR=/([A-Z])/g,PR=/^ms-/,DR=function(e){return"-"+e.toLowerCase()};function LR(e){return RR.test(e)?e.replace(NR,DR).replace(PR,"-ms-"):e}var MR=function(e){return null==e||!1===e||""===e};function FR(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=FR(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return MR(e)?"":BA(e)?"."+e.styledComponentId:VA(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:FR(e(t),t,n,r):e instanceof AR?n?(e.inject(n,r),e.getName(r)):e:FA(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!MR(t[o])&&(Array.isArray(t[o])&&t[o].isCss||VA(t[o])?a.push(LR(o)+":",t[o],";"):FA(t[o])?a.push.apply(a,e(t[o],o)):a.push(LR(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in RA?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var jR=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function UR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return VA(e)||FA(e)?jR(FR(MA(jA,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:jR(FR(MA(e,n)))}new Set;var VR=function(e,t,n){return void 0===n&&(n=UA),e.theme!==n.theme&&e.theme||t||n.theme},zR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BR=/(^-|-$)/g;function qR(e){return e.replace(zR,"-").replace(BR,"")}var HR=function(e){return pR(yR(e)>>>0)};function WR(e){return"string"==typeof e&&!0}var KR=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},GR=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function QR(e,t,n){var r=e[n];KR(t)&&KR(r)?$R(r,t):e[n]=t}function $R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(KR(o))for(var u in o)GR(u)&&QR(e,o[u],u)}return e}var XR=t.createContext();XR.Consumer;var YR={};function JR(e,n,r){var i=BA(e),a=!WR(e),o=n.attrs,u=void 0===o?jA:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":qR(e);YR[n]=(YR[n]||0)+1;var r=n+"-"+HR("5.3.9"+n+YR[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return WR(e)?"styled."+e:"Styled("+zA(e)+")"}(e):l,h=n.displayName&&n.componentId?qR(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new kR(r,h,i?e.componentStyle:void 0),g=y.isStatic&&0===u.length,k=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=UA);var r=LA({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in VA(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(VR(n,(0,t.useContext)(XR),u)||UA,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=IR(),a=CR();return t?e.generateAndInjectStyles(UA,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=WR(m),k=p!==n?LA({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,DA,m):!g||DA(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=LA({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,g)};return k.displayName=f,(v=t.forwardRef(k)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):jA,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(WR(e)?e:qR(zA(e)));return JR(e,LA({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?$R({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&m()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var ZR=function(e){return function e(t,n,r){if(void 0===r&&(r=UA),!(0,IA.isValidElementType)(n))return KA(1,String(n));var i=function(){return t(n,r,UR.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,LA({},r,{},i))},i.attrs=function(i){return e(t,n,LA({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(JR,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ZR[e]=ZR(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=mR(e),fR.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(FR(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&fR.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=iR();return"<style "+[n&&'nonce="'+n+'"',qA+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?KA(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return KA(2);var r=((n={})[qA]="",n["data-styled-version"]="5.3.9",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=iR();return i&&(r.nonce=i),[t.createElement("style",LA({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fR({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?KA(2):t.createElement(OR,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return KA(3)}}();var eN=ZR;function tN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ht(e,t)}var nN=n(7),rN=n.n(nN);function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN.apply(this,arguments)}function aN(e){return"/"===e.charAt(0)}function oN(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var uN=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&aN(e),o=t&&aN(t),u=a||o;if(e&&aN(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?oN(i,l):".."===f?(oN(i,l),c++):c&&(oN(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&aN(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},sN=!0,cN="Invariant failed";function lN(e,t){if(!e){if(sN)throw new Error(cN);var n="function"===typeof t?t():t,r=n?"".concat(cN,": ").concat(n):cN;throw new Error(r)}}function fN(e){return"/"===e.charAt(0)?e:"/"+e}function hN(e){return"/"===e.charAt(0)?e.substr(1):e}function dN(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function pN(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function vN(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function yN(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=iN({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=uN(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function mN(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var gN=!("undefined"===typeof window||!window.document||!window.document.createElement);function kN(e,t){t(window.confirm(e))}var bN="popstate",wN="hashchange";function _N(){try{return window.history.state||{}}catch(e){return{}}}function xN(e){void 0===e&&(e={}),gN||lN(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?kN:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?pN(fN(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=dN(a,f)),yN(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=mN();function v(e){iN(I,e),I.length=t.length,p.notifyListeners(I.location,I.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function m(){k(h(_N()))}var g=!1;function k(e){if(g)g=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=I.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,x(i))}(e)}))}}var b=h(_N()),w=[b.key];function _(e){return f+vN(e)}function x(e){t.go(e)}var S=0;function E(e){1===(S+=e)&&1===e?(window.addEventListener(bN,y),r&&window.addEventListener(wN,m)):0===S&&(window.removeEventListener(bN,y),r&&window.removeEventListener(wN,m))}var T=!1;var I={length:t.length,action:"POP",location:b,createHref:_,push:function(e,r){var i="PUSH",a=yN(e,r,d(),I.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=w.indexOf(I.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=yN(e,r,d(),I.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=w.indexOf(I.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(E(1),T=!0),function(){return T&&(T=!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return I}var SN="hashchange",EN={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+hN(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:hN,decodePath:fN},slash:{encodePath:fN,decodePath:fN}};function TN(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function IN(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function CN(e){window.location.replace(TN(window.location.href)+"#"+e)}function ON(e){void 0===e&&{},gN||lN(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?kN:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?pN(fN(e.basename)):"",s=EN[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(IN());return u&&dN(e,u),yN(e)}var h=mN();function d(e){iN(E,e),E.length=t.length,h.notifyListeners(E.location,E.action)}var p=!1,v=null;function y(){var e=IN(),t=c(e);if(e!==t)CN(t);else{var n=f(),r=E.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===vN(n))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=E.location,n=b.lastIndexOf(vN(t));-1===n&&0;var r=b.lastIndexOf(vN(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(n)}}var m=IN(),g=c(m);m!==g&&CN(g);var k=f(),b=[vN(k)];function w(e){t.go(e)}var _=0;function x(e){1===(_+=e)&&1===e?window.addEventListener(SN,y):0===_&&window.removeEventListener(SN,y)}var S=!1;var E={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&TN(window.location.href),n+"#"+c(u+vN(e))},push:function(e,t){var n="PUSH",r=yN(e,void 0,void 0,E.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=vN(r),i=c(u+t);if(IN()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(vN(E.location)),o=b.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=yN(e,void 0,void 0,E.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=vN(r),i=c(u+t);IN()!==i&&(t,CN(i));var a=b.indexOf(vN(E.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return S||(x(1),!0),function(){return S&&(!1,x(-1)),t()}},listen:function(e){var t=h.appendListener(e);return x(1),function(){x(-1),t()}}};return E}function AN(e,t,n){return Math.min(Math.max(e,t),n)}var RN=n(239),NN=n.n(RN);n(228);function PN(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var DN=1073741823,LN="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var MN=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return LN[e]=(LN[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}tN(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):DN,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=rN().object.isRequired,r);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}tN(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?DN:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?DN:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=rN().object,i),{Provider:o,Consumer:u}},FN=function(e){var t=MN();return t.displayName=e,t},jN=FN("Router-History"),UN=FN("Router"),VN=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}tN(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(UN.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(jN.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var zN={},BN=1e4,qN=0;function HN(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=zN[n]||(zN[n]={});if(r[e])return r[e];var i=[],a={regexp:NN()(e,i,t),keys:i};return qN<BN&&(r[e]=a,qN++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var WN=function(e){function n(){return e.apply(this,arguments)||this}return tN(n,e),n.prototype.render=function(){var e=this;return t.createElement(UN.Consumer,null,(function(n){n||lN(!1);var r=e.props.location||n.location,i=iN({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?HN(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(UN.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function KN(e){return"/"===e.charAt(0)?e:"/"+e}function GN(e,t){if(!e)return t;var n=KN(e);return 0!==t.pathname.indexOf(n)?t:iN({},t,{pathname:t.pathname.substr(n.length)})}function QN(e){return"string"===typeof e?e:vN(e)}function $N(e){return function(){lN(!1)}}function XN(){}t.Component;var YN=function(e){function n(){return e.apply(this,arguments)||this}return tN(n,e),n.prototype.render=function(){var e=this;return t.createElement(UN.Consumer,null,(function(n){n||lN(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?HN(a.pathname,iN({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var JN=t.useContext;var ZN,eP,tP,nP,rP,iP,aP=n(184);var oP,uP,sP=function(){var e=T(),n=JN(jN),r=v(At),i=v(Rt);return console.log(i),(0,t.useEffect)((function(){e(Ct({name:"Vjvenkat",email:"vjvenkatbsc@gmail.com",photo:"https://lh3.googleusercontent.com/a/AGNmyxblI_psk-jYaGplQTUncJzS44CoeA8GuDdW8d0m=s96-c"})),n.push("/")}),[]),(0,aP.jsxs)(cP,{children:[(0,aP.jsx)(lP,{src:"/images/logo.svg"}),r?(0,aP.jsxs)(aP.Fragment,{children:[(0,aP.jsxs)(fP,{children:[(0,aP.jsxs)("a",{id:"home",children:[(0,aP.jsx)("img",{src:"/images/home-icon.svg"}),(0,aP.jsx)("span",{children:"HOME"})]}),(0,aP.jsxs)("a",{children:[(0,aP.jsx)("img",{src:"/images/search-icon.svg"}),(0,aP.jsx)("span",{children:"SEARCH"})]}),(0,aP.jsxs)("a",{children:[(0,aP.jsx)("img",{src:"/images/watchlist-icon.svg"}),(0,aP.jsx)("span",{children:"WATCHLIST"})]}),(0,aP.jsxs)("a",{children:[(0,aP.jsx)("img",{src:"/images/original-icon.svg"}),(0,aP.jsx)("span",{children:"ORIGINALS"})]}),(0,aP.jsxs)("a",{children:[(0,aP.jsx)("img",{src:"/images/movie-icon.svg"}),(0,aP.jsx)("span",{children:"MOVIES"})]}),(0,aP.jsxs)("a",{children:[(0,aP.jsx)("img",{src:"/images/series-icon.svg"}),(0,aP.jsx)("span",{children:"SERIES"})]})]}),(0,aP.jsx)(hP,{src:i,onClick:function(){EA.signOut().then((function(){e(Ot),n.push("/login")}))}})]}):(0,aP.jsx)(pP,{children:(0,aP.jsx)(dP,{onClick:function(){EA.signInWithPopup(TA).then((function(t){console.log(t);var r=t.user;e(Ct({name:r.displayName,email:r.email,userPhoto:r.photoURL})),n.push("/")}))},children:"Login"})})]})},cP=eN.nav(ZN||(ZN=Pt(["\n    height : 70px;\n    background-color:#090b13;\n    display : flex;\n    align-items:center;\n    padding:0 36px;\n    overflow-x:hidden;\n"]))),lP=eN.img(eP||(eP=Pt(["\nwidth:  80px;\n\n"]))),fP=eN.div(tP||(tP=Pt(['\ndisplay:flex;\nflex:1;\nmargin-left:25px;\nalign-items:center;\na{\n    display:flex;\n    align-items:center;\n    padding:0 12px;\n    cursor:pointer;\n\n    img{\n        height:20px;\n    }\n    span{\n        font-size:13px;\n        letter-spacing: 1.42px;\n        position:relative;\n\n\n        &:after{\n            \n            content:"";\n            height:2px;\n            background:white;\n            position:absolute;\n            left:0;\n            right:0;\n            bottom:-9px;\n            opacity:0;\n            transform-origin:left center;\n            transition: all 250ms cubic-bezier(0.25,0.46,0.45,0.94) 0s;     //transition: transform 0.25s ease-out;\n            transform: scaleX(0);\n            \n        }\n    }\n\n    &:hover{\n        span:after{\n            transform:scaleX(1);\n            opacity:1;\n        }\n    }\n}\n\n']))),hP=eN.img(nP||(nP=Pt(["\n\nwidth :48px;\nheight:48px;\nborder-radius:50%;  //30px\ncursor:pointer;\n"]))),dP=eN.div(rP||(rP=Pt(["\n    border:1px solid #f9f9f9;\n    padding:8px 16px;\n    border-radius: 4px;\n    letter-spacing:1.5px;\n    text-transform: uppercase;\n    background-color:rgba(0,0,0,0.6);\n    cursor:pointer;\n    transition:all 0.25s ease 0s;\n\n    &:hover{\n        background-color:#f9f9f9;\n        color:#000;\n        bordor-color:transparent;\n    }\n"]))),pP=eN.div(iP||(iP=Pt(["\n    flex:1;\n    display:flex;\n    justify-content:flex-end;\n"]))),vP=n(717);var yP=function(){return(0,aP.jsxs)(mP,Ne(Ne({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0}),{},{children:[(0,aP.jsx)(gP,{children:(0,aP.jsx)("img",{src:"/images/slider-badging.jpg",alt:"1"})}),(0,aP.jsx)(gP,{children:(0,aP.jsx)("img",{src:"/images/slider-badag.jpg",alt:"1"})}),(0,aP.jsx)(gP,{children:(0,aP.jsx)("img",{src:"/images/slider-scale.jpg",alt:"1"})}),(0,aP.jsx)(gP,{children:(0,aP.jsx)("img",{src:"/images/slider-scales.jpg",alt:"1"})})]}))},mP=eN(vP.Z)(oP||(oP=Pt(["\n    margin-top:20px;\n\n\n    ui li button{\n        &:before{\n            font-size:10px;\n            color: rgb(150, 158, 172)\n            // color:white;\n        }\n    }\n\n    li.slick-active button:before{\n        color:white;\n\n    }\n    .slick-list{\n        overflow:visible;\n    }\n\n    button{\n        z-index:1;\n    }\n\n"]))),gP=eN.div(uP||(uP=Pt(["\ncursor:pointer;\nimg{\n    border: 4px solid transparent;\n    border-radius:4px;\n    width:100%;\n    height:100%;\n    box-shadow:rgb(0 0 0 / 69%)  0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n    transition-duration:300ms;\n\n\n\n    &:hover{\n        border:4px solid rgba(249, 249, 249, 0.8);\n    }\n}\n   \n"]))),kP=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=xN(t.props),t}return tN(n,e),n.prototype.render=function(){return t.createElement(VN,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var bP=function(e,t){return"function"===typeof e?e(t):e},wP=function(e,t){return"string"===typeof e?yN(e,null,null,t):e},_P=function(e){return e},xP=t.forwardRef;"undefined"===typeof xP&&(xP=_P);var SP=xP((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=PN(e,["innerRef","navigate","onClick"]),u=o.target,s=iN({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=_P!==xP&&n||r,t.createElement("a",s)}));var EP=xP((function(e,n){var r=e.component,i=void 0===r?SP:r,a=e.replace,o=e.to,u=e.innerRef,s=PN(e,["component","replace","to","innerRef"]);return t.createElement(UN.Consumer,null,(function(e){e||lN(!1);var r=e.history,c=wP(bP(o,e.location),e.location),l=c?r.createHref(c):"",f=iN({},s,{href:l,navigate:function(){var t=bP(o,e.location),n=vN(e.location)===vN(wP(t));(a||n?r.replace:r.push)(t)}});return _P!==xP?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),TP=function(e){return e},IP=t.forwardRef;"undefined"===typeof IP&&(IP=TP);var CP,OP,AP;IP((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,y=e.innerRef,m=PN(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(UN.Consumer,null,(function(e){e||lN(!1);var r=f||e.location,a=wP(bP(v,r),r),g=a.pathname,k=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?HN(r.pathname,{path:k,exact:c,sensitive:h,strict:d}):null,w=!!(l?l(b,r):b),_="function"===typeof s?s(w):s,x="function"===typeof p?p(w):p;w&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),x=iN({},x,u));var S=iN({"aria-current":w&&i||null,className:_,style:x,to:a},m);return TP!==IP?S.ref=n||y:S.innerRef=y,t.createElement(EP,S)}))}));var RP,NP,PP=function(){var e=v(St);return e.map((function(e){})),(0,aP.jsxs)(DP,{children:[(0,aP.jsx)("h4",{children:"Recommended for you"}),(0,aP.jsx)(LP,{children:e&&e.map((function(e){return(0,aP.jsx)(MP,{children:(0,aP.jsx)(EP,{to:"/detail/".concat(e.id),children:(0,aP.jsx)("img",{src:e.backgroundImg})})},e.id)}))})]})},DP=eN.div(CP||(CP=Pt(["\n\n    \n\n"]))),LP=eN.div(OP||(OP=Pt(["\n     display:grid;\n     grid-gap:25px;\n     grid-template-columns:repeat(4,minmax(0,1fr));\n\n\n"]))),MP=eN.div(AP||(AP=Pt(["\n    // max-height:150px;\n    // max-width:230px;\n    border-radius:10px;\n    cursor:pointer;\n    overflow:hidden;\n    border:3px solid rgba(249,249,249,0.1);\n    box-shadow:rgb(0 0 0 /69%)0px 26px 30px -10px,\n    rgb(0 0 0 /73%)0px 16px 10px -10px;\n    transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94)0s;\nimg{\n    width:100%;\n    height:100%;\n    object-fit:cover;\n}\n&:hover{\n    transform:scale(1.05);\n    box-shadow:rgb(0 0 0 /80%)0px 40px 58px -10px,\n    rgb(0 0 0 /72%) 0px 30px 22px -10px;\n    border-color: rgba(249,249,249,0.8);\n}\n"])));var FP,jP=function(){return(0,aP.jsxs)(UP,{children:[(0,aP.jsx)(VP,{children:(0,aP.jsx)("img",{src:"/images/viewers-disney.png"})}),(0,aP.jsx)(VP,{children:(0,aP.jsx)("img",{src:"/images/viewers-pixar.png"})}),(0,aP.jsx)(VP,{children:(0,aP.jsx)("img",{src:"/images/viewers-marvel.png"})}),(0,aP.jsx)(VP,{children:(0,aP.jsx)("img",{src:"/images/viewers-starwars.png"})}),(0,aP.jsx)(VP,{children:(0,aP.jsx)("img",{src:"/images/viewers-national.png"})})]})},UP=eN.div(RP||(RP=Pt(["\n    margin-top:30px;\n    display: grid;\n    padding:30px 0px 26px;\n    grid-gap:25px;\n    grid-template-columns: repeat(5,minmax(0,1fr));\n\n"]))),VP=eN.div(NP||(NP=Pt(["\nborder-radius:10px;\ncursor:pointer;\nborder:3px solid rgba(249, 249, 249, 0.1);\nbox-shadow: rgb(0 0 0 /69% )0px 26px 30px -10px,\nrgba(0 0 0/ 73%) 0px 16px 10px -10px;\ntransition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94)0s;\n\n\nimg{\n    width:100%;\n    height:100%;\n    object-fit:cover;\n}\n&:hover{\n    box-shadow:rgb(0 0 0/ 80%)0px 40px 58px -16px,\n    rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform:scale(1.05);\n    border-color:#FFD166;\n    //rgba(249, 249, 249, 0.8);\n\n}\n\n"])));var zP,BP,qP,HP,WP,KP,GP,QP,$P,XP,YP=function(){var e=T(),n=[{backgroundImg:"https://rukminim1.flixcart.com/image/416/416/jn3hocw0/poster/j/s/q/medium-hollywood-movie-wall-poster-pirates-of-the-caribbean-dead-original-imaf9uv7zzgp6wvg.jpeg?q=70",title:"Pirates of the Caribbean",id:1},{backgroundImg:"https://wallpapercave.com/dwp1x/wp2162760.jpg",title:"Ironman 3",id:2},{backgroundImg:"https://wallpapercave.com/dwp1x/wp2162891.jpg",title:"Thor",id:3}];return(0,t.useEffect)((function(){e(xt(n))}),[]),(0,aP.jsxs)(JP,{children:[(0,aP.jsx)(yP,{}),(0,aP.jsx)(jP,{}),(0,aP.jsx)(PP,{})]})},JP=eN.main(FP||(FP=Pt(["\n    min-height: calc(100vh - 70px);\n    padding : 0 calc(3.5vw + 5px);\n    position:relative;\n    overflow-x:hidden;\n\n    &:before{\n        background:url('/images/home-background.png') center center / cover \n        no-repeat fixed;\n        content:\"\";\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        z-index:-1;\n\n    }\n    \n"])));var ZP,eD,tD,nD,rD,iD,aD=function(){var e=[{backgroundImg:"https://rukminim1.flixcart.com/image/416/416/jn3hocw0/poster/j/s/q/medium-hollywood-movie-wall-poster-pirates-of-the-caribbean-dead-original-imaf9uv7zzgp6wvg.jpeg?q=70",title:"/images/poc.png",description:"Pirates of the caribbean is one of the finest movie to wacth.. lots of advantures ... lot more entertainment movie ......",id:1,subtitle:"2018 * 7m * Family, Fantasy, Kids, Animation"},{backgroundImg:"https://wallpapercave.com/dwp1x/wp2162760.jpg",title:"/images/im3.png",description:"ironman -3 of the caribbean is one of the finest movie to wacth.. lots of advantures ... lot more entertainment movie ......",id:2,subtitle:"2017 * 7m * Family, Fantasy, Kids, Animation, science, experiment, sky, travel"},{backgroundImg:"https://wallpapercave.com/dwp1x/wp2162891.jpg",title:"/images/thor.png",description:"Thor is one of the finest movie to wacth.. lots of advantures ... lot more entertainment movie ......",id:3,subtitle:"2017 * 7m * Family, Fantasy, Kids, Animation, science, experiment, sky, travel , new world"}],n=function(){var e=JN(UN).match;return e?e.params:{}}().id,r=Bt((0,t.useState)(),2),i=r[0],a=r[1];return console.log(i),(0,t.useEffect)((function(){e.map((function(e){console.log(e),e.id==n?(a(e),console.log("if block")):console.log("else")}))}),[]),(0,aP.jsx)(oD,{children:i&&(0,aP.jsxs)(aP.Fragment,{children:[(0,aP.jsx)(uD,{children:(0,aP.jsx)("img",{src:i.backgroundImg})}),(0,aP.jsx)(sD,{children:(0,aP.jsx)("img",{src:i.title})}),(0,aP.jsxs)(cD,{children:[(0,aP.jsxs)(lD,{children:[(0,aP.jsx)("img",{src:"/images/play-icon-black.png"}),(0,aP.jsx)("span",{children:"PLAY"})]}),(0,aP.jsxs)(fD,{children:[(0,aP.jsx)("img",{src:"/images/play-icon-white.png"}),(0,aP.jsx)("span",{children:"TRAILER"})]}),(0,aP.jsx)(hD,{children:(0,aP.jsx)("span",{children:"+"})}),(0,aP.jsx)(dD,{children:(0,aP.jsx)("img",{src:"/images/group-icon.png"})})]}),(0,aP.jsx)(pD,{children:i.subtitle}),(0,aP.jsx)(vD,{children:i.description})]})})},oD=eN.div(zP||(zP=Pt(["\nmin-height: calc(100vh - 70px);\npadding:0 calc(3.5vw + 5px);\nposition:relative;\n\n"]))),uD=eN.div(BP||(BP=Pt(["\nposition:fixed;\ntop:0;\nleft:0;\nright:0;\nbottom:0;\nz-index:-1;\nopacity:0.8;\n    img{\n        width:100%;\n        height:100%;\n        object-fit:cover;\n    }\n"]))),sD=eN.div(qP||(qP=Pt(["\n\n    margin-top:60px;\n    min-height:170px;\n    min-width:200px;\n    height:30vh;\n    width:35vw;\n    // border-radius:30px;\n    // border:3px solid white;\n    img{\n\n        // border-radius:30px;\n        width:100%;\n        height:100%;\n        object-fit:contain;\n        \n    }\n"]))),cD=eN.div(HP||(HP=Pt(["\n    display:flex;\n    align-items:center;\n\n"]))),lD=eN.button(WP||(WP=Pt(["\n    border-radius:4px;\n    font-size:15px;\n    padding:0px 24px;\n    margin-right:22px;\n    display:flex;\n    align-items:center;\n    height:56px;\n    background-color:rgb(249, 249,249);\n    border:none;\n    letter-spacing:1.8px;\n    cursor:pointer;\n\n\n    &:hover{\n        background:rgb(198,198,198);\n    }\n"]))),fD=eN(lD)(KP||(KP=Pt(["\n    background:rgb(0,0,0,0.3);\n    border:1px solid rgb(249,249,249);\n    color:rgb(249,249,249);\n    text-transform:uppercase;\n\n\n\n"]))),hD=eN(lD)(GP||(GP=Pt(["\n    margin-right:16px;\n    width:44px;\n    height:44px;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    border-radius:50% ;\n    border:2px solid white;\n    background:rgb(0, 0, 0, 0.6);\n    cursor:pointer;\n    span{\n       font-size:30px;  \n       color:white;     \n    }\n"]))),dD=eN(hD)(QP||(QP=Pt(["\n     background:rgba(0,0,0)\n"]))),pD=eN.div($P||($P=Pt(["\ncolor:rgb(249, 249, 249);\nfont-size:15px;\nmin-height: 20px;\nmargin-top:26px;\n\n"]))),vD=eN.div(XP||(XP=Pt(["\n    line-height : 1.4;\n    font-size:20px;\n    margin-top:16px;\n    color:rgb(249, 249, 249);\n    max-width:760px;\n\n"])));var yD=function(){return(0,aP.jsx)(mD,{children:(0,aP.jsxs)(gD,{children:[(0,aP.jsx)(kD,{src:"/images/cta-logo-one.svg"}),(0,aP.jsx)(bD,{children:"GET ALL THERE"}),(0,aP.jsx)(wD,{children:"Shi's mom helped out behind the scenes \"Neiman-Cobb says, so Shi's own mother was enlisted to teach the artists how to make dumplings from scratch."}),(0,aP.jsx)(_D,{src:"/images/cta-logo-two.png"})]})})},mD=eN.div(ZP||(ZP=Pt(['\n    position: relative;\n    height: calc(100vh - 70px);\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    \n    \n    &:before{\n        background-position:top;\n        background-size:cover;\n        background-repeat:no-repeat;\n        background-image: url("/images/login-background.jpg");\n        position:absolute;\n        content:"";\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        z-index:-1;\n        opacity:0.7;\n    }\n']))),gD=eN.div(eD||(eD=Pt(["\n    max-width: 650px;\n    padding:80px 40px;\n    width:90%;\n    display:flex;\n    flex-direction:column;\n    margin-top:100px;\n    align-items:center;\n    \n    \n    \n\n\n\n"]))),kD=eN.img(tD||(tD=Pt(["   \n\n"]))),bD=eN.a(nD||(nD=Pt(["\n    width:100%;\n    background-color:#0063e5;\n    font-weight:bold;\n    padding:17px 0;\n    color : #f9f9f9;\n    border-radius:4px;\n    text-align:center;\n    font-size:18px;\n    cursor:pointer;\n    transition:all 250ms;\n    letter-spacing:1.5px;\n    margin-top:8px;\n    margin-bottom:12px;\n\n    &:hover{\n        background:#0483ee;\n    }\n"]))),wD=eN.p(rD||(rD=Pt(["\n    font-size:11px;\n    letter-spacing:1.5px;\n    text-align:center;\n    line-height:1.5;\n"]))),_D=eN.img(iD||(iD=Pt(["\n    width:90%;\n\n"])));var xD=function(){return(0,aP.jsx)("div",{className:"App",children:(0,aP.jsxs)(kP,{children:[(0,aP.jsx)(sP,{}),(0,aP.jsxs)(YN,{children:[(0,aP.jsx)(WN,{path:"/login",children:(0,aP.jsx)(yD,{})}),(0,aP.jsx)(WN,{path:"/detail/:id",children:(0,aP.jsx)(aD,{})}),(0,aP.jsx)(WN,{path:"/",children:(0,aP.jsx)(YP,{})})]})]})})},SD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},ED=document.getElementById("root");(0,r.s)(ED).render((0,aP.jsx)(t.StrictMode,{children:(0,aP.jsx)(w,{store:Nt,children:(0,aP.jsx)(xD,{})})})),SD()}()}();
//# sourceMappingURL=main.2fb4cee6.js.map